{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/ethevenot/multivariate/Multivariate/2.3.10", "name": "Multivariate", "version": "2.3.10", "description": "PCA, PLS and OPLS", "labels": [], "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "multivariate", "owner": "ethevenot", "changeset_revision": "5526f8258e8a", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "dataMatrix_in", "argument": null, "type": "data", "label": "Data matrix file", "help": "variable x sample, decimal: '.', missing: NA, mode: numerical, sep: tabular", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "sampleMetadata_in", "argument": null, "type": "data", "label": "Sample metadata file", "help": "sample x metadata, decimal: '.', missing: NA, mode: character and numerical, sep: tabular", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "variableMetadata_in", "argument": null, "type": "data", "label": "Variable metadata file", "help": "variable x metadata, decimal: '.', missing: NA, mode: character and numerical, sep: tabular", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "TextToolParameter", "name": "respC", "argument": null, "type": "text", "label": "Y Response (for (O)PLS(-DA) only)", "help": "Notes: 1) PCA: keep the default (none); 2) (O)PLS(-DA): indicate the name of the column of the sample table to be modeled", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "none", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "predI", "argument": null, "type": "select", "label": "Number of predictive components", "help": "Notes: 1) PCA and PLS(-DA): NA can be selected to get a suggestion of the optimal number of predictive components; 2) OPLS(-DA) modeling: select 1 predictive component", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "NA", "options": [["NA", "NA", true], ["1", "1", false], ["2", "2", false], ["3", "3", false], ["4", "4", false], ["5", "5", false], ["6", "6", false], ["7", "7", false], ["8", "8", false], ["9", "9", false], ["10", "10", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "orthoI", "argument": null, "type": "select", "label": "Number of orthogonal components (for OPLS(-DA) only)", "help": "Notes: 1) PCA and PLS(-DA): keep the default value (0); 2) OPLS(-DA): NA can be selected to get a suggestion of the optimal number of orthogonal components", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "options": [["0", "0", false], ["NA", "NA", false], ["1", "1", false], ["2", "2", false], ["3", "3", false], ["4", "4", false], ["5", "5", false], ["6", "6", false], ["7", "7", false], ["8", "8", false], ["9", "9", false], ["10", "10", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "testL", "argument": null, "type": "select", "label": "Samples to be tested", "help": "In case predictions should be computed on test samples, provide in your sampleMetadata a column named test. (use exactly this column name, with the dot at the end) and containing yes and no values to indicate which samples should be tested; for those samples, the values of the response will not be used (you can leave NA in the response column of the sample metadata)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "FALSE", "options": [["yes", "TRUE", false], ["no", "FALSE", true]], "display": null, "multiple": false, "textable": false}, {"model_class": "Conditional", "name": "advGph", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "default", "inputs": []}, {"model_class": "ConditionalWhen", "value": "full", "inputs": [{"model_class": "SelectToolParameter", "name": "typeC", "argument": null, "type": "select", "label": "Graphic type", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "summary", "options": [["correlation", "correlation", false], ["outlier", "outlier", false], ["overview", "overview", false], ["permutation", "permutation", false], ["predict-train", "predict-train", false], ["summary", "summary", true], ["x-loading", "x-loading", false], ["x-score", "x-score", false], ["x-variance", "x-variance", false], ["xy-score", "xy-score", false], ["xy-weight", "xy-weight", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "TextToolParameter", "name": "parMahalC", "argument": null, "type": "text", "label": "Ellipses", "help": "Name of the sample metadata column with the classes to be used for drawing ellipses; for (O)PLS-DA, the default 'NA' means that the same name as the 'Response' argument above will be used; if you do not want ellipses, use none instead of NA", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "NA", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "parAsColC", "argument": null, "type": "text", "label": "Sample colors", "help": "Indicate the name of the sample metadata column with the names to be converted into colors; by default (none), data matrix sample names will be used", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "none", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "parLabVc", "argument": null, "type": "text", "label": "Sample labels", "help": "Indicate the name of the sample metadata column with the names to be used as labels; By default (none), sample names from the data matrix will be used", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "none", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "parPc1I", "argument": null, "type": "select", "label": "Component to be displayed as abscissa", "help": "In case of OPLS(-DA), the first component (i.e. the predictive component) must be set to 1", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "options": [["1", "1", false], ["2", "2", false], ["3", "3", false], ["4", "4", false], ["5", "5", false], ["6", "6", false], ["7", "7", false], ["8", "8", false], ["9", "9", false], ["10", "10", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "parPc2I", "argument": null, "type": "select", "label": "Component to be displayed as ordinate", "help": "In case of OPLS(-DA), the orthogonal component of the selected value - 1 will be displayed (e.g. to see the first orthogonal component, select the value '2' below)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "2", "options": [["2", "2", false], ["3", "3", false], ["4", "4", false], ["5", "5", false], ["6", "6", false], ["7", "7", false], ["8", "8", false], ["9", "9", false], ["10", "10", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "FloatToolParameter", "name": "parCexN", "argument": null, "type": "float", "label": "Amount by which plotting text should be magnified relative to the default", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.8", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "opgC", "argument": null, "type": "select", "label": "Advanced graphical parameters", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "default", "options": [["Use default", "default", true], ["Full parameter list", "full", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "advCpt", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "default", "inputs": []}, {"model_class": "ConditionalWhen", "value": "full", "inputs": [{"model_class": "SelectToolParameter", "name": "scaleC", "argument": null, "type": "select", "label": "Scaling", "help": "Select 'standard' for mean-centering and unit-variance scaling", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "standard", "options": [["standard", "standard", false], ["center", "center", false], ["pareto", "pareto", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "permI", "argument": null, "type": "select", "label": "Permutation testing for (O)PLS(-DA): Number of permutations", "help": "Default is 20 for single response models without train/test partition, and 0 otherwise", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "20", "options": [["0", "0", false], ["20", "20", true], ["100", "100", false], ["1000", "1000", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "log10L", "argument": null, "type": "select", "label": "Log10 transformation", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "FALSE", "options": [["yes", "TRUE", false], ["no", "FALSE", true]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "algoC", "argument": null, "type": "select", "label": "Algorithm", "help": "Default algorithm is 'svd' for PCA and 'nipals' for PLS and OPLS; when performing PCA with 'svd' on an data matrix containing missing values, NAs are set to half the minimum of non-missing values and a warning is generated; an alternative is to use the 'nipals' algorithm (able to handle a moderate amount of missing values)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "default", "options": [["default", "default", false], ["nipals", "nipals", false], ["svd", "svd", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "crossvalI", "argument": null, "type": "select", "label": "Number of cross-validation segments", "help": "Must be less than or equal to the number of samples", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "7", "options": [["1", "1", false], ["2", "2", false], ["3", "3", false], ["4", "4", false], ["5", "5", false], ["6", "6", false], ["7", "7", true], ["8", "8", false], ["9", "9", false], ["10", "10", false]], "display": null, "multiple": false, "textable": false}]}], "test_param": {"model_class": "SelectToolParameter", "name": "opcC", "argument": null, "type": "select", "label": "Advanced computational parameters", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "default", "options": [["Use default", "default", true], ["Full parameter list", "full", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "BooleanToolParameter", "name": "save_rdata", "argument": null, "type": "boolean", "label": "Save RData in your history", "help": "Save the R ropls::opls object in your history for ad hoc analysis and graphing (outside Galaxy, this requires package 'bioconductor-ropls')", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "yes", "falsevalue": "no"}], "outputs": [{"model_class": "ToolOutput", "name": "sampleMetadata_out", "format": "tabular", "label": "${tool.name}_${sampleMetadata_in.name}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "variableMetadata_out", "format": "tabular", "label": "${tool.name}_${variableMetadata_in.name}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "figure", "format": "pdf", "label": "${tool.name}_figure.pdf", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3508", "edam_data": "data_2968", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "information", "format": "txt", "label": "${tool.name}_information.txt", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "ropls_out", "format": "rdata", "label": "${tool.name}_${dataMatrix_in.name}.RData", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2333", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "metabolomics", "panel_section_name": "Metabolomics", "form_style": "regular"}