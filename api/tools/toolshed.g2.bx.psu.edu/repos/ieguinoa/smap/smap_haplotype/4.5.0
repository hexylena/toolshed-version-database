{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/ieguinoa/smap/smap_haplotype/4.5.0", "name": "SMAP haplotype-sites (BETA)", "version": "4.5.0", "description": "", "labels": [], "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "smap", "owner": "ieguinoa", "changeset_revision": "7d416d98d2c9", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "input_bams", "argument": null, "type": "data", "label": "Select your alignments files", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bam"], "edam": {"edam_formats": ["format_2572"], "edam_data": ["data_0863"]}, "multiple": true, "min": null, "max": null, "options": {"hda": [], "hdca": []}, "tag": null}, {"model_class": "SelectToolParameter", "name": "mapping_orientation", "argument": "--mapping_orientation", "type": "select", "label": "Should strandedness of read mapping be considered for haplotyping?", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "ignore", "options": [["Ignore strandedness", "ignore", true], ["Consider strandedness", "stranded", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "partial", "argument": "--partial", "type": "select", "label": "Select if partial alignments should be excluded", "help": "Specify if reads are expected to be aligned at both outer positions of the locus (HiPlex, Shotgun SNPs in sliding frames) or if reads are expected to display read mapping polymorphisms along the locus (GBS, Shotgun SVs).", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "exclude", "options": [["Partially mapped reads are excluded", "exclude", true], ["Include reads that only partially cover the locus", "include", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "DataToolParameter", "name": "bed_sites_file", "argument": null, "type": "data", "label": "BED File", "help": "BED file", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bed"], "edam": {"edam_formats": ["format_3003"], "edam_data": ["data_3002"]}, "multiple": false, "options": {"hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "vcf_file", "argument": null, "type": "data", "label": "Variants positions File", "help": "Should be in VCFv4.2 format, containing variant positions. It should contain at least the first 9 columns listing the SNP positions, sample-specific genotype calls across the sampleset are not required. Positional mandatory argument, should be the third argument after smap haplotype-sites.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["vcf"], "edam": {"edam_formats": ["format_3016"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"hda": [], "hdca": []}, "tag": null}, {"model_class": "SelectToolParameter", "name": "plot", "argument": "--plot", "type": "select", "label": "Select which plots are to be generated.", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "summary", "options": [["Summary (plots with information for all samples)", "summary", true], ["All (per sample plots)", "all", false], ["Nothing", "nothing", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "TextToolParameter", "name": "undefined_representation", "argument": "--undefined_representation", "type": "text", "label": "Value to use for non-existing or masked data", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "NaN", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_mapping_quality", "argument": "--min_mapping_quality", "type": "integer", "label": "Minimum .bam mapping quality to retain reads for analysis", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "30", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "no_indels", "argument": "--no_indels", "type": "boolean", "label": "Select true in this option if you want to exclude haplotypes that contain an InDel at the given SNP/SMAP positions.", "help": "These reads are also ignored to evaluate the minimal read count", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--no_indels", "falsevalue": ""}, {"model_class": "IntegerToolParameter", "name": "min_distinct_haplotypes", "argument": "--min_distinct_haplotypes", "type": "integer", "label": "Minimal number of distinct haplotypes per locus across all samples", "help": "Loci that do not fit this criterium are removed from the final output", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "max_distinct_haplotypes", "argument": "--max_distinct_haplotypes", "type": "text", "label": "Maximal number of distinct haplotypes per locus across all samples. Loci that do not fit this criterium are removed from the final output", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "inf", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_read_count", "argument": "--min_read_count", "type": "integer", "label": "Minimal total number of reads per locus per sample", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "max_read_count", "argument": "--max_read_count", "type": "text", "label": "Maximal number of reads per locus per sample, read count is calculated after filtering out the low frequency haplotypes", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "inf", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "min_haplotype_frequency", "argument": "--min_haplotype_frequency", "type": "float", "label": "Set minimal HF (in pecentage) to retain the haplotype in the genotyping matrix", "help": "Haplotypes above this threshold in at least one of the samples are retained. Haplotypes that never reach this threshold in any of the samples are removed", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "mask_frequency", "argument": "--mask_frequency", "type": "float", "label": "Mask haplotype frequency values below this threshold for individual samples to remove noise from the final output", "help": "Haplotype frequency values below this threshold are set to -u. Haplotypes are not removed based on this value, use --min_haplotype_frequency for this purpose instead.", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "discrete_calls", "argument": "--discrete_calls", "type": "select", "label": "Discrete calls", "help": "Select dominant to transform haplotype frequency values into presence(1)/absence(0) calls per allele, or dosage to indicate the allele copy number", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "dominant", "options": [["Dominant", "dominant", true], ["Dosage", "dosage", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "TextToolParameter", "name": "frequency_interval_bounds", "argument": "--frequency_interval_bounds", "type": "text", "label": "Frequency interval bounds for classifying the read frequencies into discrete calls", "help": "Custom thresholds can be defined by passing one or more space-separated integers or floats which represent relative frequencies in percentage. For dominant calling, one value should be specified. For dosage calling, an even total number of four or more thresholds should be specified", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "dosage_filter", "argument": "--dosage_filter", "type": "integer", "label": "Mask dosage calls in the loci for which the total allele count for a given locus at a given sample differs from the defined value", "help": "For example, in diploid organisms the total allele copy number must be 2, and in tetraploids the total allele copy number must be 4. (default no filtering).", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "locus_correctness", "argument": "--locus_correctness", "type": "integer", "label": "Threshold value: % of samples with locus correctness.", "help": "Create a new .bed file defining only the loci that were correctly dosage called in at least the defined percentage of samples (default no filtering)", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}], "outputs": [{"model_class": "ToolOutputCollection", "name": "haplotype_frequencies", "format": null, "label": "Haplotypes", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": "tsv", "visible": false, "assign_primary_output": false, "directory": "haplotype_tsv_dir/", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "(?P<designation>.+)\\.tsv", "sort_by": "filename"}]}}, {"model_class": "ToolOutputCollection", "name": "barplots", "format": null, "label": "${tool.name} on ${on_string}: Barplots", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": "png", "visible": false, "assign_primary_output": false, "directory": "barplots_out/", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "(?P<designation>.+)\\.png", "sort_by": "filename"}]}}, {"model_class": "ToolOutputCollection", "name": "frequencies_histograms", "format": null, "label": "${tool.name} on ${on_string}: Frequencies histograms", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": "png", "visible": false, "assign_primary_output": false, "directory": "frequency_plots/", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "(?P<designation>.+)\\.png", "sort_by": "filename"}]}}, {"model_class": "ToolOutput", "name": "coordinates", "format": "tsv", "label": "Coordinates", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "read_counts", "format": "tsv", "label": "Read counts", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "genome_editing", "panel_section_name": "Genome editing", "form_style": "regular"}