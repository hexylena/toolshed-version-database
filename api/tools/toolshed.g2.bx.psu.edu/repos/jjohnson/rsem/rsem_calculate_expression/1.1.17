{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/jjohnson/rsem/rsem_calculate_expression/1.1.17", "name": "RSEM calculate expression", "version": "1.1.17", "description": "RNA-Seq by Expectation-Maximization", "labels": [], "edam_operations": ["operation_3800"], "edam_topics": ["topic_3170"], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "rsem", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "rsem", "owner": "jjohnson", "changeset_revision": "14267d364365", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "TextToolParameter", "name": "sample", "argument": null, "type": "text", "label": "Sample name", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "rsem_sample", "area": false, "datalist": []}, {"model_class": "Conditional", "name": "reference", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "cached", "inputs": [{"model_class": "SelectToolParameter", "name": "index", "argument": null, "type": "select", "label": "Select RSEM reference", "help": "Select from a list of pre-indexed references. If you don't see anything consult the wrapper's documentation on how to create or download a reference", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": true, "value": null, "options": [], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "history", "inputs": [{"model_class": "DataToolParameter", "name": "rsem_ref", "argument": null, "type": "data", "label": "RSEM reference", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["rsem_ref"], "edam": {"edam_formats": [null], "edam_data": [null]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "refSrc", "argument": null, "type": "select", "label": "RSEM Reference Source", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "cached", "options": [["Locally cached", "cached", false], ["From your history", "history", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "input", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "fastq", "inputs": [{"model_class": "SelectToolParameter", "name": "fastq_select", "argument": null, "type": "select", "label": "FASTQ type", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "--phred33-quals", "options": [["phred33 qualities (default for sanger)", "--phred33-quals", true], ["solexa qualities", "--solexa-quals", false], ["phred64 qualities", "--phred64-quals", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "Conditional", "name": "fastq", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "single", "inputs": [{"model_class": "DataToolParameter", "name": "singlefastq", "argument": null, "type": "data", "label": "FASTQ file", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastq"], "edam": {"edam_formats": ["format_1930"], "edam_data": ["data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "paired", "inputs": [{"model_class": "DataToolParameter", "name": "fastq1", "argument": null, "type": "data", "label": "Read 1 fastq file", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastq"], "edam": {"edam_formats": ["format_1930"], "edam_data": ["data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "fastq2", "argument": null, "type": "data", "label": "Read 2 fastq file", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastq"], "edam": {"edam_formats": ["format_1930"], "edam_data": ["data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "matepair", "argument": null, "type": "select", "label": "Library type", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "single", "options": [["Single End Reads", "single", false], ["Paired End Reads", "paired", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "bowtie_options", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "default", "inputs": []}, {"model_class": "ConditionalWhen", "value": "fullset", "inputs": [{"model_class": "IntegerToolParameter", "name": "bowtie_n", "argument": null, "type": "integer", "label": "Bowtie mismatches", "help": "Bowtie parameter max # of mismatches in the seed. (Range: 0-3, Default: 2) ", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "2", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "bowtie_e", "argument": null, "type": "integer", "label": "Maximum sum of quality scores at mismatched positions in read alignments.  This is also the value for the Bowtie -e option", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "99999999", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "bowtie_m", "argument": null, "type": "integer", "label": "Discard alignments for reads with number of alignments greater than", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "200", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "fullparams", "argument": null, "type": "select", "label": "bowtie settings", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "default", "options": [["use bowtie defaults", "default", false], ["set bowtie options", "fullset", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "ConditionalWhen", "value": "fasta", "inputs": [{"model_class": "Conditional", "name": "fasta", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "single", "inputs": [{"model_class": "DataToolParameter", "name": "singlefasta", "argument": null, "type": "data", "label": "fasta file", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta"], "edam": {"edam_formats": ["format_1929"], "edam_data": ["data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "paired", "inputs": [{"model_class": "DataToolParameter", "name": "fasta1", "argument": null, "type": "data", "label": "Read 1 fasta file", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta"], "edam": {"edam_formats": ["format_1929"], "edam_data": ["data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "fasta2", "argument": null, "type": "data", "label": "Read 2 fasta file", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta"], "edam": {"edam_formats": ["format_1929"], "edam_data": ["data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "matepair", "argument": null, "type": "select", "label": "Library Type", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "single", "options": [["Single End Reads", "single", false], ["Paired End Reads", "paired", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "bowtie_options", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "default", "inputs": []}, {"model_class": "ConditionalWhen", "value": "fullset", "inputs": [{"model_class": "IntegerToolParameter", "name": "bowtie_n", "argument": null, "type": "integer", "label": "Bowtie mismatches", "help": "Bowtie parameter max # of mismatches in the seed. (Range: 0-3, Default: 2) ", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "2", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "bowtie_e", "argument": null, "type": "integer", "label": "Maximum sum of quality scores at mismatched positions in read alignments.  This is also the value for the Bowtie -e option", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "99999999", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "bowtie_m", "argument": null, "type": "integer", "label": "Discard alignments for reads with number of alignments greater than", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "200", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "fullparams", "argument": null, "type": "select", "label": "bowtie settings", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "default", "options": [["use bowtie defaults", "default", false], ["set bowtie options", "fullset", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "ConditionalWhen", "value": "sam", "inputs": [{"model_class": "SelectToolParameter", "name": "matepair", "argument": null, "type": "select", "label": "Library Type", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "single", "options": [["Single End Reads", "single", false], ["Paired End Reads", "paired", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "DataToolParameter", "name": "rsem_sam", "argument": null, "type": "data", "label": "RSEM formatted SAM file", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["rsem_sam"], "edam": {"edam_formats": [null], "edam_data": [null]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "format", "argument": null, "type": "select", "label": "RSEM Input file type", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "fastq", "options": [["FASTQ", "fastq", false], ["FASTA", "fasta", false], ["SAM/BAM", "sam", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "IntegerToolParameter", "name": "seedlength", "argument": null, "type": "integer", "label": "Seed length used by the read aligner", "help": "Providing the correct value for this parameter is important for RSEM's accuracy if the data are single-end reads. RSEM uses this value for Bowtie's seed length parameter. The minimum value is 25. (Default:25)", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "25", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "forward_prob", "argument": null, "type": "select", "label": "Is the library strand specific?", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.5", "options": [["No", "0.5", true], ["Yes, the reads (or first reads from paired-end libraries) are only in the forward orientation", "1", false], ["Yes, the reads (or first reads from paired-end libraries) are only in the reverse orientation", "0", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "Conditional", "name": "rsem_options", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "default", "inputs": []}, {"model_class": "ConditionalWhen", "value": "fullset", "inputs": [{"model_class": "IntegerToolParameter", "name": "fragment_length_min", "argument": null, "type": "integer", "label": "Minimum read/insert length.", "help": " This is also the value for the bowtie -I option", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "fragment_length_max", "argument": null, "type": "integer", "label": "Maximum read/insert length.", "help": " This is also the value for the bowtie -X option", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "1000", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "fragment_length_mean", "argument": null, "type": "float", "label": "Fragment length mean (single-end data only)", "help": "The mean of the fragment length distribution, which is assumed to be a Gaussian. (Default: -1, which disables use of the fragment length distribution)", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "fragment_length_sd", "argument": null, "type": "float", "label": "The standard deviation of the fragment length distribution (single-end data only)", "help": "Default 0, which assumes that all fragments are of the same length, given by the rounded value of fragment length mean. ", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "Conditional", "name": "rspd", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no", "inputs": []}, {"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "IntegerToolParameter", "name": "num_rspd_bins", "argument": null, "type": "integer", "label": "Number of bins in the RSPD.", "help": "Use of the default setting of 20 is recommended.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "20", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "estimate", "argument": null, "type": "select", "label": "", "help": "Set this option if you want to estimate the read start position distribution (RSPD) from data. Otherwise, RSEM will use a uniform RSPD.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no", "options": [["Use a uniform RSPD", "no", true], ["Estimate and correct for a non-uniform RSPD", "yes", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "useci", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no", "inputs": []}, {"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "TextToolParameter", "name": "cimem", "argument": null, "type": "text", "label": "Amount of memory in (MB) for computing CI", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "1024", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "ci", "argument": null, "type": "select", "label": "Calculate 95% Credibility Intervals", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no", "options": [["no", "no", true], ["yes", "yes", false]], "display": null, "multiple": false, "textable": false}}]}], "test_param": {"model_class": "SelectToolParameter", "name": "fullparams", "argument": null, "type": "select", "label": "Additional RSEM options", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "default", "options": [["Use RSEM Defaults", "default", false], ["Set Additional RSEM Options", "fullset", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "rsem_outputs", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "none", "inputs": []}, {"model_class": "ConditionalWhen", "value": "default", "inputs": [{"model_class": "BooleanToolParameter", "name": "sampling_for_bam", "argument": null, "type": "boolean", "label": "Use sampling for BAM", "help": "When RSEM generates a BAM file, instead of outputing all alignments a read has with their posterior probabilities, one alignment is sampled according to the posterior probabilities. The sampling procedure includes the alignment to the \"noise\" transcript, which does not appear in the BAM file. Only the sampled alignment has a weight of 1. All other alignments have weight 0. If the \"noise\" transcript is sampled, all alignments appeared in the BAM file should have weight 0. (Default: off)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--sampling-for-bam", "falsevalue": ""}]}, {"model_class": "ConditionalWhen", "value": "both", "inputs": [{"model_class": "BooleanToolParameter", "name": "sampling_for_bam", "argument": null, "type": "boolean", "label": "Use sampling for BAM", "help": "When RSEM generates a BAM file, instead of outputing all alignments a read has with their posterior probabilities, one alignment is sampled according to the posterior probabilities. The sampling procedure includes the alignment to the \"noise\" transcript, which does not appear in the BAM file. Only the sampled alignment has a weight of 1. All other alignments have weight 0. If the \"noise\" transcript is sampled, all alignments appeared in the BAM file should have weight 0. (Default: off)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--sampling-for-bam", "falsevalue": ""}]}], "test_param": {"model_class": "SelectToolParameter", "name": "result_bams", "argument": null, "type": "select", "label": "Create bam results files", "help": "In addition to the transcript-coordinate-based BAM file output, also output a BAM file with the read alignments in genomic coordinates", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "default", "options": [["No BAM results files", "none", false], ["Transcript BAM results file", "default", true], ["Transcript and genome BAM results files", "both", false]], "display": null, "multiple": false, "textable": false}}], "outputs": [{"model_class": "ToolOutput", "name": "gene_abundances", "format": "tabular", "label": "${sample}.gene_abundances", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "rsem_output.genes.results", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "isoform_abundances", "format": "tabular", "label": "${sample}.isoform_abundances", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "rsem_output.isoforms.results", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "transcript_bam", "format": "bam", "label": "${sample}.transcript.bam", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "rsem_output.transcript.bam", "edam_format": "format_2572", "edam_data": "data_0863", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "transcript_sorted_bam", "format": "bam", "label": "${sample}.transcript.bam", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "rsem_output.transcript.sorted.bam", "edam_format": "format_2572", "edam_data": "data_0863", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "genome_bam", "format": "bam", "label": "${sample}.genome.bam", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "rsem_output.genome.bam", "edam_format": "format_2572", "edam_data": "data_0863", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "genome_sorted_bam", "format": "bam", "label": "${sample}.genome.sorted.bam", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "rsem_output.genome.sorted.bam", "edam_format": "format_2572", "edam_data": "data_0863", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "log", "format": "txt", "label": "${sample}.rsem_log", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "rna_analysis", "panel_section_name": "RNA Analysis", "form_style": "regular"}