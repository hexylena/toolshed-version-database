{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/bgruening/whisper/whisper/20231117+galaxy0", "name": "Speech to Text", "version": "20231117+galaxy0", "description": "Transcribe audio or video files to text using the OpenAI Whisper", "labels": [], "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "whisper", "owner": "bgruening", "changeset_revision": "02fa7b2245e6", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "infile", "argument": null, "type": "data", "label": "Select audio or video file", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["wav", "mp3", "mkv", "flv", "mpg", "ogg", "wma", "mp4"], "edam": {"edam_formats": ["format_2333", "format_2333", "format_2333", "format_2333", "format_2333", null, null, "format_2333"], "edam_data": ["data_0006", "data_0006", "data_0006", "data_0006", "data_0006", null, null, "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "SelectToolParameter", "name": "model", "argument": "--model", "type": "select", "label": "Speech to Text Model", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "small", "options": [["Tiny (~32x faster than the large model)", "tiny", false], ["Base (~16x faster than the large model)", "base", false], ["Small (~6x faster than the large model)", "small", true], ["Medium (~2x faster than the large model)", "medium", false], ["Large", "large", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "language", "argument": "--language", "type": "select", "label": "Language", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "options": [["Auto (detect language)", "", false], ["Afrikaans", "Afrikaans", false], ["Albanian", "Albanian", false], ["Amharic", "Amharic", false], ["Arabic", "Arabic", false], ["Armenian", "Armenian", false], ["Assamese", "Assamese", false], ["Azerbaijani", "Azerbaijani", false], ["Bashkir", "Bashkir", false], ["Basque", "Basque", false], ["Belarusian", "Belarusian", false], ["Bengali", "Bengali", false], ["Bosnian", "Bosnian", false], ["Breton", "Breton", false], ["Bulgarian", "Bulgarian", false], ["Burmese", "Burmese", false], ["Cantonese", "Cantonese", false], ["Castilian", "Castilian", false], ["Catalan", "Catalan", false], ["Chinese", "Chinese", false], ["Croatian", "Croatian", false], ["Czech", "Czech", false], ["Danish", "Danish", false], ["Dutch", "Dutch", false], ["English", "English", false], ["Estonian", "Estonian", false], ["Faroese", "Faroese", false], ["Finnish", "Finnish", false], ["Flemish", "Flemish", false], ["French", "French", false], ["Galician", "Galician", false], ["Georgian", "Georgian", false], ["German", "German", false], ["Greek", "Greek", false], ["Gujarati", "Gujarati", false], ["Haitian", "Haitian", false], ["Haitian Creole", "Haitian Creole", false], ["Hausa", "Hausa", false], ["Hawaiian", "Hawaiian", false], ["Hebrew", "Hebrew", false], ["Hindi", "Hindi", false], ["Hungarian", "Hungarian", false], ["Icelandic", "Icelandic", false], ["Indonesian", "Indonesian", false], ["Italian", "Italian", false], ["Japanese", "Japanese", false], ["Javanese", "Javanese", false], ["Kannada", "Kannada", false], ["Kazakh", "Kazakh", false], ["Khmer", "Khmer", false], ["Korean", "Korean", false], ["Lao", "Lao", false], ["Latin", "Latin", false], ["Latvian", "Latvian", false], ["Letzeburgesch", "Letzeburgesch", false], ["Lingala", "Lingala", false], ["Lithuanian", "Lithuanian", false], ["Luxembourgish", "Luxembourgish", false], ["Macedonian", "Macedonian", false], ["Malagasy", "Malagasy", false], ["Malay", "Malay", false], ["Malayalam", "Malayalam", false], ["Maltese", "Maltese", false], ["Mandarin", "Mandarin", false], ["Maori", "Maori", false], ["Marathi", "Marathi", false], ["Moldavian", "Moldavian", false], ["Moldovan", "Moldovan", false], ["Mongolian", "Mongolian", false], ["Myanmar", "Myanmar", false], ["Nepali", "Nepali", false], ["Norwegian", "Norwegian", false], ["Nynorsk", "Nynorsk", false], ["Occitan", "Occitan", false], ["Panjabi", "Panjabi", false], ["Pashto", "Pashto", false], ["Persian", "Persian", false], ["Polish", "Polish", false], ["Portuguese", "Portuguese", false], ["Punjabi", "Punjabi", false], ["Pushto", "Pushto", false], ["Romanian", "Romanian", false], ["Russian", "Russian", false], ["Sanskrit", "Sanskrit", false], ["Serbian", "Serbian", false], ["Shona", "Shona", false], ["Sindhi", "Sindhi", false], ["Sinhala", "Sinhala", false], ["Sinhalese", "Sinhalese", false], ["Slovak", "Slovak", false], ["Slovenian", "Slovenian", false], ["Somali", "Somali", false], ["Spanish", "Spanish", false], ["Sundanese", "Sundanese", false], ["Swahili", "Swahili", false], ["Swedish", "Swedish", false], ["Tagalog", "Tagalog", false], ["Tajik", "Tajik", false], ["Tamil", "Tamil", false], ["Tatar", "Tatar", false], ["Telugu", "Telugu", false], ["Thai", "Thai", false], ["Tibetan", "Tibetan", false], ["Turkish", "Turkish", false], ["Turkmen", "Turkmen", false], ["Ukrainian", "Ukrainian", false], ["Urdu", "Urdu", false], ["Uzbek", "Uzbek", false], ["Valencian", "Valencian", false], ["Vietnamese", "Vietnamese", false], ["Welsh", "Welsh", false], ["Yiddish", "Yiddish", false], ["Yoruba", "Yoruba", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "output_format", "argument": "--output_format", "type": "select", "label": "Output Format", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "txt", "options": [["Text", "txt", true], ["JSON", "json", false], ["SubRip", "srt", false], ["WebVTT", "vtt", false], ["Tab-separated values", "tsv", false]], "display": null, "multiple": true, "textable": false}, {"model_class": "Section", "name": "advanced", "type": "section", "title": "Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "IntegerToolParameter", "name": "temperature", "argument": "--temperature", "type": "integer", "label": "Temperature", "help": "Temperature to use for sampling", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "best_of", "argument": "--best_of", "type": "integer", "label": "Best of", "help": "Number of candidates when sampling with non-zero temperature", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "5", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "beam_size", "argument": "--beam_size", "type": "integer", "label": "Beam size", "help": "Number of beams in beam search, only applicable when temperature is zero", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "5", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "patience", "argument": "--patience", "type": "float", "label": "Optional patience value to use in beam decoding", "help": "As in https://arxiv.org/abs/2204.05424, the default (1.0) is equivalent to conventional beam search", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "length_penalty", "argument": "--length_penalty", "type": "float", "label": "Optional token length penalty coefficient (alpha)", "help": "As in https://arxiv.org/abs/1609.08144, uses simple length normalization by default", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "suppress_tokens", "argument": "--suppress_tokens", "type": "integer", "label": "Suppress tokens", "help": "Comma-separated list of token ids to suppress during sampling; -1 will suppress most special characters except common punctuations", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "-1", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "initial_prompt", "argument": "--initial_prompt", "type": "text", "label": "Initial prompt", "help": "Optional text to provide as a prompt for the first window", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "condition_on_previous_text", "argument": "--condition_on_previous_text", "type": "boolean", "label": "Condition on previous text", "help": "If True, provide the previous output of the model as a prompt for the next window; disabling may make the text inconsistent across windows, but the model becomes less prone to getting stuck in a failure loop", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "True", "falsevalue": "False"}, {"model_class": "FloatToolParameter", "name": "temperature_increment_on_fallback", "argument": "--temperature_increment_on_fallback", "type": "float", "label": "Temperature increment on fallback", "help": "Temperature to increase when falling back when the decoding fails to meet either of the thresholds below", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.2", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "compression_ratio_threshold", "argument": "--compression_ratio_threshold", "type": "float", "label": "Compression ratio threshold", "help": "If the gzip compression ratio is higher than this value, treat the decoding as failed", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "2.4", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "logprob_threshold", "argument": "--logprob_threshold", "type": "float", "label": "Logprob threshold", "help": "If the average log probability is lower than this value, treat the decoding as failed", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "-1.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "no_speech_threshold", "argument": "--no_speech_threshold", "type": "float", "label": "No speech threshold", "help": "If the probability of the |nospeech| token is higher than this value AND the decoding has failed due to `logprob_threshold`, consider the segment as silence", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.6", "area": false, "datalist": []}, {"model_class": "Conditional", "name": "word_timestamps", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "True", "inputs": [{"model_class": "BooleanToolParameter", "name": "highlight_words", "argument": "--highlight_words", "type": "boolean", "label": "Highlight words", "help": "Underline each word as it is spoken in srt and vtt", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "True", "falsevalue": "False"}, {"model_class": "IntegerToolParameter", "name": "max_line_width", "argument": "--max_line_width", "type": "integer", "label": "Max line width", "help": "The maximum number of characters in a line before breaking the line", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "max_line_count", "argument": "--max_line_count", "type": "integer", "label": "Max line count", "help": "The maximum number of lines in a segment", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "max_words_per_line", "argument": "--max_words_per_line", "type": "integer", "label": "Max words per line", "help": "No effect with --max_line_width. the maximum number of words in a segment", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "False", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "word_timestamps", "argument": "--word_timestamps", "type": "select", "label": "Extract word timestamps?", "help": "(experimental) Extract word-level timestamps and refine the results based on them", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "False", "options": [["False", "False", false], ["True", "True", false]], "display": null, "multiple": false, "textable": false}}]}], "outputs": [{"model_class": "ToolOutput", "name": "output_txt", "format": "txt", "label": "${tool.name} on ${on_string}.txt", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "./outs/input.txt", "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "output_json", "format": "json", "label": "${tool.name} on ${on_string}.json", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "./outs/input.json", "edam_format": "format_3464", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "output_srt", "format": "txt", "label": "${tool.name} on ${on_string}.srt", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "./outs/input.srt", "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "output_vtt", "format": "txt", "label": "${tool.name} on ${on_string}.vtt", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "./outs/input.vtt", "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "output_tsv", "format": "tabular", "label": "${tool.name} on ${on_string}.tsv", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "./outs/input.tsv", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": []}], "panel_section_id": "machine_learning", "panel_section_name": "Machine Learning", "form_style": "regular"}