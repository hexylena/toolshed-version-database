{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/bgruening/hicexplorer_hicaggregatecontacts/hicexplorer_hicaggregatecontacts/3.7.2+galaxy0", "name": "hicAggregateContacts", "version": "3.7.2+galaxy0", "description": "allow plotting of aggregated Hi-C contacts between regions specified in a file", "labels": [], "edam_operations": ["operation_0337", "operation_3435", "operation_2428"], "edam_topics": ["topic_0654", "topic_0769", "topic_3295", "topic_3940", "topic_3169"], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "hicexplorer", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "hicexplorer_hicaggregatecontacts", "owner": "bgruening", "changeset_revision": "f0216498a666", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "matrix_h5_cooler", "argument": null, "type": "data", "label": "Matrix to compute on", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["h5", "cool"], "edam": {"edam_formats": ["format_3590", "format_3590"], "edam_data": ["data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "BED", "argument": "--BED", "type": "data", "label": "Interactions between regions in this BED file are plotted", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bed"], "edam": {"edam_formats": ["format_3003"], "edam_data": ["data_3002"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "BED2", "argument": "--BED2", "type": "data", "label": "Interactions between regions in first and second BED file are plotted", "help": "", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bed"], "edam": {"edam_formats": ["format_3003"], "edam_data": ["data_3002"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "IntegerToolParameter", "name": "range_min", "argument": null, "type": "integer", "label": "Minimum range to consider interactions", "help": "The minimum range should be farer from the diagonal than median TAD size in order to reduce background interactions.", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "range_max", "argument": null, "type": "integer", "label": "Maximum range to consider interactions", "help": "", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "mode", "argument": "--mode", "type": "select", "label": "Regions to consider.", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "all", "options": [["inter-chr", "inter-chr", false], ["intra-chr", "intra-chr", false], ["all", "all", true]], "display": null, "multiple": false, "textable": false}, {"model_class": "BooleanToolParameter", "name": "row_wise", "argument": "--row_wise", "type": "boolean", "label": "Row wise", "help": "If given,the insteractions between each row of the BED file and its                  corresponding row of the BED2 file are computed. If intra-chromosomal                  contacts are computed, the rows with different chromosomes are ignored.                  If inter-chromosomal, the rows with same chromosomes are ignored.                  It keeps all the rows if `all`.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--row_wise", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "perChr", "argument": "--perChr", "type": "boolean", "label": "Per chromosome", "help": "If set, it generates a plot per chromosome. It is only affected if intra-chromosomal contacts are of interest.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--perChr", "falsevalue": ""}, {"model_class": "Repeat", "name": "chromosomes", "type": "repeat", "title": "List of chromosomes to plot", "help": null, "default": 0, "min": 0, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "chromosome", "argument": null, "type": "text", "label": "chromosome (one per field)", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}, {"model_class": "IntegerToolParameter", "name": "numberOfBins", "argument": "--numberOfBins", "type": "integer", "label": "Number of bins to include in the submatrix", "help": "The bed regions will be centered between -half number of bins and +half number of bins indicated.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "transform", "argument": "--transform", "type": "select", "label": "Type of transformation for the matrix", "help": "If total counts are selected, then the sub-matrix values             are divided by the total counts for normalization. If             z-score or obs/exp are selected, then H-C matrix is             converted into a z-score or observed / expected matrix.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "none", "options": [["none", "none", true], ["total-counts", "total-counts", false], ["z-score", "z-score", false], ["obs/exp", "obs/exp", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "operationType", "argument": "--operationType", "type": "select", "label": "Type of operation to compute final matrix", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "median", "options": [["median", "median", true], ["mean", "mean", false], ["sum", "sum", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "BooleanToolParameter", "name": "considerStrandDirection", "argument": "--considerStrandDirection", "type": "boolean", "label": "Consider strand direction", "help": "This parameter specifies if the strand information is taken into account for the aggregation. It has the effect that the contacts of a reverse strand region are inverted e.g. [1,2,3] becomes [3,2,1].", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--considerStrandDirection", "falsevalue": ""}, {"model_class": "SelectToolParameter", "name": "largeRegionsOperation", "argument": "--largeRegionsOperation", "type": "select", "label": "Large regions operation", "help": "If a given coordinate in the bed file is larger than                             a bin of the input matrix, by default only the first bin                             is taken into account. However there are more posibilities                             to handel such a case. Users can ask for the last bin or                             for center of the region. As an example if a region falls into bins [4,5,6]                             and `--numberOfBins = 2` then if first, bins [3,4,5] are kept.                             If last: [5,6,7] and if center: [4,5,6].", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "first", "options": [["first", "first", true], ["last", "last", false], ["center", "center", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "clustering", "argument": null, "type": "select", "label": "Number of clusters per chromosome", "help": "When this option is set, then the matrix is split into                   clusters using the hierarchical clustering algorithm,                   using 'ward linkage'. hclust could be very slow if                   you have >1000 submatrices per chromosome. In those                   cases, you might prefer kmeans.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "options": [["kmeans", "--kmeans", false], ["hclust (#clusters per chromosome)", "--hclust", false], ["spectral", "--spectral", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "howToCluster", "argument": "--howToCluster", "type": "select", "label": "How to cluster", "help": "Options are 'full', 'center' and 'diagonal'. The full clustering '                 'takes all values of each submatrix for clustering. center, takes only a square of '                 'length 3x3 from each submatrix and uses only  this values for clustering. With the '                 'diagonal option the clustering is only carried out based on the submatrix diagonal '                 '(representing values at the same distance to each other)", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "options": [["full", "full", false], ["center", "center", false], ["diagonal", "diagonal", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "plotType", "argument": "--plotType", "type": "select", "label": "Plot type", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "options": [["2D", "2d", false], ["3D", "3d", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "colormap", "argument": "--colorMap", "type": "select", "label": "Color map to use for the heatmap", "help": " Available color map names can be found here: https://matplotlib.org/examples/color/colormaps_reference.html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "RdYlBu_r", "options": [["RdYlBu", "RdYlBu", false], ["Accent", "Accent", false], ["Spectral", "Spectral", false], ["Set1", "Set1", false], ["Set2", "Set2", false], ["Set3", "Set3", false], ["Dark2", "Dark2", false], ["Reds", "Reds", false], ["Oranges", "Oranges", false], ["Greens", "Greens", false], ["Blues", "Blues", false], ["Greys", "Greys", false], ["Purples", "Purples", false], ["Paired", "Paired", false], ["Pastel1", "Pastel1", false], ["Pastel2", "Pastel2", false], ["spring", "spring", false], ["summer", "summer", false], ["autumn", "autumn", false], ["winter", "winter", false], ["hot", "hot", false], ["coolwarm", "coolwarm", false], ["cool", "cool", false], ["seismic", "seismic", false], ["terrain", "terrain", false], ["ocean", "ocean", false], ["rainbow", "rainbow", false], ["bone", "bone", false], ["flag", "flag", false], ["prism", "prism", false], ["cubehelix", "cubehelix", false], ["binary", "binary", false], ["pink", "pink", false], ["gray", "gray", false], ["copper", "copper", false], ["BrBG", "BrBG", false], ["BuGn", "BuGn", false], ["BuPu", "BuPu", false], ["GnBu", "GnBu", false], ["OrRd", "OrRd", false], ["PiYG", "PiYG", false], ["PRGn", "PRGn", false], ["PuOr", "PuOr", false], ["PuRd", "PuRd", false], ["PuBu", "PuBu", false], ["RdBu", "RdBu", false], ["RdGy", "RdGy", false], ["RdPu", "RdPu", false], ["YlGn", "YlGn", false], ["PuBuGn", "PuBuGn", false], ["RdYlGn", "RdYlGn", false], ["YlGnBu", "YlGnBu", false], ["YlOrBr", "YlOrBr", false], ["YlOrRd", "YlOrRd", false], ["gist_gray", "gist_gray", false], ["gist_stern", "gist_stern", false], ["gist_earth", "gist_earth", false], ["gist_yarg", "gist_yarg", false], ["gist_ncar", "gist_ncar", false], ["gist_rainbow", "gist_rainbow", false], ["gist_heat", "gist_heat", false], ["gnuplot", "gnuplot", false], ["gnuplot2", "gnuplot2", false], ["CMRmap", "CMRmap", false], ["bwr", "bwr", false], ["hsv", "hsv", false], ["brg", "brg", false], ["jet", "jet", false], ["afmhot", "afmhot", false], ["plasma", "plasma", false], ["Accent reversed", "Accent_r", false], ["Spectral reversed", "Spectral_r", false], ["Set1 reversed", "Set1_r", false], ["Set2 reversed", "Set2_r", false], ["Set3 reversed", "Set3_r", false], ["Dark2 reversed", "Dark2_r", false], ["Reds reversed", "Reds_r", false], ["Oranges reversed", "Oranges_r", false], ["Greens reversed", "Greens_r", false], ["Blues reversed", "Blues_r", false], ["Greys reversed", "Greys_r", false], ["Purples reversed", "Purples_r", false], ["Paired reversed", "Paired_r", false], ["Pastel1 reversed", "Pastel1_r", false], ["Pastel2 reversed", "Pastel2_r", false], ["spring reversed", "spring_r", false], ["summer reversed", "summer_r", false], ["autumn reversed", "autumn_r", false], ["winter reversed", "winter_r", false], ["hot reversed", "hot_r", false], ["coolwarm reversed", "coolwarm_r", false], ["cool reversed", "cool_r", false], ["seismic reversed", "seismic_r", false], ["terrain reversed", "terrain_r", false], ["ocean reversed", "ocean_r", false], ["rainbow reversed", "rainbow_r", false], ["bone reversed", "bone_r", false], ["flag reversed", "flag_r", false], ["prism reversed", "prism_r", false], ["cubehelix reversed", "cubehelix_r", false], ["binary reversed", "binary_r", false], ["pink reversed", "pink_r", false], ["gray reversed", "gray_r", false], ["copper reversed", "copper_r", false], ["BrBG reversed", "BrBG_r", false], ["BuGn reversed", "BuGn_r", false], ["BuPu reversed", "BuPu_r", false], ["GnBu reversed", "GnBu_r", false], ["OrRd reversed", "OrRd_r", false], ["PiYG reversed", "PiYG_r", false], ["PRGn reversed", "PRGn_r", false], ["PuOr reversed", "PuOr_r", false], ["PuRd reversed", "PuRd_r", false], ["PuBu reversed", "PuBu_r", false], ["RdBu reversed", "RdBu_r", false], ["RdGy reversed", "RdGy_r", false], ["RdPu reversed", "RdPu_r", false], ["YlGn reversed", "YlGn_r", false], ["PuBuGn reversed", "PuBuGn_r", false], ["RdYlBu reversed", "RdYlBu_r", true], ["RdYlGn reversed", "RdYlGn_r", false], ["YlGnBu reversed", "YlGnBu_r", false], ["YlOrBr reversed", "YlOrBr_r", false], ["YlOrRd reversed", "YlOrRd_r", false], ["gist_gray reversed", "gist_gray_r", false], ["gist_stern reversed", "gist_stern_r", false], ["gist_earth reversed", "gist_earth_r", false], ["gist_yarg reversed", "gist_yarg_r", false], ["gist_ncar reversed", "gist_ncar_r", false], ["gist_rainbow reversed", "gist_rainbow_r", false], ["gist_heat reversed", "gist_heat_r", false], ["gnuplot reversed", "gnuplot_r", false], ["gnuplot2 reversed", "gnuplot2_r", false], ["CMRmap reversed", "CMRmap_r", false], ["bwr reversed", "bwr_r", false], ["hsv reversed", "hsv_r", false], ["brg reversed", "brg_r", false], ["jet reversed", "jet_r", false], ["afmhot reversed", "afmhot_r", false], ["plasma reversed", "plasma_r", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "FloatToolParameter", "name": "vMin", "argument": "--vMin", "type": "float", "label": "vMin", "help": "Minimum value of the plotted score.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "vMax", "argument": "--vMax", "type": "float", "label": "vMax", "help": "Maximum value of the plotted score.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "image_file_format", "argument": null, "type": "select", "label": "Image output format", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "png", "options": [["png", "png", true], ["svg", "svg", false], ["pdf", "pdf", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "outputs", "argument": null, "type": "select", "label": "Optional output files", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "options": [["Save values underlying the final matrix", "PrefixMatrix", false], ["Save the position of the contacts", "outFileContactPairs", false], ["Heatmap file per chromosome", "HeatmapFile", false], ["Save obs/exp matrix", "outFileObsExp", false]], "display": null, "multiple": true, "textable": false}], "outputs": [{"model_class": "ToolOutputCollection", "name": "matrix_values", "format": null, "label": "${tool.name} on ${on_string}: Matrix values", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": "tabular", "visible": false, "assign_primary_output": false, "directory": "./", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "matrix_values_(?P<designation>.*)\\..*", "sort_by": "filename"}]}}, {"model_class": "ToolOutputCollection", "name": "contact_positions", "format": null, "label": "${tool.name} on ${on_string}: Contact positions", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": "tabular", "visible": false, "assign_primary_output": false, "directory": "./", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "contact_positions_(?P<designation>.*)\\..*", "sort_by": "filename"}]}}, {"model_class": "ToolOutputCollection", "name": "heatmap", "format": null, "label": "${tool.name} on ${on_string}: Heatmap", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": "tabular", "visible": false, "assign_primary_output": false, "directory": "./", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "heatmap_(?P<designation>.*)\\..*", "sort_by": "filename"}]}}, {"model_class": "ToolOutput", "name": "outFileName", "format": "png", "label": "${tool.name} on ${on_string}: Plot", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "plot", "edam_format": "format_3603", "edam_data": "data_2968", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "matrix_obs_exp_output", "format": "h5", "label": "${tool.name} MATRIX on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "matrix", "edam_format": "format_3590", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "hicexplorer", "panel_section_name": "HiCExplorer", "form_style": "regular"}