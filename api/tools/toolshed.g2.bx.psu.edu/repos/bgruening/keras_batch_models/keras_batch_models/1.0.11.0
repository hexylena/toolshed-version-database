{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/bgruening/keras_batch_models/keras_batch_models/1.0.11.0", "name": "Build Deep learning Batch Training Models", "version": "1.0.11.0", "description": "with online data generator for Genomic/Protein sequences and images", "labels": [], "edam_operations": ["operation_2990", "operation_3935", "operation_3659", "operation_3432"], "edam_topics": ["topic_0092", "topic_3474"], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "scikit-learn", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "keras_batch_models", "owner": "bgruening", "changeset_revision": "61b2d8f8811e", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "Conditional", "name": "mode_selection", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "train_model", "inputs": [{"model_class": "DataToolParameter", "name": "infile_json", "argument": null, "type": "data", "label": "Select the dataset containing model configurations (JSON)", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["json"], "edam": {"edam_formats": ["format_3464"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "SelectToolParameter", "name": "learning_type", "argument": null, "type": "select", "label": "Select a learning class", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "KerasGBatchClassifier", "options": [["KerasGBatchClassifier -- Build a training model with batch data generator", "KerasGBatchClassifier", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "Conditional", "name": "generator_selection", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "FastaDNABatchGenerator", "inputs": [{"model_class": "IntegerToolParameter", "name": "seq_length", "argument": "seq_length", "type": "integer", "label": "", "help": "Integer. Sequence length or number of bases.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "1000", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "shuffle", "argument": "shuffle", "type": "boolean", "label": "", "help": "Whether to shuffle the data between epochs.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "booltrue", "falsevalue": "boolfalse"}, {"model_class": "IntegerToolParameter", "name": "seed", "argument": "seed", "type": "integer", "label": "", "help": "Integer, random seed for data shuffling", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "FastaRNABatchGenerator", "inputs": [{"model_class": "IntegerToolParameter", "name": "seq_length", "argument": "seq_length", "type": "integer", "label": "", "help": "Integer. Sequence length or number of bases.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "1000", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "shuffle", "argument": "shuffle", "type": "boolean", "label": "", "help": "Whether to shuffle the data between epochs.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "booltrue", "falsevalue": "boolfalse"}, {"model_class": "IntegerToolParameter", "name": "seed", "argument": "seed", "type": "integer", "label": "", "help": "Integer, random seed for data shuffling", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "FastaProteinBatchGenerator", "inputs": [{"model_class": "IntegerToolParameter", "name": "seq_length", "argument": "seq_length", "type": "integer", "label": "", "help": "Integer. Sequence length or number of bases.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "1000", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "shuffle", "argument": "shuffle", "type": "boolean", "label": "", "help": "Whether to shuffle the data between epochs.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "booltrue", "falsevalue": "boolfalse"}, {"model_class": "IntegerToolParameter", "name": "seed", "argument": "seed", "type": "integer", "label": "", "help": "Integer, random seed for data shuffling", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "GenomicIntervalBatchGenerator", "inputs": [{"model_class": "IntegerToolParameter", "name": "seq_length", "argument": "seq_length", "type": "integer", "label": "", "help": "Integer. Sequence length or number of bases.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "1000", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "shuffle", "argument": "shuffle", "type": "boolean", "label": "", "help": "Whether to shuffle the data between epochs.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "booltrue", "falsevalue": "boolfalse"}, {"model_class": "IntegerToolParameter", "name": "seed", "argument": "seed", "type": "integer", "label": "", "help": "Integer, random seed for data shuffling", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "blacklist_regions", "argument": "blacklist_regions", "type": "select", "label": "", "help": "Tabix-indexed list of regions from which we should not output sequences", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "hg38", "options": [["hg38", "hg38", true], ["hg19", "hg19", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "IntegerToolParameter", "name": "center_bin_to_predict", "argument": "center_bin_to_predict", "type": "integer", "label": "", "help": "Query the tabix-indexed file for a region of length.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "200", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "feature_thresholds", "argument": "feature_thresholds", "type": "float", "label": "", "help": "Threshold values to determine target value.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.5", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "random_state", "argument": "random_state", "type": "integer", "label": "", "help": "Random seed number, to control the sample position in each invertal.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "none", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "generator_type", "argument": null, "type": "select", "label": "Select a batch data generator", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "FastaDNABatchGenerator", "options": [["FastaDNABatchGenerator -- Online transformation of DNA sequences", "FastaDNABatchGenerator", true], ["FastaRNABatchGenerator -- Online transformation of RNA sequences", "FastaRNABatchGenerator", false], ["FastaProteinBatchGenerator -- Online transformation of Protein sequences", "FastaProteinBatchGenerator", false], ["GenomicIntervalBatchGenerator - Online transformation of genomic sequences from a reference genome and intervals", "GenomicIntervalBatchGenerator", false], ["To be determined", "none", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Section", "name": "compile_params", "type": "section", "title": "Compile Parameters", "help": null, "expanded": true, "inputs": [{"model_class": "SelectToolParameter", "name": "loss", "argument": null, "type": "select", "label": "Select a loss function", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "binary_crossentropy", "options": [["binary_crossentropy", "binary_crossentropy", true], ["mse / MSE/ mean_squared_error", "mean_squared_error", false], ["mae / MAE / mean_absolute_error", "mean_absolute_error", false], ["mape / MAPE / mean_absolute_percentage_error", "mean_absolute_percentage_error", false], ["msle / MSLE / mean_squared_logarithmic_error", "mean_squared_logarithmic_error", false], ["squared_hinge", "squared_hinge", false], ["hinge", "hinge", false], ["categorical_hinge", "categorical_hinge", false], ["logcosh", "logcosh", false], ["categorical_crossentropy", "categorical_crossentropy", false], ["sparse_categorical_crossentropy", "sparse_categorical_crossentropy", false], ["kld / KLD / kullback_leibler_divergence", "kullback_leibler_divergence", false], ["poisson", "poisson", false], ["cosine / cosine_proximity", "cosine_proximity", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "Conditional", "name": "optimizer_selection", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "RMSprop", "inputs": [{"model_class": "Section", "name": "optimizer_options", "type": "section", "title": "Optimizer Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "FloatToolParameter", "name": "learning_rate", "argument": "learning_rate", "type": "float", "label": "Learning rate", "help": "float >= 0", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.001", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "rho", "argument": "rho", "type": "float", "label": "rho", "help": "Float. Discounting factor for the history/coming gradient.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.9", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "momentum", "argument": "momentum", "type": "float", "label": "momentum", "help": "Float.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "epsilon", "argument": "epsilon", "type": "float", "label": "epsilon", "help": "A small constant for numerical stability.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "1e-07", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "centered", "argument": "centered", "type": "boolean", "label": "centered", "help": "If True, gradients are normalized by the estimated variance of the gradient; if False, by the uncentered second moment.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "booltrue", "falsevalue": "boolfalse"}]}]}, {"model_class": "ConditionalWhen", "value": "SGD", "inputs": [{"model_class": "Section", "name": "optimizer_options", "type": "section", "title": "Optimizer Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "FloatToolParameter", "name": "learning_rate", "argument": "learning_rate", "type": "float", "label": "Learning rate", "help": "float >= 0", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.01", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "momentum", "argument": "momentum", "type": "float", "label": "Momentum", "help": "float >= 0. Parameter that accelerates SGD in the relevant direction and dampens oscillations.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "nesterov", "argument": "nesterov", "type": "boolean", "label": "Whether to apply Nesterov momentum", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "booltrue", "falsevalue": "boolfalse"}]}]}, {"model_class": "ConditionalWhen", "value": "Adagrad", "inputs": [{"model_class": "Section", "name": "optimizer_options", "type": "section", "title": "Optimizer Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "FloatToolParameter", "name": "learning_rate", "argument": "learning_rate", "type": "float", "label": "Learning rate", "help": "float >= 0", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.001", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "initial_accumulator_value", "argument": "initial_accumulator_value", "type": "float", "label": "initial_accumulator_value", "help": "Float, <= 0.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.1", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "epsilon", "argument": "epsilon", "type": "float", "label": "epsilon", "help": "A small constant for numerical stability.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "1e-07", "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "Adadelta", "inputs": [{"model_class": "Section", "name": "optimizer_options", "type": "section", "title": "Optimizer Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "FloatToolParameter", "name": "learning_rate", "argument": "learning_rate", "type": "float", "label": "Learning rate", "help": "float >= 0", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.001", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "rho", "argument": "rho", "type": "float", "label": "rho", "help": "Float, >= 0. The decay rate.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.95", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "epsilon", "argument": "epsilon", "type": "float", "label": "epsilon", "help": "A small constant for numerical stability.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "1e-07", "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "Adam", "inputs": [{"model_class": "Section", "name": "optimizer_options", "type": "section", "title": "Optimizer Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "FloatToolParameter", "name": "learning_rate", "argument": "learning_rate", "type": "float", "label": "Learning rate", "help": "float >= 0", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.001", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "beta_1", "argument": "beta_1", "type": "float", "label": "beta_1", "help": "Float. The exponential decay rate for the 1st moment estimates.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.9", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "beta_2", "argument": "beta_2", "type": "float", "label": "beta_2", "help": "Float. The exponential decay rate for the exponentially weighted infinity norm.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.999", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "epsilon", "argument": "epsilon", "type": "float", "label": "epsilon", "help": "A small constant for numerical stability.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "1e-07", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "amsgrad", "argument": "amsgrad", "type": "boolean", "label": "Whether to apply the AMSGrad variant?", "help": "Refer to paper `On the Convergence of Adam and Beyond`", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "booltrue", "falsevalue": "boolfalse"}]}]}, {"model_class": "ConditionalWhen", "value": "Adamax", "inputs": [{"model_class": "Section", "name": "optimizer_options", "type": "section", "title": "Optimizer Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "FloatToolParameter", "name": "learning_rate", "argument": "learning_rate", "type": "float", "label": "Learning rate", "help": "float >= 0", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.001", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "beta_1", "argument": "beta_1", "type": "float", "label": "beta_1", "help": "Float. The exponential decay rate for the 1st moment estimates.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.9", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "beta_2", "argument": "beta_2", "type": "float", "label": "beta_2", "help": "Float. The exponential decay rate for the exponentially weighted infinity norm.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.999", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "epsilon", "argument": "epsilon", "type": "float", "label": "epsilon", "help": "A small constant for numerical stability.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "1e-07", "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "Nadam", "inputs": [{"model_class": "Section", "name": "optimizer_options", "type": "section", "title": "Optimizer Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "FloatToolParameter", "name": "learning_rate", "argument": "learning_rate", "type": "float", "label": "Learning rate", "help": "float >= 0", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.001", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "beta_1", "argument": "beta_1", "type": "float", "label": "beta_1", "help": "Float. The exponential decay rate for the 1st moment estimates.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.9", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "beta_2", "argument": "beta_2", "type": "float", "label": "beta_2", "help": "Float. The exponential decay rate for the exponentially weighted infinity norm.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.999", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "epsilon", "argument": "epsilon", "type": "float", "label": "epsilon", "help": "A small constant for numerical stability.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "1e-07", "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "Ftrl", "inputs": [{"model_class": "Section", "name": "optimizer_options", "type": "section", "title": "Optimizer Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "FloatToolParameter", "name": "learning_rate", "argument": "learning_rate", "type": "float", "label": "Learning rate", "help": "float >= 0", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.001", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "learning_rate_power", "argument": "learning_rate_power", "type": "float", "label": "learning_rate_power", "help": "Float, >= 0.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "-0.5", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "initial_accumulator_value", "argument": "initial_accumulator_value", "type": "float", "label": "initial_accumulator_value", "help": "Float, <= 0.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.1", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "l1_regularization_strength", "argument": "l1_regularization_strength", "type": "float", "label": "l1_regularization_strength", "help": "Float, >= 0.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "l2_regularization_strength", "argument": "l2_regularization_strength", "type": "float", "label": "l2_regularization_strength", "help": "Float, >= 0.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "l2_shrinkage_regularization_strength", "argument": "l2_shrinkage_regularization_strength", "type": "float", "label": "l2_shrinkage_regularization_strength", "help": "Float, >= 0.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "beta", "argument": "beta", "type": "float", "label": "beta", "help": "Float.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}]}]}], "test_param": {"model_class": "SelectToolParameter", "name": "optimizer_type", "argument": null, "type": "select", "label": "Select an optimizer", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "RMSprop", "options": [["RMSprop - RMSProp optimizer ", "RMSprop", true], ["SGD - Stochastic gradient descent optimizer ", "SGD", false], ["Adagrad - Adagrad optimizer ", "Adagrad", false], ["Adadelta - Adadelta optimizer ", "Adadelta", false], ["Adam - Adam optimizer ", "Adam", false], ["Adamax - A variant of Adam based on the infinity norm ", "Adamax", false], ["Nadam - Nesterov Adam optimizer ", "Nadam", false], ["Ftrl - Ftrl optimizer ", "Ftrl", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "SelectToolParameter", "name": "metrics", "argument": null, "type": "select", "label": "Select metrics", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "acc", "options": [["acc / accruracy", "acc", true], ["binary_accuracy", "binary_accuracy", false], ["categorical_accuracy", "categorical_accuracy", false], ["sparse_categorical_accuracy", "sparse_categorical_accuracy", false], ["mse / MSE / mean_squared_error", "mse", false], ["mae / MAE / mean_absolute_error", "mae", false], ["mape / MAPE / mean_absolute_percentage_error", "mape", false], ["cosine_proximity", "cosine_proximity", false], ["cosine", "cosine", false], ["none", "none", false]], "display": null, "multiple": true, "textable": false}]}, {"model_class": "Section", "name": "fit_params", "type": "section", "title": "Fit Parameters", "help": null, "expanded": true, "inputs": [{"model_class": "IntegerToolParameter", "name": "epochs", "argument": null, "type": "integer", "label": "epochs", "help": "", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "batch_size", "argument": null, "type": "integer", "label": "batch_size", "help": "Integer or blank for 32", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "32", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "steps_per_epoch", "argument": null, "type": "integer", "label": "steps_per_epoch", "help": "The number of steps (batches of samples) before declaring one epoch finished and starting the next epoch. The default None is equal to the number of samples in your dataset divided by the batch size, or 1 if that cannot be determined.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "validation_steps", "argument": null, "type": "integer", "label": "validation_steps", "help": "Default None. Total number of steps (batches of samples) to validate before stopping.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "Repeat", "name": "callbacks", "type": "repeat", "title": "callback", "help": null, "default": 1, "min": 1, "max": 5.0, "inputs": [{"model_class": "Conditional", "name": "callback_selection", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "None", "inputs": []}, {"model_class": "ConditionalWhen", "value": "EarlyStopping", "inputs": [{"model_class": "SelectToolParameter", "name": "monitor", "argument": "monitor", "type": "select", "label": "", "help": "Quantity to be monitored.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "val_loss", "options": [["val_loss", "val_loss", true], ["loss", "loss", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "mode", "argument": "mode", "type": "select", "label": "", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "auto", "options": [["auto -- the direction is automatically inferred from the name of the monitored quantity", "auto", true], ["min -- training will stop when the quantity monitored has stopped decreasing", "min", false], ["max -- training will stop when the quantity monitored has stopped increasing", "max", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "FloatToolParameter", "name": "min_delta", "argument": "min_delta", "type": "float", "label": "", "help": "Minimum change in the monitored quantity to qualify as an improvement.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "patience", "argument": "patience", "type": "integer", "label": "", "help": "Number of epochs with no improvement after which training will be stopped.", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "baseline", "argument": "baseline", "type": "float", "label": "", "help": "Baseline value for the monitored quantity to reach. Training will stop if the model doesn't show improvement over the baseline.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "restore_best_weights", "argument": "restore_best_weights", "type": "boolean", "label": "", "help": "Whether to restore model weights from the epoch with the best value of the monitored quantity", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "booltrue", "falsevalue": "boolfalse"}]}, {"model_class": "ConditionalWhen", "value": "TerminateOnNaN", "inputs": []}, {"model_class": "ConditionalWhen", "value": "ReduceLROnPlateau", "inputs": [{"model_class": "SelectToolParameter", "name": "monitor", "argument": "monitor", "type": "select", "label": "", "help": "Quantity to be monitored.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "val_loss", "options": [["val_loss", "val_loss", true], ["loss", "loss", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "mode", "argument": "mode", "type": "select", "label": "", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "auto", "options": [["auto -- the direction is automatically inferred from the name of the monitored quantity", "auto", true], ["min -- training will stop when the quantity monitored has stopped decreasing", "min", false], ["max -- training will stop when the quantity monitored has stopped increasing", "max", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "FloatToolParameter", "name": "factor", "argument": "factor", "type": "float", "label": "", "help": "Factor by which the learning rate will be reduced. new_learning_rate = learning_rate * factor", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.1", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "patience", "argument": "patience", "type": "integer", "label": "", "help": "Number of epochs with no improvement after which learning rate will be reduced.", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "min_delta", "argument": "min_delta", "type": "float", "label": "", "help": "Threshold for measuring the new optimum, to only focus on significant changes.", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0001", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "cooldown", "argument": "cooldown", "type": "integer", "label": "", "help": "Number of epochs to wait before resuming normal operation after learning_rate has been reduced.", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "min_lr", "argument": "min_lr", "type": "float", "label": "", "help": "Lower bound on the learning rate.", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "CSVLogger", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "callback_type", "argument": null, "type": "select", "label": "Choose a callback", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "None", "options": [["None", "None", true], ["EarlyStopping -- Stop training when a monitored quantity has stopped improving", "EarlyStopping", false], ["TerminateOnNaN -- Terminates training when a NaN loss is encountered.", "TerminateOnNaN", false], ["ReduceLROnPlateau -- Reduce learning rate when a metric has stopped improving", "ReduceLROnPlateau", false], ["CSVLogger -- Streams epoch results to a csv file", "CSVLogger", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "IntegerToolParameter", "name": "verbose", "argument": null, "type": "integer", "label": "verbose", "help": "0, 1, or 2. Verbosity mode. 0 = silent, 1 = progress bar, 2 = one line per epoch.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}]}, {"model_class": "FloatToolParameter", "name": "class_positive_factor", "argument": null, "type": "float", "label": "class_positive_factor", "help": "For binary classification only. If int, like 5, will convert to class_weight {0: 1, 1: 5}. If float, 0.2, corresponds to class_weight {0: 1/0.2, 1: 1}", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "1.0", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "prediction_steps", "argument": null, "type": "integer", "label": "prediction_steps", "help": "Prediction steps. Optional. If None, it equals number of samples divided by `batch_size`.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "random_seed", "argument": null, "type": "integer", "label": "Random Seed", "help": "Integer or blank for None. Warning: when random seed is set to an integer, training will be running in single thread mode, which may cause slowness.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "mode_type", "argument": null, "type": "select", "label": "Choose a building mode", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "train_model", "options": [["Build a training model", "train_model", true]], "display": null, "multiple": false, "textable": false}}], "outputs": [{"model_class": "ToolOutput", "name": "outfile", "format": "h5mlm", "label": "Keras Batch Classifier  on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3590", "edam_data": "data_0006", "discover_datasets": []}], "panel_section_id": "machine_learning", "panel_section_name": "Machine Learning", "form_style": "regular"}