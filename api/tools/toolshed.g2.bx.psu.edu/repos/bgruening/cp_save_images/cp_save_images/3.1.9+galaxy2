{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/bgruening/cp_save_images/cp_save_images/3.1.9+galaxy2", "name": "SaveImages", "version": "3.1.9+galaxy2", "description": "with CellProfiler", "labels": [], "edam_operations": ["operation_3443"], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "CellProfiler", "reftype": "bio.tools"}, {"value": "cellprofiler", "reftype": "biii"}], "tool_shed_repository": {"name": "cp_save_images", "owner": "bgruening", "changeset_revision": "27edbb90ab2b", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "input_pipeline", "argument": null, "type": "data", "label": "Select the input CellProfiler pipeline", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["data"], "edam": {"edam_formats": ["format_1915"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Conditional", "name": "con_type_of_image", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "Image", "inputs": [{"model_class": "Conditional", "name": "con_save_file_format", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "tiff", "inputs": [{"model_class": "SelectToolParameter", "name": "bit_depth", "argument": null, "type": "select", "label": "Image bit depth", "help": "Select the bit-depth at which you want to save the images.                        <br> - 32-bit floating point saves the image as floating-point decimals with 32-bit precision. When the input data is integer or binary type, pixel values are scaled within the range (0, 1). Floating point data is not rescaled.                        <br> - 16-bit integer and 32-bit floating point images are supported only for TIFF formats.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "8-bit integer", "options": [["8-bit integer", "8-bit integer", false], ["16-bit integer", "16-bit integer", false], ["32-bit floating point", "32-bit floating point", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "jpeg", "inputs": []}, {"model_class": "ConditionalWhen", "value": "npy", "inputs": []}, {"model_class": "ConditionalWhen", "value": "png", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "file_format", "argument": null, "type": "select", "label": "Saved the format to save the image(s)", "help": "- Only tiff supports saving as 16-bit or 32-bit. tiff is a \"lossless\" file format.                        <br> - png is also a \"lossless\" file format and it tends to produce smaller files without losing any image data.                        <br> - jpeg is also small but is a \"lossy\" file format and should not be used for any images that will undergo further quantitative analysis.                        <br> - Select npy to save an illumination correction image generated by CorrectIlluminationCalculate.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "jpeg", "options": [["jpeg", "jpeg", false], ["npy", "npy", false], ["png", "png", false], ["tiff", "tiff", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "ConditionalWhen", "value": "Mask", "inputs": [{"model_class": "SelectToolParameter", "name": "file_format", "argument": null, "type": "select", "label": "Saved the format to save the image(s)", "help": "- Only tiff supports saving as 16-bit or 32-bit. tiff is a \"lossless\" file format.                        <br> - png is also a \"lossless\" file format and it tends to produce smaller files without losing any image data.                        <br> - jpeg is also small but is a \"lossy\" file format and should not be used for any images that will undergo further quantitative analysis.                        <br> - Select npy to save an illumination correction image generated by CorrectIlluminationCalculate.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "jpeg", "options": [["jpeg", "jpeg", false], ["npy", "npy", false], ["png", "png", false], ["tiff", "tiff", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "Cropping", "inputs": [{"model_class": "SelectToolParameter", "name": "file_format", "argument": null, "type": "select", "label": "Saved the format to save the image(s)", "help": "- Only tiff supports saving as 16-bit or 32-bit. tiff is a \"lossless\" file format.                        <br> - png is also a \"lossless\" file format and it tends to produce smaller files without losing any image data.                        <br> - jpeg is also small but is a \"lossy\" file format and should not be used for any images that will undergo further quantitative analysis.                        <br> - Select npy to save an illumination correction image generated by CorrectIlluminationCalculate.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "jpeg", "options": [["jpeg", "jpeg", false], ["npy", "npy", false], ["png", "png", false], ["tiff", "tiff", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "Movie", "inputs": [{"model_class": "SelectToolParameter", "name": "bit_depth", "argument": null, "type": "select", "label": "Image bit depth", "help": "Select the bit-depth at which you want to save the images.                        <br> - 32-bit floating point saves the image as floating-point decimals with 32-bit precision. When the input data is integer or binary type, pixel values are scaled within the range (0, 1). Floating point data is not rescaled.                        <br> - 16-bit integer and 32-bit floating point images are supported only for TIFF formats.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "8-bit integer", "options": [["8-bit integer", "8-bit integer", false], ["16-bit integer", "16-bit integer", false], ["32-bit floating point", "32-bit floating point", false]], "display": null, "multiple": false, "textable": false}]}], "test_param": {"model_class": "SelectToolParameter", "name": "type_of_image", "argument": null, "type": "select", "label": "Select the type of image to save", "help": "The following types of images can be saved as a file on the hard drive:                        <br> - Image: Any of the images produced upstream of SaveImages can be selected for saving. Outlines of objects created by other modules such as Identify modules, Watershed, and various object processing modules can also be saved with this option, but you must use the OverlayOutlines module to create them prior to saving images. Likewise, if you wish to save the objects themselves, you must use the ConvertObjectsToImage module to create a savable image.                        <br> - Mask: Relevant only if a module that produces masks has been used such as Crop, MaskImage, or MaskObjects. These modules create a mask of the pixels of interest in the image. Saving the mask will produce a binary image in which the pixels of interest are set to 1; all other pixels are set to 0.                        <br> - Cropping: Relevant only if the Crop module is used. The Crop module also creates a cropping image which is typically the same size as the original image. However, since Crop permits removal of the rows and columns that are left blank, the cropping can be of a different size than the mask.                        <br> - Movie: A sequence of images can be saved as a TIFF stack.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "Image", "options": [["Image", "Image", false], ["Mask", "Mask", false], ["Cropping", "Cropping", false], ["Movie", "Movie", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "TextToolParameter", "name": "image_to_save", "argument": null, "type": "text", "label": "Enter the name of the image to save", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "Conditional", "name": "con_method_for_constructing", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "From image filename", "inputs": [{"model_class": "TextToolParameter", "name": "name_for_file_prefix", "argument": null, "type": "text", "label": "Enter the image name (from NamesAndTypes) to be used as file prefix", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "Conditional", "name": "con_append_suffix", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "Yes", "inputs": [{"model_class": "TextToolParameter", "name": "text_to_append", "argument": null, "type": "text", "label": "Text to append to the image name", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "No", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "append_suffix", "argument": null, "type": "select", "label": "Append a suffix to the image file name?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "No", "options": [["Yes", "Yes", false], ["No", "No", true]], "display": "radio", "multiple": false, "textable": false}}]}, {"model_class": "ConditionalWhen", "value": "Sequential numbers", "inputs": [{"model_class": "TextToolParameter", "name": "file_prefix", "argument": null, "type": "text", "label": "Enter file prefix", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "OrigBlue", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "no_of_digits", "argument": null, "type": "integer", "label": "Number of digits", "help": "Specify the number of digits to be used for the sequential numbering. Zeros will be used to left-pad the digits. If the number specified here is less than that needed to contain the number of image sets, the latter will override the value entered.", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "4", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "Single name", "inputs": [{"model_class": "TextToolParameter", "name": "single_file_name", "argument": null, "type": "text", "label": "Enter single file name", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "OrigBlue", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "method_for_constructing", "argument": null, "type": "select", "label": "Select method for constructing file names", "help": "Several choices are available for constructing the image file name:                        <br> - From image filename: The filename will be constructed based on the original filename of an input image specified in NamesAndTypes.                        You will have the opportunity to prefix or append additional text.                        If you have metadata associated with your images, you can append text to the image filename using a metadata tag.                        This is especially useful if you want your output given a unique label according to the metadata corresponding to an image group.                        The name of the metadata to substitute can be provided for each image for each cycle using the Metadata module.                        <br> - Sequential numbers: Same as above, but in addition, each filename will have a number appended to the end that corresponds to the image cycle number (starting at 1).                        <br> - Single name: A single name will be given to the file. Since the filename is fixed, this file will be overwritten with each cycle. In this case, you would probably want to save the image on the last cycle (see the Select how often to save setting). The exception to this is to use a metadata tag to provide a unique label, as mentioned in the From image filename option.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "From image filename", "options": [["From image filename", "From image filename", false], ["Sequential numbers", "Sequential numbers", false], ["Single name", "Single name", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "SelectToolParameter", "name": "overwrite_without_warning", "argument": null, "type": "select", "label": "Overwrite existing files without warning?", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "No", "options": [["Yes", "Yes", false], ["No", "No", true]], "display": "radio", "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "when_to_save", "argument": null, "type": "select", "label": "When to save", "help": "Specify at what point during pipeline execution to save file(s).                    <br> - Every cycle: Useful for when the image of interest is created every cycle and is not dependent on results from a prior cycle.                    <br> - First cycle: Useful for when you are saving an aggregate image created on the first cycle, e.g., CorrectIlluminationCalculate with the 'All setting' used on images obtained directly from NamesAndTypes.                    <br> - Last cycle: Useful for when you are saving an aggregate image completed on the last cycle, e.g., CorrectIlluminationCalculate with the 'All setting' used on intermediate images generated during each cycle.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "Every cycle", "options": [["Every cycle", "Every cycle", false], ["First cycle", "First cycle", false], ["Last cycle", "Last cycle", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "record_info", "argument": null, "type": "select", "label": "Record the file and path information to the saved image?", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "No", "options": [["Yes", "Yes", false], ["No", "No", true]], "display": "radio", "multiple": false, "textable": false}], "outputs": [{"model_class": "ToolOutput", "name": "output_pipeline", "format": "txt", "label": "", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "output.cppipe", "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "imaging", "panel_section_name": "Imaging", "form_style": "regular"}