{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/goeckslab/multimodal_learner/multimodal_learner/0.1.4", "name": "Multimodal Learner", "version": "0.1.4", "description": "Train and evaluate an AutoGluon Multimodal model (tabular + image + text)", "labels": [], "icon": null, "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "multimodal_learner", "owner": "goeckslab", "changeset_revision": "ed2fefc8d892", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "input_csv", "argument": null, "type": "data", "label": "Training dataset (CSV/TSV)", "help": "Must contain the target column and optional image paths", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["csv", "tsv"], "edam": {"edam_formats": ["format_3475", "format_3475"], "edam_data": ["data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "ColumnListParameter", "name": "target_column", "argument": null, "type": "data_column", "label": "Target / Label column", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": true, "value": null, "options": [], "display": null, "multiple": false, "textable": false, "data_ref": "input_csv", "numerical": false}, {"model_class": "Conditional", "name": "sample_id_selector", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "ColumnListParameter", "name": "sample_id_column", "argument": null, "type": "data_column", "label": "Sample ID column", "help": "All rows with the same ID stay in the same split or fold to reduce leakage. Used for internal train/val/test splits and group-aware CV folds.", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": true, "value": null, "options": [], "display": null, "multiple": false, "textable": false, "data_ref": "input_csv", "numerical": false}]}, {"model_class": "ConditionalWhen", "value": "no", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "use_sample_id", "argument": null, "type": "select", "label": "Use a sample ID column for leakage-aware splitting?", "help": "Select yes to choose a column that groups related records (e.g., patient_id or slide_id).", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no", "options": [["No column selected", "no", true], ["Yes", "yes", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "test_dataset_conditional", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "DataToolParameter", "name": "input_test", "argument": null, "type": "data", "label": "Test dataset (CSV/TSV)", "help": "", "help_format": "html", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["csv", "tsv"], "edam": {"edam_formats": ["format_3475", "format_3475"], "edam_data": ["data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "no", "inputs": []}], "test_param": {"model_class": "BooleanToolParameter", "name": "has_test_dataset", "argument": null, "type": "boolean", "label": "Provide separate test dataset?", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "yes", "falsevalue": "no"}}, {"model_class": "SelectToolParameter", "name": "backbone_text", "argument": null, "type": "select", "label": "Text backbone", "help": "", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "microsoft/deberta-v3-base", "options": [["microsoft/deberta-v3-base", "microsoft/deberta-v3-base", true], ["microsoft/deberta-v3-small", "microsoft/deberta-v3-small", false], ["google/electra-base-discriminator", "google/electra-base-discriminator", false], ["google/electra-small-discriminator", "google/electra-small-discriminator", false], ["roberta-base", "roberta-base", false], ["bert-base-uncased", "bert-base-uncased", false], ["distilroberta-base", "distilroberta-base", false], ["albert-base-v2", "albert-base-v2", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "Conditional", "name": "use_images_conditional", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "Repeat", "name": "images_zip_repeat", "type": "repeat", "title": "Image archive(s)", "help": null, "default": 1, "min": 1, "max": "__Infinity__", "inputs": [{"model_class": "DataToolParameter", "name": "images_zip", "argument": null, "type": "data", "label": "ZIP file containing images", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["zip"], "edam": {"edam_formats": ["format_2333"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "SelectToolParameter", "name": "backbone_image", "argument": null, "type": "select", "label": "Image backbone", "help": "", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "swin_base_patch4_window7_224.ms_in22k_ft_in1k", "options": [["swin_base_patch4_window7_224.ms_in22k_ft_in1k", "swin_base_patch4_window7_224.ms_in22k_ft_in1k", true], ["swin_base_patch4_window7_224.ms_in1k", "swin_base_patch4_window7_224.ms_in1k", false], ["swin_base_patch4_window7_224.ms_in22k", "swin_base_patch4_window7_224.ms_in22k", false], ["swin_large_patch4_window12_384.ms_in22k_ft_in1k", "swin_large_patch4_window12_384.ms_in22k_ft_in1k", false], ["swin_large_patch4_window12_384.ms_in22k", "swin_large_patch4_window12_384.ms_in22k", false], ["swin_small_patch4_window7_224.ms_in22k_ft_in1k", "swin_small_patch4_window7_224.ms_in22k_ft_in1k", false], ["swin_small_patch4_window7_224.ms_in1k", "swin_small_patch4_window7_224.ms_in1k", false], ["swin_small_patch4_window7_224.ms_in22k", "swin_small_patch4_window7_224.ms_in22k", false], ["swin_tiny_patch4_window7_224.ms_in22k_ft_in1k", "swin_tiny_patch4_window7_224.ms_in22k_ft_in1k", false], ["swin_tiny_patch4_window7_224.ms_in1k", "swin_tiny_patch4_window7_224.ms_in1k", false], ["swin_tiny_patch4_window7_224.ms_in22k", "swin_tiny_patch4_window7_224.ms_in22k", false], ["caformer_b36.sail_in22k_ft_in1k", "caformer_b36.sail_in22k_ft_in1k", false], ["caformer_b36.sail_in1k", "caformer_b36.sail_in1k", false], ["caformer_b36.sail_in22k", "caformer_b36.sail_in22k", false], ["caformer_b36.sail_in1k_384", "caformer_b36.sail_in1k_384", false], ["caformer_b36.sail_in22k_ft_in1k_384", "caformer_b36.sail_in22k_ft_in1k_384", false], ["caformer_m36.sail_in22k_ft_in1k", "caformer_m36.sail_in22k_ft_in1k", false], ["caformer_m36.sail_in1k", "caformer_m36.sail_in1k", false], ["caformer_m36.sail_in22k", "caformer_m36.sail_in22k", false], ["caformer_m36.sail_in1k_384", "caformer_m36.sail_in1k_384", false], ["caformer_m36.sail_in22k_ft_in1k_384", "caformer_m36.sail_in22k_ft_in1k_384", false], ["caformer_s36.sail_in22k_ft_in1k", "caformer_s36.sail_in22k_ft_in1k", false], ["caformer_s36.sail_in1k", "caformer_s36.sail_in1k", false], ["caformer_s36.sail_in22k", "caformer_s36.sail_in22k", false], ["caformer_s36.sail_in1k_384", "caformer_s36.sail_in1k_384", false], ["caformer_s36.sail_in22k_ft_in1k_384", "caformer_s36.sail_in22k_ft_in1k_384", false], ["caformer_s18.sail_in1k", "caformer_s18.sail_in1k", false], ["caformer_s18.sail_in22k_ft_in1k", "caformer_s18.sail_in22k_ft_in1k", false], ["caformer_s18.sail_in22k", "caformer_s18.sail_in22k", false], ["caformer_s18.sail_in1k_384", "caformer_s18.sail_in1k_384", false], ["caformer_s18.sail_in22k_ft_in1k_384", "caformer_s18.sail_in22k_ft_in1k_384", false], ["vit_base_patch16_224.augreg2_in21k_ft_in1k", "vit_base_patch16_224.augreg2_in21k_ft_in1k", false], ["vit_base_patch16_224.augreg_in1k", "vit_base_patch16_224.augreg_in1k", false], ["vit_base_patch16_224.augreg_in21k", "vit_base_patch16_224.augreg_in21k", false], ["vit_base_patch16_224.augreg_in21k_ft_in1k", "vit_base_patch16_224.augreg_in21k_ft_in1k", false], ["vit_base_patch16_224.dino", "vit_base_patch16_224.dino", false], ["vit_base_patch16_224.mae", "vit_base_patch16_224.mae", false], ["vit_base_patch16_224.orig_in21k", "vit_base_patch16_224.orig_in21k", false], ["vit_base_patch16_224.orig_in21k_ft_in1k", "vit_base_patch16_224.orig_in21k_ft_in1k", false], ["vit_base_patch16_224.sam_in1k", "vit_base_patch16_224.sam_in1k", false], ["convnext_base.fb_in1k", "convnext_base.fb_in1k", false], ["convnext_base.fb_in22k_ft_in1k", "convnext_base.fb_in22k_ft_in1k", false], ["convnext_base.fb_in22k_ft_in1k_384", "convnext_base.fb_in22k_ft_in1k_384", false], ["convnext_base.fb_in22k", "convnext_base.fb_in22k", false], ["convnext_base.dinov3_lvd1689m", "convnext_base.dinov3_lvd1689m", false], ["convnext_base.clip_laion2b", "convnext_base.clip_laion2b", false], ["convnext_base.clip_laion2b_augreg", "convnext_base.clip_laion2b_augreg", false], ["convnext_base.clip_laion2b_augreg_ft_in1k", "convnext_base.clip_laion2b_augreg_ft_in1k", false], ["convnext_base.clip_laion2b_augreg_ft_in12k", "convnext_base.clip_laion2b_augreg_ft_in12k", false], ["convnext_base.clip_laion2b_augreg_ft_in12k_in1k", "convnext_base.clip_laion2b_augreg_ft_in12k_in1k", false], ["convnext_base.clip_laion2b_augreg_ft_in12k_in1k_384", "convnext_base.clip_laion2b_augreg_ft_in12k_in1k_384", false], ["convnext_base.clip_laiona", "convnext_base.clip_laiona", false], ["convnext_base.clip_laiona_320", "convnext_base.clip_laiona_320", false], ["convnext_base.clip_laiona_augreg_320", "convnext_base.clip_laiona_augreg_320", false], ["convnext_base.clip_laiona_augreg_ft_in1k_384", "convnext_base.clip_laiona_augreg_ft_in1k_384", false], ["eva02_base_patch14_448.mim_in22k_ft_in22k_in1k", "eva02_base_patch14_448.mim_in22k_ft_in22k_in1k", false], ["eva02_base_patch14_448.mim_in22k_ft_in1k", "eva02_base_patch14_448.mim_in22k_ft_in1k", false], ["eva02_base_patch14_448.mim_in22k_ft_in22k", "eva02_base_patch14_448.mim_in22k_ft_in22k", false], ["resnet50.a1_in1k", "resnet50.a1_in1k", false], ["resnet50.a1h_in1k", "resnet50.a1h_in1k", false], ["resnet50.a2_in1k", "resnet50.a2_in1k", false], ["resnet50.a3_in1k", "resnet50.a3_in1k", false], ["resnet50.am_in1k", "resnet50.am_in1k", false], ["resnet50.b1k_in1k", "resnet50.b1k_in1k", false], ["resnet50.b2k_in1k", "resnet50.b2k_in1k", false], ["resnet50.bt_in1k", "resnet50.bt_in1k", false], ["resnet50.c1_in1k", "resnet50.c1_in1k", false], ["resnet50.c2_in1k", "resnet50.c2_in1k", false], ["resnet50.d_in1k", "resnet50.d_in1k", false], ["resnet50.fb_ssl_yfcc100m_ft_in1k", "resnet50.fb_ssl_yfcc100m_ft_in1k", false], ["resnet50.fb_swsl_ig1b_ft_in1k", "resnet50.fb_swsl_ig1b_ft_in1k", false], ["resnet50.gluon_in1k", "resnet50.gluon_in1k", false], ["resnet50.ra_in1k", "resnet50.ra_in1k", false], ["resnet50.ram_in1k", "resnet50.ram_in1k", false], ["resnet50.tv2_in1k", "resnet50.tv2_in1k", false], ["resnet50.tv_in1k", "resnet50.tv_in1k", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "BooleanToolParameter", "name": "missing_image_strategy", "argument": null, "type": "boolean", "label": "Drop rows with missing images?", "help": "True = drop, False = replace with placeholder (default)", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}]}, {"model_class": "ConditionalWhen", "value": "no", "inputs": []}], "test_param": {"model_class": "BooleanToolParameter", "name": "use_images", "argument": null, "type": "boolean", "label": "Use image modality?", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "yes", "falsevalue": "no"}}, {"model_class": "SelectToolParameter", "name": "preset", "argument": null, "type": "select", "label": "Quality preset", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "medium_quality", "options": [["Medium quality (fast)", "medium_quality", true], ["High quality", "high_quality", false], ["Best quality (slowest)", "best_quality", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "eval_metric", "argument": null, "type": "select", "label": "Primary evaluation metric", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "auto", "options": [["Auto (let AutoGluon choose)", "auto", true], ["ROC AUC", "roc_auc", false], ["Accuracy", "accuracy", false], ["Balanced Accuracy", "balanced_accuracy", false], ["F1", "f1", false], ["F1 Macro", "f1_macro", false], ["F1 Micro", "f1_micro", false], ["F1 Weighted", "f1_weighted", false], ["Precision", "precision", false], ["Precision Macro", "precision_macro", false], ["Precision Micro", "precision_micro", false], ["Precision Weighted", "precision_weighted", false], ["Recall", "recall", false], ["Recall Macro", "recall_macro", false], ["Recall Micro", "recall_micro", false], ["Recall Weighted", "recall_weighted", false], ["Average Precision", "average_precision", false], ["ROC AUC OVO Macro", "roc_auc_ovo_macro", false], ["ROC AUC OVO Weighted", "roc_auc_ovo_weighted", false], ["ROC AUC OVR Macro", "roc_auc_ovr_macro", false], ["ROC AUC OVR Weighted", "roc_auc_ovr_weighted", false], ["Log Loss", "log_loss", false], ["MSE", "mse", false], ["RMSE", "rmse", false], ["MAE", "mae", false], ["MSLE", "msle", false], ["R2", "r2", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "IntegerToolParameter", "name": "random_seed", "argument": null, "type": "integer", "label": "Random seed", "help": "", "help_format": "html", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "42", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "time_limit", "argument": null, "type": "integer", "label": "Time limit (seconds)", "help": "Total training time budget. Recommended: 3600+ for real runs", "help_format": "html", "refresh_on_change": false, "min": 60, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "deterministic", "argument": null, "type": "boolean", "label": "Enable deterministic mode", "help": "Use deterministic algorithms and CuDNN settings to reduce run-to-run variance (may slow training)", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "Conditional", "name": "customize_defaults_conditional", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "FloatToolParameter", "name": "validation_size", "argument": null, "type": "float", "label": "Validation fraction (when test set provided)", "help": "", "help_format": "html", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.2", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "split_probabilities", "argument": null, "type": "text", "label": "Train / Val / Test split (space-separated) when no test set", "help": "", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.7 0.1 0.2", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "cross_validation", "argument": null, "type": "boolean", "label": "Enable k-fold cross-validation", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "IntegerToolParameter", "name": "num_folds", "argument": null, "type": "integer", "label": "Number of CV folds", "help": "", "help_format": "html", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "5", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "epochs", "argument": null, "type": "integer", "label": "Max epochs", "help": "", "help_format": "html", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "learning_rate", "argument": null, "type": "float", "label": "Learning rate", "help": "", "help_format": "html", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "batch_size", "argument": null, "type": "integer", "label": "Batch size", "help": "", "help_format": "html", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "threshold", "argument": null, "type": "float", "label": "Binary classification threshold", "help": "", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "hyperparameters", "argument": null, "type": "text", "label": "Extra AutoGluon hyperparameters (JSON or YAML string)", "help": "", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "no", "inputs": []}], "test_param": {"model_class": "BooleanToolParameter", "name": "customize_defaults", "argument": null, "type": "boolean", "label": "Advanced: customize training settings?", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "yes", "falsevalue": "no"}}], "outputs": [{"model_class": "ToolOutput", "name": "output_html", "format": "html", "label": "Multimodal Learner analysis report on data ${input_csv.name}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": null, "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2331", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "output_config", "format": "yaml", "label": "Multimodal Learner training config on data ${input_csv.name}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": null, "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "output_json", "format": "json", "label": "Multimodal Learner metric results on data ${input_csv.name}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": null, "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3464", "edam_data": "data_0006", "discover_datasets": []}], "panel_section_id": "machine_learning", "panel_section_name": "Machine Learning", "form_style": "regular"}