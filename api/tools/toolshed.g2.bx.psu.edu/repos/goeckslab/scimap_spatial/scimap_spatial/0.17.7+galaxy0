{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/goeckslab/scimap_spatial/scimap_spatial/0.17.7+galaxy0", "name": "Spatial Analysis Tools", "version": "0.17.7+galaxy0", "description": "from Scimap", "labels": [], "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "scimap_spatial", "owner": "goeckslab", "changeset_revision": "fd38e533a54b", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "anndata", "argument": null, "type": "data", "label": "Select the input anndata", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["h5ad"], "edam": {"edam_formats": ["format_3590"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Conditional", "name": "analyses", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "cluster", "inputs": [{"model_class": "SelectToolParameter", "name": "method", "argument": null, "type": "select", "label": "Select the clustering method", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "kmeans", "options": [["kmeans", "kmeans", true], ["phenograph", "phenograph", false], ["leiden", "leiden", false], ["parc", "parc", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "Section", "name": "options", "type": "section", "title": "Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "subset_genes", "argument": "subset_genes", "type": "text", "label": "Type in a list of genes  that should be included for the purpose of clustering", "help": "Optional. Comma delimited. By default the algorithm uses all genes in the dataset.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "sub_cluster", "argument": "sub_cluster", "type": "boolean", "label": "Whether to do sub-clustering on existing clustering or phenotyping ", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "TextToolParameter", "name": "sub_cluster_column", "argument": "sub_cluster_column", "type": "text", "label": "Type in the name of a column to be sub-clustered", "help": "This is only required when sub_cluster is set to True.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "phenotype", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "sub_cluster_group", "argument": "sub_cluster_group", "type": "text", "label": "Type in a list of group names within the sub-cluster column", "help": "Optional. Comma delimited. By default the program will sub-cluster all groups within column passed through the argument sub_cluster_column.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "parc_small_pop", "argument": "parc_small_pop", "type": "integer", "label": "Smallest cluster population to be considered a community in PARC clustering", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "50", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "parc_too_big_factor", "argument": "parc_too_big_factor", "type": "float", "label": "If a cluster exceeds this share of the entire cell population, then the PARC will be run on the large cluster", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.4", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "k", "argument": "k", "type": "integer", "label": "Number of clusters to return when using K-Means clustering", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "n_pcs", "argument": "n_pcs", "type": "integer", "label": "Number of PC's to be used in leiden clustering", "help": "By default it uses all PC's", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "resolution", "argument": "resolution", "type": "float", "label": "A parameter value controlling the coarseness of the clustering", "help": "Higher values lead to more clusters.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "1.0", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "phenograph_clustering_metric", "argument": "phenograph_clustering_metric", "type": "select", "label": "Distance metric to define nearest neighbors", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "euclidean", "options": [["euclidean", "euclidean", true], ["cityblock", "cityblock", false], ["cosine", "cosine", false], ["manhattan", "manhattan", false], ["braycurtis", "braycurtis", false], ["canberra", "canberra", false], ["chebyshev", "chebyshev", false], ["correlation", "correlation", false], ["dice", "dice", false], ["hamming", "hamming", false], ["jaccard", "jaccard", false], ["mahalanobis", "mahalanobis", false], ["minkowski", "minkowski", false], ["rogerstanimoto", "rogerstanimoto", false], ["russellrao", "russellrao", false], ["seuclidean", "seuclidean", false], ["sokalmichener", "sokalmichener", false], ["sokalsneath", "sokalsneath", false], ["sqeuclidean", "sqeuclidean", false], ["yule", "yule", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "IntegerToolParameter", "name": "nearest_neighbors", "argument": "nearest_neighbors", "type": "integer", "label": "Number of nearest neighbors to use in first step of graph construction", "help": "This parameter is used both in leiden and phenograph clustering.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "30", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "use_raw", "argument": "use_raw", "type": "boolean", "label": "Whether to use raw data for clustering", "help": " If False, normalized/scaled data within adata.X will be used.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "true", "falsevalue": "false"}, {"model_class": "IntegerToolParameter", "name": "random_state", "argument": "random_state", "type": "integer", "label": "", "help": "Used to change the initialization of the optimization.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "collapse_labels", "argument": "collapse_labels", "type": "boolean", "label": "", "help": "While sub clustering only a few phenotypes/clusters, this argument helps to group all the other phenotypes/clusters into a single category- Helps in visualisation.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "TextToolParameter", "name": "label", "argument": "label", "type": "text", "label": "Column name for the returned data", "help": "Stored in adata.obs. The default is adata.obs [method used].", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "spatial_aggregate", "inputs": [{"model_class": "Section", "name": "options", "type": "section", "title": "Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "x_coordinate", "argument": "x_coordinate", "type": "text", "label": "Column name containing the x-coordinates values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "X_centroid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "y_coordinate", "argument": "y_coordinate", "type": "text", "label": "Column name containing the y-coordinates values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "Y_centroid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "phenotype", "argument": "phenotype", "type": "text", "label": "Column name of the column containing the phenotype information", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "phenotype", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "purity", "argument": "purity", "type": "integer", "label": "Percent purity of neighbouring cells", "help": "e.g. if 60 is chosen, every neighbourhood is tested such that if a particular phenotype makes up greater than 60% of the total population it is annotated to be an aggregate of that particular phenotype.", "refresh_on_change": false, "min": 1, "max": 100, "optional": false, "hidden": false, "is_dynamic": false, "value": "60", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "method", "argument": "method", "type": "select", "label": "Select the method", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "radius", "options": [["radius", "radius", true], ["knn", "knn", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "IntegerToolParameter", "name": "radius", "argument": "radius", "type": "integer", "label": "The radius used to define a local neighbhourhood", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "30", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "knn", "argument": "knn", "type": "integer", "label": "Number of cells considered for defining the local neighbhourhood", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "imageid", "argument": "imageid", "type": "text", "label": "Column name of the column containing the image id", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "imageid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "subset", "argument": "subset", "type": "text", "label": "Imageid of a single image to be subsetted for analyis", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "label", "argument": "label", "type": "text", "label": "Key for the returned data", "help": "Stored in adata.obs", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "spatial_aggregate", "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "spatial_count", "inputs": [{"model_class": "Section", "name": "options", "type": "section", "title": "Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "x_coordinate", "argument": "x_coordinate", "type": "text", "label": "Column name containing the x-coordinates values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "X_centroid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "y_coordinate", "argument": "y_coordinate", "type": "text", "label": "Column name containing the y-coordinates values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "Y_centroid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "phenotype", "argument": "phenotype", "type": "text", "label": "Column name of the column containing the phenotype information", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "phenotype", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "method", "argument": "method", "type": "select", "label": "Select the method", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "radius", "options": [["radius", "radius", true], ["knn", "knn", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "IntegerToolParameter", "name": "radius", "argument": "radius", "type": "integer", "label": "The radius used to define a local neighbhourhood", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "30", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "knn", "argument": "knn", "type": "integer", "label": "Number of cells considered for defining the local neighbhourhood", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "imageid", "argument": "imageid", "type": "text", "label": "Column name of the column containing the image id", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "imageid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "subset", "argument": "subset", "type": "text", "label": "Imageid of a single image to be subsetted for analyis", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "label", "argument": "label", "type": "text", "label": "Key for the returned data", "help": "Stored in adata.obs", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "spatial_count", "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "spatial_distance", "inputs": [{"model_class": "Section", "name": "options", "type": "section", "title": "Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "x_coordinate", "argument": "x_coordinate", "type": "text", "label": "Column name containing the x-coordinates values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "X_centroid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "y_coordinate", "argument": "y_coordinate", "type": "text", "label": "Column name containing the y-coordinates values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "Y_centroid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "phenotype", "argument": "phenotype", "type": "text", "label": "Column name of the column containing the phenotype information", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "phenotype", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "imageid", "argument": "imageid", "type": "text", "label": "Column name of the column containing the image id", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "imageid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "subset", "argument": "subset", "type": "text", "label": "Imageid of a single image to be subsetted for analyis", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "label", "argument": "label", "type": "text", "label": "Key for the returned data", "help": "Stored in adata.obs", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "spatial_aggregate", "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "spatial_expression", "inputs": [{"model_class": "Section", "name": "options", "type": "section", "title": "Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "x_coordinate", "argument": "x_coordinate", "type": "text", "label": "Column name containing the x-coordinates values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "X_centroid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "y_coordinate", "argument": "y_coordinate", "type": "text", "label": "Column name containing the y-coordinates values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "Y_centroid", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "method", "argument": "method", "type": "select", "label": "Select the method", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "radius", "options": [["radius", "radius", true], ["knn", "knn", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "IntegerToolParameter", "name": "radius", "argument": "radius", "type": "integer", "label": "The radius used to define a local neighbhourhood", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "30", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "knn", "argument": "knn", "type": "integer", "label": "Number of cells considered for defining the local neighbhourhood", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "use_raw", "argument": "use_raw", "type": "boolean", "label": "Whether to use raw data for clustering", "help": " If False, normalized/scaled data within adata.X will be used.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "true", "falsevalue": "false"}, {"model_class": "TextToolParameter", "name": "imageid", "argument": "imageid", "type": "text", "label": "Column name of the column containing the image id", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "imageid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "subset", "argument": "subset", "type": "text", "label": "Imageid of a single image to be subsetted for analyis", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "label", "argument": "label", "type": "text", "label": "Key for the returned data", "help": "Stored in adata.obs", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "spatial_expression", "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "spatial_interaction", "inputs": [{"model_class": "Section", "name": "options", "type": "section", "title": "Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "x_coordinate", "argument": "x_coordinate", "type": "text", "label": "Column name containing the x-coordinates values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "X_centroid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "y_coordinate", "argument": "y_coordinate", "type": "text", "label": "Column name containing the y-coordinates values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "Y_centroid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "phenotype", "argument": "phenotype", "type": "text", "label": "Column name of the column containing the phenotype information", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "phenotype", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "method", "argument": "method", "type": "select", "label": "Select the method", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "radius", "options": [["radius", "radius", true], ["knn", "knn", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "IntegerToolParameter", "name": "radius", "argument": "radius", "type": "integer", "label": "The radius used to define a local neighbhourhood", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "30", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "knn", "argument": "knn", "type": "integer", "label": "Number of cells considered for defining the local neighbhourhood", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "permutation", "argument": "permutation", "type": "integer", "label": "The number of permutations to be performed for calculating the P-Value", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "1000", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "pval_method", "argument": "pval_method", "type": "select", "label": "Select a method to calculate the P-values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "zscore", "options": [["zscore", "zscore", true], ["histocat", "histocat", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "TextToolParameter", "name": "imageid", "argument": "imageid", "type": "text", "label": "Column name of the column containing the image id", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "imageid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "subset", "argument": "subset", "type": "text", "label": "Imageid of a single image to be subsetted for analyis", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "label", "argument": "label", "type": "text", "label": "Key for the returned data", "help": "Stored in adata.obs", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "spatial_interaction", "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "spatial_lda", "inputs": [{"model_class": "Section", "name": "options", "type": "section", "title": "Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "x_coordinate", "argument": "x_coordinate", "type": "text", "label": "Column name containing the x-coordinates values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "X_centroid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "y_coordinate", "argument": "y_coordinate", "type": "text", "label": "Column name containing the y-coordinates values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "Y_centroid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "phenotype", "argument": "phenotype", "type": "text", "label": "Column name of the column containing the phenotype information", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "phenotype", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "method", "argument": "method", "type": "select", "label": "Select the method", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "radius", "options": [["radius", "radius", true], ["knn", "knn", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "IntegerToolParameter", "name": "radius", "argument": "radius", "type": "integer", "label": "The radius used to define a local neighbhourhood", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "30", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "knn", "argument": "knn", "type": "integer", "label": "Number of cells considered for defining the local neighbhourhood", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "num_motifs", "argument": "num_motifs", "type": "integer", "label": "The number of requested latent motifs to be extracted from the training corpus", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "random_state", "argument": "random_state", "type": "integer", "label": "The seed number for random state", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "imageid", "argument": "imageid", "type": "text", "label": "Column name of the column containing the image id", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "imageid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "subset", "argument": "subset", "type": "text", "label": "Imageid of a single image to be subsetted for analyis", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "label", "argument": "label", "type": "text", "label": "Key for the returned data", "help": "Stored in adata.obs", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "spatial_lda", "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "spatial_pscore", "inputs": [{"model_class": "Section", "name": "options", "type": "section", "title": "Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "x_coordinate", "argument": "x_coordinate", "type": "text", "label": "Column name containing the x-coordinates values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "X_centroid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "y_coordinate", "argument": "y_coordinate", "type": "text", "label": "Column name containing the y-coordinates values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "Y_centroid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "proximity", "argument": "proximity", "type": "text", "label": "Type in the list of cell-types for which the proximity score needs to calculated", "help": "Comma delimited. e.g.: CellType-A,CellType-B.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "score_by", "argument": "score_by", "type": "text", "label": "Column name containing region's of interest for score comparison", "help": "Optional. By default the score is calculated across the entire image.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "imageid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "phenotype", "argument": "phenotype", "type": "text", "label": "Column name of the column containing the phenotype information", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "phenotype", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "method", "argument": "method", "type": "select", "label": "Select the method", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "radius", "options": [["radius", "radius", true], ["knn", "knn", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "IntegerToolParameter", "name": "radius", "argument": "radius", "type": "integer", "label": "The radius used to define a local neighbhourhood", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "20", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "knn", "argument": "knn", "type": "integer", "label": "Number of cells considered for defining the local neighbhourhood", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "3", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "imageid", "argument": "imageid", "type": "text", "label": "Column name of the column containing the image id", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "imageid", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "subset", "argument": "subset", "type": "text", "label": "Imageid of a single image to be subsetted for analyis", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "label", "argument": "label", "type": "text", "label": "Key for the returned data", "help": "Stored in adata.obs", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "spatial_pscore", "area": false, "datalist": []}]}]}], "test_param": {"model_class": "SelectToolParameter", "name": "selected_tool", "argument": null, "type": "select", "label": "Select an analysis", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "spatial_count", "options": [["Cluster", "cluster", false], ["Spatial Aggregate -- find regions of aggregration of similar cells", "spatial_aggregate", false], ["Spatial Count -- compute a neighbourhood matrix using any categorical variables (e.g. cell-types)", "spatial_count", true], ["Spatial Distance -- calculate the average shortest between phenotypes or clusters of interest", "spatial_distance", false], ["Spatial Expression -- o compute a neighbourhood weighted matrix based on the expression values", "spatial_expression", false], ["Spatial Interaction -- computes how likely celltypes are found next to each another compared to random background", "spatial_interaction", false], ["Spatial LDA -- compute a neighbourhood matrix using any categorical variable and then perform Latent Dirichlet Allocation (LDA) modelling", "spatial_lda", false], ["Spatial pscore -- a scoring system to evaluate user defined proximity between cell types", "spatial_pscore", false]], "display": null, "multiple": false, "textable": false}}], "outputs": [{"model_class": "ToolOutput", "name": "output", "format": "h5ad", "label": "Scimap.tools.${analyses.selected_tool} on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3590", "edam_data": "data_0006", "discover_datasets": []}], "panel_section_id": "multiplex_tissue_imaging", "panel_section_name": "Multiplex Tissue Imaging", "form_style": "regular"}