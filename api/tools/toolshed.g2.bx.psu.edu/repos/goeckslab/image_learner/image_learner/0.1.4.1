{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/goeckslab/image_learner/image_learner/0.1.4.1", "name": "Image Learner", "version": "0.1.4.1", "description": "trains and evaluates an image classification/regression model", "labels": [], "icon": null, "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "image_learner", "owner": "goeckslab", "changeset_revision": "bbf30253c99f", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "input_csv", "argument": null, "type": "data", "label": "the metadata csv containing image_path column, label column and optional split column", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["csv"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "image_zip", "argument": null, "type": "data", "label": "Image zip", "help": "Image zip file containing your image data", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["zip"], "edam": {"edam_formats": ["format_2333"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Conditional", "name": "task_selection", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "binary", "inputs": [{"model_class": "SelectToolParameter", "name": "validation_metric_binary", "argument": null, "type": "select", "label": "Validation metric (binary)", "help": "Metrics accepted by Ludwig for binary outputs.", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "roc_auc", "options": [["ROC-AUC", "roc_auc", true], ["Accuracy", "accuracy", false], ["Precision", "precision", false], ["Recall", "recall", false], ["Specificity", "specificity", false], ["Loss", "loss", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "classification", "inputs": [{"model_class": "SelectToolParameter", "name": "validation_metric_multiclass", "argument": null, "type": "select", "label": "Validation metric (multi-class)", "help": "Metrics accepted by Ludwig for multi-class outputs.", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "accuracy", "options": [["Accuracy", "accuracy", true], ["Balanced Accuracy", "balanced_accuracy", false], ["Hits at K (top-k)", "hits_at_k", false], ["Loss", "loss", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "regression", "inputs": [{"model_class": "SelectToolParameter", "name": "validation_metric_regression", "argument": null, "type": "select", "label": "Validation metric (regression)", "help": "Metrics accepted by Ludwig for regression outputs.", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "mean_squared_error", "options": [["Mean Squared Error", "mean_squared_error", true], ["Mean Absolute Error", "mean_absolute_error", false], ["Root Mean Squared Error", "root_mean_squared_error", false], ["Root Mean Squared Percentage Error", "root_mean_squared_percentage_error", false], ["Loss", "loss", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "auto", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "task", "argument": null, "type": "select", "label": "Task type", "help": "Pick task to see only metrics Ludwig accepts for that task; Auto lets the tool infer task and metric.", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "auto", "options": [["Auto (infer and use defaults)", "auto", true], ["Binary Classification", "binary", false], ["Multi-class Classification", "classification", false], ["Regression", "regression", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "column_override", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "true", "inputs": [{"model_class": "TextToolParameter", "name": "target_column", "argument": null, "type": "text", "label": "Target/label column name", "help": "Overrides the default 'label' column name in the metadata CSV.", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "image_column", "argument": null, "type": "text", "label": "Image column name", "help": "Overrides the default 'image_path' column name in the metadata CSV.", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "false", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "override_columns", "argument": null, "type": "select", "label": "Overwrite label and/or image column names?", "help": "Select yes to specify custom column names instead of the defaults 'label' and 'image_path'.", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "false", "options": [["No", "false", true], ["Yes", "true", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "SelectToolParameter", "name": "model_name", "argument": null, "type": "select", "label": "Select a model for your experiment", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "resnet18", "options": [["Resnet18", "resnet18", false], ["Resnet34", "resnet34", false], ["Resnet50", "resnet50", false], ["Resnet101", "resnet101", false], ["Resnet152", "resnet152", false], ["Resnext50_32x4d", "resnext50_32x4d", false], ["Resnext101_32x8d", "resnext101_32x8d", false], ["Resnext101_64x4d", "resnext101_64x4d", false], ["Resnext152_32x8d", "resnext152_32x8d", false], ["Wide_resnet50_2", "wide_resnet50_2", false], ["Wide_resnet101_2", "wide_resnet101_2", false], ["Wide_resnet103_2", "wide_resnet103_2", false], ["Efficientnet_b0", "efficientnet_b0", false], ["Efficientnet_b1", "efficientnet_b1", false], ["Efficientnet_b2", "efficientnet_b2", false], ["Efficientnet_b3", "efficientnet_b3", false], ["Efficientnet_b4", "efficientnet_b4", false], ["Efficientnet_b5", "efficientnet_b5", false], ["Efficientnet_b6", "efficientnet_b6", false], ["Efficientnet_b7", "efficientnet_b7", false], ["Efficientnet_v2_s", "efficientnet_v2_s", false], ["Efficientnet_v2_m", "efficientnet_v2_m", false], ["Efficientnet_v2_l", "efficientnet_v2_l", false], ["Regnet_y_400mf", "regnet_y_400mf", false], ["Regnet_y_800mf", "regnet_y_800mf", false], ["Regnet_y_1_6gf", "regnet_y_1_6gf", false], ["Regnet_y_3_2gf", "regnet_y_3_2gf", false], ["Regnet_y_8gf", "regnet_y_8gf", false], ["Regnet_y_16gf", "regnet_y_16gf", false], ["Regnet_y_32gf", "regnet_y_32gf", false], ["Regnet_y_128gf", "regnet_y_128gf", false], ["Regnet_x_400mf", "regnet_x_400mf", false], ["Regnet_x_800mf", "regnet_x_800mf", false], ["Regnet_x_1_6gf", "regnet_x_1_6gf", false], ["Regnet_x_3_2gf", "regnet_x_3_2gf", false], ["Regnet_x_8gf", "regnet_x_8gf", false], ["Regnet_x_16gf", "regnet_x_16gf", false], ["Regnet_x_32gf", "regnet_x_32gf", false], ["Vgg11", "vgg11", false], ["Vgg11_bn", "vgg11_bn", false], ["Vgg13", "vgg13", false], ["Vgg13_bn", "vgg13_bn", false], ["Vgg16", "vgg16", false], ["Vgg16_bn", "vgg16_bn", false], ["Vgg19", "vgg19", false], ["Vgg19_bn", "vgg19_bn", false], ["Shufflenet_v2_x0_5", "shufflenet_v2_x0_5", false], ["Shufflenet_v2_x1_0", "shufflenet_v2_x1_0", false], ["Shufflenet_v2_x1_5", "shufflenet_v2_x1_5", false], ["Shufflenet_v2_x2_0", "shufflenet_v2_x2_0", false], ["Squeezenet1_0", "squeezenet1_0", false], ["Squeezenet1_1", "squeezenet1_1", false], ["Swin_t", "swin_t", false], ["Swin_s", "swin_s", false], ["Swin_b", "swin_b", false], ["Swin_v2_t", "swin_v2_t", false], ["Swin_v2_s", "swin_v2_s", false], ["Swin_v2_b", "swin_v2_b", false], ["Vit_b_16", "vit_b_16", false], ["Vit_b_32", "vit_b_32", false], ["Vit_l_16", "vit_l_16", false], ["Vit_l_32", "vit_l_32", false], ["Vit_h_14", "vit_h_14", false], ["Convnext_tiny", "convnext_tiny", false], ["Convnext_small", "convnext_small", false], ["Convnext_base", "convnext_base", false], ["Convnext_large", "convnext_large", false], ["Maxvit_t", "maxvit_t", false], ["Alexnet", "alexnet", false], ["Googlenet", "googlenet", false], ["Inception_v3", "inception_v3", false], ["Mobilenet_v2", "mobilenet_v2", false], ["Mobilenet_v3_large", "mobilenet_v3_large", false], ["Mobilenet_v3_small", "mobilenet_v3_small", false], ["IdentityFormer S12", "identityformer_s12", false], ["IdentityFormer S24", "identityformer_s24", false], ["IdentityFormer S36", "identityformer_s36", false], ["IdentityFormer M36", "identityformer_m36", false], ["IdentityFormer M48", "identityformer_m48", false], ["RandFormer S12", "randformer_s12", false], ["RandFormer S24", "randformer_s24", false], ["RandFormer S36", "randformer_s36", false], ["RandFormer M36", "randformer_m36", false], ["RandFormer M48", "randformer_m48", false], ["PoolFormerV2 S12", "poolformerv2_s12", false], ["PoolFormerV2 S24", "poolformerv2_s24", false], ["PoolFormerV2 S36", "poolformerv2_s36", false], ["PoolFormerV2 M36", "poolformerv2_m36", false], ["PoolFormerV2 M48", "poolformerv2_m48", false], ["ConvFormer S18", "convformer_s18", false], ["ConvFormer S18 384", "convformer_s18_384", false], ["ConvFormer S18 ImageNet21k", "convformer_s18_in21ft1k", false], ["ConvFormer S18 384 ImageNet21k", "convformer_s18_384_in21ft1k", false], ["ConvFormer S18 ImageNet21k Pretrained", "convformer_s18_in21k", false], ["ConvFormer S36", "convformer_s36", false], ["ConvFormer S36 384", "convformer_s36_384", false], ["ConvFormer S36 ImageNet21k", "convformer_s36_in21ft1k", false], ["ConvFormer S36 384 ImageNet21k", "convformer_s36_384_in21ft1k", false], ["ConvFormer S36 ImageNet21k Pretrained", "convformer_s36_in21k", false], ["ConvFormer M36", "convformer_m36", false], ["ConvFormer M36 384", "convformer_m36_384", false], ["ConvFormer M36 ImageNet21k", "convformer_m36_in21ft1k", false], ["ConvFormer M36 384 ImageNet21k", "convformer_m36_384_in21ft1k", false], ["ConvFormer M36 ImageNet21k Pretrained", "convformer_m36_in21k", false], ["ConvFormer B36", "convformer_b36", false], ["ConvFormer B36 384", "convformer_b36_384", false], ["ConvFormer B36 ImageNet21k", "convformer_b36_in21ft1k", false], ["ConvFormer B36 384 ImageNet21k", "convformer_b36_384_in21ft1k", false], ["ConvFormer B36 ImageNet21k Pretrained", "convformer_b36_in21k", false], ["CAFormer S18", "caformer_s18", false], ["CAFormer S18 384", "caformer_s18_384", false], ["CAFormer S18 ImageNet21k", "caformer_s18_in21ft1k", false], ["CAFormer S18 384 ImageNet21k", "caformer_s18_384_in21ft1k", false], ["CAFormer S18 ImageNet21k Pretrained", "caformer_s18_in21k", false], ["CAFormer S36", "caformer_s36", false], ["CAFormer S36 384", "caformer_s36_384", false], ["CAFormer S36 ImageNet21k", "caformer_s36_in21ft1k", false], ["CAFormer S36 384 ImageNet21k", "caformer_s36_384_in21ft1k", false], ["CAFormer S36 ImageNet21k Pretrained", "caformer_s36_in21k", false], ["CAFormer M36", "caformer_m36", false], ["CAFormer M36 384", "caformer_m36_384", false], ["CAFormer M36 ImageNet21k", "caformer_m36_in21ft1k", false], ["CAFormer M36 384 ImageNet21k", "caformer_m36_384_in21ft1k", false], ["CAFormer M36 ImageNet21k Pretrained", "caformer_m36_in21k", false], ["CAFormer B36", "caformer_b36", false], ["CAFormer B36 384", "caformer_b36_384", false], ["CAFormer B36 ImageNet21k", "caformer_b36_in21ft1k", false], ["CAFormer B36 384 ImageNet21k", "caformer_b36_384_in21ft1k", false], ["CAFormer B36 ImageNet21k Pretrained", "caformer_b36_in21k", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "Conditional", "name": "scratch_fine_tune", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "true", "inputs": [{"model_class": "SelectToolParameter", "name": "fine_tune", "argument": null, "type": "select", "label": "Fine tune the encoder?", "help": "Whether to fine tune the encoder(combiner and decoder will be fine-tuned anyway)", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "true", "options": [["No", "false", false], ["Yes", "true", true]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "false", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "use_pretrained", "argument": null, "type": "select", "label": "Use pretrained weights?", "help": "If select no, the encoder, combiner, and decoder will all be initialized and trained from scratch. (e.g. when your images are very different from ImageNet or no suitable pretrained model exists.)", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "true", "options": [["No", "false", false], ["Yes", "true", true]], "display": null, "multiple": false, "textable": false}}, {"model_class": "SelectToolParameter", "name": "image_resize", "argument": null, "type": "select", "label": "Image Resize", "help": "Select the size to resize images to. Original size keeps images as-is, while other options resize all images to the specified dimensions.", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "original", "options": [["Original Size (No Resize)", "original", true], ["96x96", "96x96", false], ["128x128", "128x128", false], ["160x160", "160x160", false], ["192x192", "192x192", false], ["220x220", "220x220", false], ["224x224", "224x224", false], ["256x256", "256x256", false], ["299x299", "299x299", false], ["320x320", "320x320", false], ["384x384", "384x384", false], ["448x448", "448x448", false], ["512x512", "512x512", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "augmentation", "argument": null, "type": "select", "label": "Image Augmentation", "help": "Pick any combination of augmentations to apply", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "options": [["Random Horizontal Flip", "random_horizontal_flip", false], ["Random Vertical Flip", "random_vertical_flip", false], ["Random Rotate", "random_rotate", false], ["Random Blur", "random_blur", false], ["Random Brightness", "random_brightness", false], ["Random Contrast", "random_contrast", false]], "display": "checkboxes", "multiple": true, "textable": false}, {"model_class": "IntegerToolParameter", "name": "random_seed", "argument": "random_seed", "type": "integer", "label": "Random seed (set for reproducibility)", "help": "", "help_format": "html", "refresh_on_change": false, "min": 0, "max": 999999, "optional": true, "hidden": false, "is_dynamic": false, "value": "42", "area": false, "datalist": []}, {"model_class": "Conditional", "name": "advanced_settings", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "true", "inputs": [{"model_class": "IntegerToolParameter", "name": "epochs", "argument": null, "type": "integer", "label": "Epochs", "help": "Total number of full passes through the training dataset. Higher values may improve accuracy but increase training time. Default: 10.", "help_format": "html", "refresh_on_change": false, "min": 1, "max": 99999, "optional": false, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "early_stop", "argument": null, "type": "integer", "label": "Early Stop", "help": "Number of epochs with no improvement after which training will be stopped. Default: 5.", "help_format": "html", "refresh_on_change": false, "min": 1, "max": 99999, "optional": false, "hidden": false, "is_dynamic": false, "value": "5", "area": false, "datalist": []}, {"model_class": "Conditional", "name": "learning_rate_condition", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "true", "inputs": [{"model_class": "FloatToolParameter", "name": "learning_rate", "argument": null, "type": "float", "label": "Learning Rate", "help": "Initial learning rate for the optimizer. Default: 0.001.", "help_format": "html", "refresh_on_change": false, "min": 0.0001, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.001", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "false", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "learning_rate_define", "argument": null, "type": "select", "label": "Define an initial learning rate?", "help": "Want to change the initial learning rate from default to a number? See ludwig.ai for more info. Default: No", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "false", "options": [["No", "false", true], ["Yes", "true", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "batch_size_condition", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "true", "inputs": [{"model_class": "IntegerToolParameter", "name": "batch_size", "argument": null, "type": "integer", "label": "Batch Size", "help": "Number of samples per gradient update. Default: 32.", "help_format": "html", "refresh_on_change": false, "min": 1, "max": 99999, "optional": false, "hidden": false, "is_dynamic": false, "value": "32", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "false", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "batch_size_define", "argument": null, "type": "select", "label": "Define your batch size?", "help": "Want to change the batch size from auto to a number? See ludwig.ai for more info. Default: No", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "false", "options": [["No", "false", true], ["Yes", "true", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "FloatToolParameter", "name": "train_split", "argument": null, "type": "float", "label": "Training split proportion (only works if no split column in the metadata csv)", "help": "Fraction of data for training (e.g., 0.7). train split + val split + test split should = 1", "help_format": "html", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.7", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "val_split", "argument": null, "type": "float", "label": "Validation split proportion (only works if no split column in the metadata csv)", "help": "Fraction of data for validation (e.g., 0.1). train split + val split + test split should = 1", "help_format": "html", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.1", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "test_split", "argument": null, "type": "float", "label": "Test split proportion (only works if no split column in the metadata csv)", "help": "Fraction of data for testing (e.g., 0.2) train split + val split + test split should = 1.", "help_format": "html", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.2", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "threshold", "argument": null, "type": "float", "label": "Decision Threshold (binary only)", "help": "Set the decision threshold for binary classification (0.0\u20131.0). Only applies when task is binary; default is 0.5.", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.5", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "false", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "customize_defaults", "argument": null, "type": "select", "label": "Customize Default Settings?", "help": "Select yes if you want to customize the default settings of the experiment.", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "false", "options": [["No", "false", true], ["Yes", "true", false]], "display": null, "multiple": false, "textable": false}}], "outputs": [{"model_class": "ToolOutputCollection", "name": "output_pred_csv", "format": null, "label": "${tool.name} predictions CSVs/experiment stats/plots on ${on_string}", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": [{"discover_via": "pattern", "format": "csv", "visible": false, "assign_primary_output": false, "directory": "experiment_run", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "sort_reverse": false, "pattern": "(?P<designation>predictions\\.csv)"}, {"discover_via": "pattern", "format": "json", "visible": false, "assign_primary_output": false, "directory": "experiment_run", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "sort_reverse": false, "pattern": "(?P<designation>.+)\\.json"}, {"discover_via": "pattern", "format": "png", "visible": false, "assign_primary_output": false, "directory": "experiment_run/visualizations/train", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "sort_reverse": false, "pattern": "(?P<designation>.+)\\.png"}, {"discover_via": "pattern", "format": "png", "visible": false, "assign_primary_output": false, "directory": "experiment_run/visualizations/test", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "sort_reverse": false, "pattern": "(?P<designation>.+)\\.png"}]}}, {"model_class": "ToolOutput", "name": "output_model", "format": "ludwig_model", "label": "${tool.name} trained model on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": null, "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2331", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "output_report", "format": "html", "label": "${tool.name} report on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": null, "parent": null, "count": 1, "from_work_dir": "image_classification_results_report.html", "edam_format": "format_2331", "edam_data": "data_0006", "discover_datasets": []}], "panel_section_id": "machine_learning", "panel_section_name": "Machine Learning", "form_style": "regular"}