{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/goeckslab/squidpy/squidpy_spatial/1.1.2+galaxy0", "name": "Squidpy Graph and Plotting", "version": "1.1.2+galaxy0", "description": "for spatial analysis", "labels": [], "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "squidpy", "owner": "goeckslab", "changeset_revision": "be0e7952e229", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "anndata", "argument": null, "type": "data", "label": "Select the input anndata", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["h5ad"], "edam": {"edam_formats": ["format_3590"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Conditional", "name": "analyses", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "spatial_neighbors", "inputs": [{"model_class": "Section", "name": "options", "type": "section", "title": "Advanced Graph Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "spatial_key", "argument": "spatial_key", "type": "text", "label": "The Key where spatial coordinates are stored", "help": "Key in `anndata.AnnData.obsm`.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "spatial", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "coord_type", "argument": "coord_type", "type": "select", "label": "Type of coordinate system", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "grid", "options": [["grid", "grid", true], ["generic", "generic", false], ["None - use `grid` when `spatial_key` is in `anndata.AnnData.uns with `n_neighs` = 6 (Visium), otherwise `generic`", "none", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "IntegerToolParameter", "name": "n_neighs", "argument": "n_neighs", "type": "integer", "label": "Number of neighboring tiles", "help": "When the `coord_type` is generic, this's number of neighborhoods for non-grid data and only used when `delaunay` is False.", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "6", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "radius", "argument": "radius", "type": "text", "label": "Radius", "help": "Only available when coord_type = 'generic'. If float, this is the neighborhood radius to compute the graph; if tuple, this is edge range [min(radius), max(radius)] used prune the final graph.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "delaunay", "argument": "delaunay", "type": "boolean", "label": "Whether to compute the graph from Delaunay triangulation", "help": "Only used when coord_type = 'generic'.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "IntegerToolParameter", "name": "n_rings", "argument": "n_rings", "type": "integer", "label": "Number of rings of neighbors for grid data", "help": "Only used when coord_type = 'grid'.", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "transform", "argument": "transform", "type": "select", "label": "Type of adjacency matrix transform", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "none", "options": [["None", "none", true], ["spectral", "spectral", false], ["cosine", "cosine", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "BooleanToolParameter", "name": "set_diag", "argument": "set_diag", "type": "boolean", "label": "Whether to set the diagonal of the spatial connectivities to 1.0", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "TextToolParameter", "name": "key_added", "argument": "key_added", "type": "text", "label": "The column name used in anndata to store the returned data", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "spatial", "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "nhood_enrichment", "inputs": [{"model_class": "TextToolParameter", "name": "cluster_key", "argument": "cluster_key", "type": "text", "label": "Key in anndata.AnnData.obs where clustering is stored", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "Section", "name": "options", "type": "section", "title": "Advanced Graph Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "connectivity_key", "argument": "connectivity_key", "type": "text", "label": "Key in anndata.AnnData.obsp where spatial connectivities are stored", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "n_perms", "argument": "n_perms", "type": "integer", "label": "Number of permutations for the permutation test", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1000", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "numba_parallel", "argument": "numba_parallel", "type": "select", "label": "Whether to use numba.prange or not", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "false", "options": [["No -- Recommended for small datasets or small number of interactions", "false", true], ["Yes", "true", false], ["Auto", "none", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "IntegerToolParameter", "name": "seed", "argument": "seed", "type": "integer", "label": "Randomness seed", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}, {"model_class": "Section", "name": "plotting_options", "type": "section", "title": "Plotting Options", "help": null, "expanded": false, "inputs": [{"model_class": "SelectToolParameter", "name": "mode", "argument": "mode", "type": "select", "label": "Choose one result from gr.nhood_enrichment to plot", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "zscore", "options": [["zscore", "zscore", true], ["count", "count", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "BooleanToolParameter", "name": "annotate", "argument": "annotate", "type": "boolean", "label": "Whether to annotate the cells of the heatmap?", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "SelectToolParameter", "name": "method", "argument": "method", "type": "select", "label": "The linkage method to be used for dendrogram/clustering", "help": "see scipy.cluster.hierarchy.linkage().", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "none", "options": [["None", "none", true], ["single", "single", false], ["complete", "complete", false], ["average", "average", false], ["weighted", "weighted", false], ["centroid", "centroid", false], ["median", "median", false], ["ward", "ward", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "TextToolParameter", "name": "title", "argument": "title", "type": "text", "label": "The title of the plot", "help": "Optional.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "cmap", "argument": "cmap", "type": "text", "label": "Continuous colormap to use", "help": "Refer to `matplotlib.pyplot.cmap`.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "viridis", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "palette", "argument": "palette", "type": "text", "label": "Categorical colormap for the clusters", "help": "Comma delimited for multiple. If None, use anndata.AnnData.uns ['{cluster_key}_colors'], if available.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "figsize", "argument": "figsize", "type": "text", "label": "Size of the figure in inches", "help": "Optional. e.g.: (12, 12).", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "dpi", "argument": "dpi", "type": "integer", "label": "Dots per inch", "help": "Optional", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "co_occurrence", "inputs": [{"model_class": "TextToolParameter", "name": "cluster_key", "argument": "cluster_key", "type": "text", "label": "Key in anndata.AnnData.obs where clustering is stored", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "Section", "name": "options", "type": "section", "title": "Advanced Graph Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "spatial_key", "argument": "spatial_key", "type": "text", "label": "The Key where spatial coordinates are stored", "help": "Key in `anndata.AnnData.obsm`.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "spatial", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "n_steps", "argument": "n_steps", "type": "integer", "label": "Number of distance thresholds at which co-occurrence is computed", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "50", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "n_splits", "argument": "n_splits", "type": "integer", "label": "Number of splits in which to divide the spatial coordinates", "help": "In anndata.AnnData.obsm ['{spatial_key}'].", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}, {"model_class": "Section", "name": "plotting_options", "type": "section", "title": "Plotting Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "palette", "argument": "palette", "type": "text", "label": "Categorical colormap for the clusters", "help": "Comma delimited for multiple. If None, use anndata.AnnData.uns ['{cluster_key}_colors'], if available.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "figsize", "argument": "figsize", "type": "text", "label": "Size of the figure in inches", "help": "Optional. e.g.: (12, 12).", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "dpi", "argument": "dpi", "type": "integer", "label": "Dots per inch", "help": "Optional", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "centrality_scores", "inputs": [{"model_class": "TextToolParameter", "name": "cluster_key", "argument": "cluster_key", "type": "text", "label": "Key in anndata.AnnData.obs where clustering is stored", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "Section", "name": "options", "type": "section", "title": "Advanced Graph Options", "help": null, "expanded": false, "inputs": [{"model_class": "SelectToolParameter", "name": "score", "argument": "score", "type": "select", "label": "Centrality measures as described in networkx.algorithms.centrality", "help": "Refer to [Hagberg et al., 2008].", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "none", "options": [["None", "none", true], ["closeness_centrality -- measure of how close the group is to other nodes", "closeness_centrality", false], ["average_clustering -- measure of the degree to which nodes cluster together", "average_clustering", false], ["degree_centrality -- fraction of non-group members connected to group members", "degree_centrality", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "TextToolParameter", "name": "connectivity_key", "argument": "connectivity_key", "type": "text", "label": "Key in anndata.AnnData.obsp where spatial connectivities are stored", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}, {"model_class": "Section", "name": "plotting_options", "type": "section", "title": "Plotting Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "score", "argument": "score", "type": "text", "label": "The scores to plot", "help": "Comma delimited for multiple. If None, plot all scores.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "palette", "argument": "palette", "type": "text", "label": "Categorical colormap for the clusters", "help": "Comma delimited for multiple. If None, use anndata.AnnData.uns ['{cluster_key}_colors'], if available.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "figsize", "argument": "figsize", "type": "text", "label": "Size of the figure in inches", "help": "Optional. e.g.: (12, 12).", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "dpi", "argument": "dpi", "type": "integer", "label": "Dots per inch", "help": "Optional", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "interaction_matrix", "inputs": [{"model_class": "TextToolParameter", "name": "cluster_key", "argument": "cluster_key", "type": "text", "label": "Key in anndata.AnnData.obs where clustering is stored", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "Section", "name": "options", "type": "section", "title": "Advanced Graph Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "connectivity_key", "argument": "connectivity_key", "type": "text", "label": "Key in anndata.AnnData.obsp where spatial connectivities are stored", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "normalized", "argument": "normalized", "type": "boolean", "label": "Whether to normalize the sum of each row to 1", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "BooleanToolParameter", "name": "weights", "argument": "weights", "type": "boolean", "label": "Whether to use edge weights or binarize", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}]}, {"model_class": "Section", "name": "plotting_options", "type": "section", "title": "Plotting Options", "help": null, "expanded": false, "inputs": [{"model_class": "BooleanToolParameter", "name": "annotate", "argument": "annotate", "type": "boolean", "label": "Whether to annotate the cells of the heatmap?", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "SelectToolParameter", "name": "method", "argument": "method", "type": "select", "label": "The linkage method to be used for dendrogram/clustering", "help": "see scipy.cluster.hierarchy.linkage().", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "none", "options": [["None", "none", true], ["single", "single", false], ["complete", "complete", false], ["average", "average", false], ["weighted", "weighted", false], ["centroid", "centroid", false], ["median", "median", false], ["ward", "ward", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "TextToolParameter", "name": "title", "argument": "title", "type": "text", "label": "The title of the plot", "help": "Optional.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "cmap", "argument": "cmap", "type": "text", "label": "Continuous colormap to use", "help": "Refer to `matplotlib.pyplot.cmap`.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "viridis", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "palette", "argument": "palette", "type": "text", "label": "Categorical colormap for the clusters", "help": "Comma delimited for multiple. If None, use anndata.AnnData.uns ['{cluster_key}_colors'], if available.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "figsize", "argument": "figsize", "type": "text", "label": "Size of the figure in inches", "help": "Optional. e.g.: (12, 12).", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "dpi", "argument": "dpi", "type": "integer", "label": "Dots per inch", "help": "Optional", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "ripley", "inputs": [{"model_class": "TextToolParameter", "name": "cluster_key", "argument": "cluster_key", "type": "text", "label": "Key in anndata.AnnData.obs where clustering is stored", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "Section", "name": "options", "type": "section", "title": "Advanced Graph Options", "help": null, "expanded": false, "inputs": [{"model_class": "SelectToolParameter", "name": "mode", "argument": "mode", "type": "select", "label": "Which Ripley\u2019s statistic to compute", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "F", "options": [["F", "F", true], ["G", "G", false], ["L", "L", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "TextToolParameter", "name": "spatial_key", "argument": "spatial_key", "type": "text", "label": "The Key where spatial coordinates are stored", "help": "Key in `anndata.AnnData.obsm`.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "spatial", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "metric", "argument": "metric", "type": "select", "label": "Which metric to use for computing distances", "help": "Refer to `sklearn.neighbors.DistanceMetric`.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "euclidean", "options": [["euclidean", "euclidean", true], ["manhattan", "manhattan", false], ["chebyshev", "chebyshev", false], ["minkowski", "minkowski", false], ["wminkowski", "wminkowski", false], ["seuclidean", "seuclidean", false], ["mahalanobis", "mahalanobis", false], ["haversine", "haversine", false], ["hamming", "hamming", false], ["canberra", "canberra", false], ["braycurtis", "braycurtis", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "IntegerToolParameter", "name": "n_neigh", "argument": "n_neigh", "type": "integer", "label": "Number of neighbors to consider for the KNN graph", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "2", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "n_simulations", "argument": "n_simulations", "type": "integer", "label": "Number of simulations to run for computing p-values", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "100", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "n_observations", "argument": "n_observations", "type": "integer", "label": "Number of observations to generate for the Spatial Poisson Point Process", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1000", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "max_dist", "argument": "max_dist", "type": "float", "label": "Maximum distances for the support", "help": "If None, max_dist is the square root of area/2.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "n_steps", "argument": "n_steps", "type": "integer", "label": "Number of steps for the support", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "50", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "seed", "argument": "seed", "type": "integer", "label": "Randomness seed", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}, {"model_class": "Section", "name": "plotting_options", "type": "section", "title": "Plotting Options", "help": null, "expanded": false, "inputs": [{"model_class": "SelectToolParameter", "name": "mode", "argument": "mode", "type": "select", "label": "Ripley\u2019s statistics to be plotted", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "F", "options": [["F", "F", true], ["G", "G", false], ["L", "L", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "BooleanToolParameter", "name": "plot_sims", "argument": "plot_sims", "type": "boolean", "label": "Whether to overlay simulations in the plot", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "true", "falsevalue": "false"}, {"model_class": "TextToolParameter", "name": "palette", "argument": "palette", "type": "text", "label": "Categorical colormap for the clusters", "help": "Comma delimited for multiple. If None, use anndata.AnnData.uns ['{cluster_key}_colors'], if available.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "figsize", "argument": "figsize", "type": "text", "label": "Size of the figure in inches", "help": "Optional. e.g.: (12, 12).", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "dpi", "argument": "dpi", "type": "integer", "label": "Dots per inch", "help": "Optional", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "ligrec", "inputs": [{"model_class": "TextToolParameter", "name": "cluster_key", "argument": "cluster_key", "type": "text", "label": "Key in anndata.AnnData.obs where clustering is stored", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "Section", "name": "options", "type": "section", "title": "Advanced Graph Options", "help": null, "expanded": false, "inputs": [{"model_class": "BooleanToolParameter", "name": "use_raw", "argument": "use_raw", "type": "boolean", "label": "Whether to access anndata.AnnData.raw", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "true", "falsevalue": "false"}, {"model_class": "DataToolParameter", "name": "interactions", "argument": "interactions", "type": "data", "label": "Select the dataset containing interaction to test", "help": "Must contain at least 2 columns named \u2018source\u2019 and \u2018target\u2019. Can be null, a condition under which the interactions are extracted from omnipath.", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "SelectToolParameter", "name": "complex_policy", "argument": "complex_policy", "type": "select", "label": "Policy on how to handle complexes", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "min", "options": [["min -- select gene with the minimum average expression", "min", true], ["all --  select all possible combinations between \u2018source\u2019 and \u2018target\u2019 complexes", "all", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "IntegerToolParameter", "name": "n_perms", "argument": "n_perms", "type": "integer", "label": "Number of permutations for the permutation test.", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "threshold", "argument": "threshold", "type": "float", "label": "Do not perform permutation test if any of the interacting components is being expressed in less than threshold percent of cells within a given cluster", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.01", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "corr_method", "argument": "corr_method", "type": "select", "label": "Correction method for multiple testing", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "none", "options": [["None", "none", true], ["bonferroni", "bonferroni", false], ["sidak", "sidak", false], ["holm-sidak", "holm-sidak", false], ["holm", "holm", false], ["simes-hochberg", "simes-hochberg", false], ["hommel", "hommel", false], ["fdr_bh", "fdr_bh", false], ["fdr_by", "fdr_by", false], ["fdr_tsbh", "fdr_tsbh", false], ["fdr_tsbky", "fdr_tsbky", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "corr_axis", "argument": "corr_axis", "type": "select", "label": "Axis over which to perform the FDR correction", "help": "Only used when corr_method != None.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "clusters", "options": [["clusters -- correct clusters by performing FDR correction across the interactions", "clusters", true], ["interactions -- correct interactions by performing FDR correction across the clusters", "interactions", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "numba_parallel", "argument": "numba_parallel", "type": "select", "label": "Whether to use numba.prange or not", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "false", "options": [["No -- Recommended for small datasets or small number of interactions", "false", true], ["Yes", "true", false], ["Auto", "none", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "TextToolParameter", "name": "key_added", "argument": "key_added", "type": "text", "label": "Key in anndata to store the result", "help": "In `anndata.AnnData.uns`. If None, '{cluster_key}_ligrec' will be used.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "gene_symbols", "argument": "gene_symbols", "type": "text", "label": "Key in anndata.AnnData.var to use instead of anndata.AnnData.var_names", "help": "Optional.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "seed", "argument": "seed", "type": "integer", "label": "Randomness seed", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}, {"model_class": "Section", "name": "plotting_options", "type": "section", "title": "Plotting Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "source_groups", "argument": "source_groups", "type": "text", "label": "Source interaction clusters", "help": "Comma delimited. If None, select all clusters.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "target_groups", "argument": "target_groups", "type": "text", "label": "Target interaction clusters", "help": "Comma delimited. If None, select all clusters.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "means_range", "argument": "means_range", "type": "text", "label": "Only show interactions whose means are within this closed interval", "help": "Tuple of floats. e.g.: (-10, 10).", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "(-inf, inf)", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "pvalue_threshold", "argument": "pvalue_threshold", "type": "float", "label": "Only show interactions with p-value less than this threshold", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1.0", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "remove_empty_interactions", "argument": "remove_empty_interactions", "type": "boolean", "label": "Whether to remove rows and columns that only contain interactions with NaN values?", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "true", "falsevalue": "false"}, {"model_class": "BooleanToolParameter", "name": "remove_nonsig_interactions", "argument": "remove_nonsig_interactions", "type": "boolean", "label": "Whether to remove rows and columns that only contain interactions that are larger than `alpha`? ", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "SelectToolParameter", "name": "dendrogram", "argument": "dendrogram", "type": "select", "label": "How to cluster based on the p-values?", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "none", "options": [["None", "none", true], ["interacting_molecules", "interacting_molecules", false], ["interacting_clusters", "interacting_clusters", false], ["both", "both", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "FloatToolParameter", "name": "alpha", "argument": "alpha", "type": "float", "label": "Significance threshold", "help": "All elements with p-values less than alpha will be marked by tori instead of dots.", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.001", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "swap_axes", "argument": "swap_axes", "type": "boolean", "label": "Whether to show the cluster combinations as rows and the interacting pairs as columns", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "TextToolParameter", "name": "figsize", "argument": "figsize", "type": "text", "label": "Size of the figure in inches", "help": "Optional. e.g.: (12, 12).", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "dpi", "argument": "dpi", "type": "integer", "label": "Dots per inch", "help": "Optional", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "spatial_autocorr", "inputs": [{"model_class": "Section", "name": "options", "type": "section", "title": "Advanced Graph Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "connectivity_key", "argument": "connectivity_key", "type": "text", "label": "Key in anndata.AnnData.obsp where spatial connectivities are stored", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "spatial_connectivities", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "genes", "argument": "genes", "type": "text", "label": "List of gene names, as stored in anndata.AnnData.var_names", "help": "Comma delitimited.  Used to compute global spatial autocorrelation statistic. If None, it\u2019s computed anndata.AnnData.var ['highly_variable'].", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "mode", "argument": "mode", "type": "select", "label": "", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "moran", "options": [["moran", "moran", true], ["geary", "geary", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "BooleanToolParameter", "name": "transformation", "argument": "transformation", "type": "boolean", "label": "Whether to perform row-normalization on weights in anndata.AnnData.obsp ['spatial_connectivities']", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "true", "falsevalue": "false"}, {"model_class": "IntegerToolParameter", "name": "n_perms", "argument": "n_perms", "type": "integer", "label": "Number of permutations for the permutation test.", "help": "If None, only p-values under normality assumption are computed", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "two_tailed", "argument": "two_tailed", "type": "boolean", "label": "Are the p-values two-tailed?", "help": "One-tailed, if False.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "SelectToolParameter", "name": "corr_method", "argument": "corr_method", "type": "select", "label": "Correction method for multiple testing", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "none", "options": [["None", "none", true], ["bonferroni", "bonferroni", false], ["sidak", "sidak", false], ["holm-sidak", "holm-sidak", false], ["holm", "holm", false], ["simes-hochberg", "simes-hochberg", false], ["hommel", "hommel", false], ["fdr_bh", "fdr_bh", false], ["fdr_by", "fdr_by", false], ["fdr_tsbh", "fdr_tsbh", false], ["fdr_tsbky", "fdr_tsbky", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "TextToolParameter", "name": "layer", "argument": "layer", "type": "text", "label": "Layer in anndata.AnnData.layers to use", "help": "If None, use anndata.AnnData.X.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "seed", "argument": "seed", "type": "integer", "label": "Randomness seed", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "sepal", "inputs": [{"model_class": "Section", "name": "options", "type": "section", "title": "Advanced Graph Options", "help": null, "expanded": false, "inputs": [{"model_class": "SelectToolParameter", "name": "max_neighs", "argument": "max_neighs", "type": "select", "label": "Maximum number of neighbors of a node in the graph", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "4", "options": [["4 -- for a square-grid (ST, Dbit-seq)", "4", true], ["6 -- for a hexagonal-grid (Visium)", "6", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "TextToolParameter", "name": "genes", "argument": "genes", "type": "text", "label": "List of gene names, as stored in anndata.AnnData.var_names", "help": "Comma delitimited.  Used to compute global spatial autocorrelation statistic. If None, it\u2019s computed anndata.AnnData.var ['highly_variable'].", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "n_iter", "argument": "n_iter", "type": "integer", "label": "Maximum number of iterations for the diffusion simulation", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "30000", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "dt", "argument": "dt", "type": "float", "label": "Time step in diffusion simulation", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.001", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "thresh", "argument": "thresh", "type": "float", "label": "Entropy threshold for convergence of diffusion simulation", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1e-08", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "spatial_key", "argument": "spatial_key", "type": "text", "label": "The Key where spatial coordinates are stored", "help": "Key in `anndata.AnnData.obsm`.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "spatial", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "connectivity_key", "argument": "connectivity_key", "type": "text", "label": "Key in anndata.AnnData.obsp where spatial connectivities are stored", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "spatial_connectivities", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "layer", "argument": "layer", "type": "text", "label": "Layer in anndata.AnnData.layers to use", "help": "If None, use anndata.AnnData.X.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "use_raw", "argument": "use_raw", "type": "boolean", "label": "Whether to access anndata.AnnData.raw", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "true", "falsevalue": "false"}]}]}], "test_param": {"model_class": "SelectToolParameter", "name": "selected_tool", "argument": null, "type": "select", "label": "Select an analysis", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "spatial_neighbors", "options": [["Spatial neighbors -- Create a graph from spatial coordinates", "spatial_neighbors", true], ["nhood_enrichment -- Compute neighborhood enrichment by permutation test.", "nhood_enrichment", false], ["co_occurrence -- Compute co-occurrence probability of clusters", "co_occurrence", false], ["centrality_scores -- Compute centrality scores per cluster or cell type", "centrality_scores", false], ["interaction_matrix -- Compute interaction matrix for clusters", "interaction_matrix", false], ["ripley -- Calculate various Ripley\u2019s statistics for point processes", "ripley", false], ["ligrec -- Perform the permutation test as described in [Efremova et al., 2020]", "ligrec", false], ["spatial_autocorr -- Calculate Global Autocorrelation Statistic (Moran\u2019s I or Geary\u2019s C)", "spatial_autocorr", false], ["sepal -- Identify spatially variable genes with Sepal", "sepal", false]], "display": null, "multiple": false, "textable": false}}], "outputs": [{"model_class": "ToolOutput", "name": "output", "format": "h5ad", "label": "Squidpy.gr.${analyses.selected_tool} on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3590", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "output_plot", "format": "png", "label": "Squidpy.pl.${analyses.selected_tool} on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "image.png", "edam_format": "format_3603", "edam_data": "data_2968", "discover_datasets": []}], "panel_section_id": "imaging", "panel_section_name": "Imaging", "form_style": "regular"}