{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/computational-metabolomics/mspurity_dimspredictpuritysingle/mspurity_dimspredictpuritysingle/1.12.0+galaxy1", "name": "msPurity.dimsPredictPuritySingle", "version": "1.12.0+galaxy1", "description": "Calculate the anticipated precursor ion purity from a DIMS dataset.", "labels": [], "edam_operations": ["operation_3214"], "edam_topics": ["topic_3520", "topic_0154", "topic_0121"], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "mspurity", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "mspurity_dimspredictpuritysingle", "owner": "computational-metabolomics", "changeset_revision": "3959cddb01a6", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "peaks_file", "argument": "--peaks_file", "type": "data", "label": "", "help": "tsv or tabular file with one column containing the mz values (column header should be either                       mz)", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tsv", "tabular"], "edam": {"edam_formats": ["format_3475", "format_3475"], "edam_data": ["data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Conditional", "name": "mzML_data", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "mzML_file", "inputs": [{"model_class": "DataToolParameter", "name": "source", "argument": "--mzML_file", "type": "data", "label": "Single *.mzML", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["mzml"], "edam": {"edam_formats": ["format_3244"], "edam_data": ["data_2536"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "mzML_data_collection", "inputs": [{"model_class": "DataCollectionToolParameter", "name": "source", "argument": "--mzML_files", "type": "data_collection", "label": "Data collection containing *.mzml files", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["data"], "multiple": false, "options": {"hda": [], "hdca": [], "dce": []}, "tag": null}, {"model_class": "TextToolParameter", "name": "mzML_filename", "argument": "--mzML_filename", "type": "text", "label": "Name of file to to calculate purity from", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "library", "inputs": [{"model_class": "TextToolParameter", "name": "source", "argument": "--mzML_file", "type": "text", "label": "Library directory containing *.mzml files (dimspy input only)                                                                  or path to an individual .mzML file", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "format", "argument": null, "type": "select", "label": "Choose the source for the dataset", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "mzML_file", "options": [["A single .mzML files to check purity from", "mzML_file", true], ["Library directory name (to be used with dimspy workflows) or path to\n                                        to an individual .mzML file", "library", false], ["A data collection of .mzML files", "mzML_data_collection", true]], "display": null, "multiple": false, "textable": false}}, {"model_class": "FloatToolParameter", "name": "ilim", "argument": "--ilim", "type": "float", "label": "Threshold to remove peaks below x % of the relative intensity of                precursor of interest", "help": "All peaks less than this percentage of the precursor ion of interest will be                removed from the purity calculation, default is 5\\% (0.05).                Essentially a noise filter to remove peaks that are thought to have either none or                very limited impact on the resulting fragmentation spectra.", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.05", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "iw_norm", "argument": "--iw_norm", "type": "select", "label": "Normalisation for isolation efficiency", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "none", "options": [["Gaussian", "gauss", false], ["Raised cosine", "rcosine", false], [" Calculated from Q-Exactive for +/- 0.5 Da windows ", "QE5", false], ["No normalisation", "none", true]], "display": null, "multiple": false, "textable": false}, {"model_class": "Conditional", "name": "isotopes", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "keep", "inputs": []}, {"model_class": "ConditionalWhen", "value": "exclude_default", "inputs": []}, {"model_class": "ConditionalWhen", "value": "user", "inputs": [{"model_class": "DataToolParameter", "name": "im", "argument": "--im", "type": "data", "label": "Isotope matrix", "help": "                  tabular file composing of columns:                   ['isotope_id', 'mass diff', 'abundance of isotope', 'ppm tol for mz', 'abundance buffer',                                   'charge', 'relative atomic mass (int)', 'xflag'].                 The xflag indicates if the larger (mass) isotope is the most abundant or less abundant.                 e.g. for c12 to c13, the c13 is less abundant so we flag as 1 for Li6 to Li7, the Li7 is more abundant                 so we would flag as 0.                 Example row: For C13 isotope (single charge) the row could be [1, 1.003355, 1.07, 4, 0.1, 1, 12, 1]", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "isotopes", "argument": "--isotopes", "type": "select", "label": "Handling of isotopic peaks", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "exclude_default", "options": [["Keep isotopes in precursor ion purity calculation", "keep", false], ["Exclude C12/C13 isotopes in precursor ion purity calculation", "exclude_default", true], ["Exclude a user supplied list of isotopes in purity calculation", "user", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "FloatToolParameter", "name": "minoffset", "argument": "--minoffset", "type": "float", "label": "minoffset", "help": "Offset to the 'left' for the precursor range e.g. if precursor of interest is                100.0 then the range would be from 999.5 to 100.0", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.5", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "maxoffset", "argument": "--maxoffset", "type": "float", "label": "maxoffset", "help": "Offset to the 'right' for the precursor range  e.g. if precursor of interest is                100.0 then the range would be from 100.0 to 100.5", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.5", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "ppm", "argument": "--ppm", "type": "float", "label": "ppm", "help": "ppm tolerance to compare between mz values", "refresh_on_change": false, "min": 0.0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "10.0", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "remove_NAs", "argument": "--remove_NAs", "type": "boolean", "label": "Remove rows where mz value is NA or NaN?", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "BooleanToolParameter", "name": "sim", "argument": "--sim", "type": "boolean", "label": "SIM-Stitch experiment?", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "Conditional", "name": "dimspy_usage", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no_dimspy", "inputs": []}, {"model_class": "ConditionalWhen", "value": "dimspy", "inputs": [{"model_class": "IntegerToolParameter", "name": "file_num_dimspy", "argument": "--file_num_dimspy", "type": "integer", "label": "File number", "help": "Choose the file number from the dimspy matrix to use to calculate the precursor ion                           purity metric (order based on column order). This file will then be looked for in the                           library folder to calculate the metric.                          ", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "usage", "argument": null, "type": "select", "label": "dimspy peak matrix text file usage?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no_dimspy", "options": [["dimspy not used to prepare the mz text file", "no_dimspy", true], ["dimspy used to prepare mz file", "dimspy", false]], "display": null, "multiple": false, "textable": false}}], "outputs": [{"model_class": "ToolOutput", "name": "dimsPredictPuritySingle_output", "format": "tsv", "label": "${tool.name} on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "dimsPredictPuritySingle_output.tsv", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "metabolomics", "panel_section_name": "Metabolomics", "form_style": "regular"}