{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/computational-metabolomics/mspurity_purityx/mspurity_purityx/1.12.0+galaxy1", "name": "msPurity.purityX", "version": "1.12.0+galaxy1", "description": "Calculate the anticipated precursor ion purity from a LC-MS XCMS dataset.", "labels": [], "edam_operations": ["operation_3214"], "edam_topics": ["topic_3520", "topic_0121", "topic_0154"], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "mspurity", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "mspurity_purityx", "owner": "computational-metabolomics", "changeset_revision": "0f646a3e0a3f", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "xset", "argument": "--xset", "type": "data", "label": "", "help": "xcmsSet object saved as an RData file", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["rdata"], "edam": {"edam_formats": ["format_2333"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "FloatToolParameter", "name": "minoffset", "argument": "--minoffset", "type": "float", "label": "minoffset", "help": "Offset to the 'left' for the precursor range e.g. if precursor of interest is                100.0 then the range would be from 999.5 to 100.0", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.5", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "maxoffset", "argument": "--maxoffset", "type": "float", "label": "maxoffset", "help": "Offset to the 'right' for the precursor range  e.g. if precursor of interest is                100.0 then the range would be from 100.0 to 100.5", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.5", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "ilim", "argument": "--ilim", "type": "float", "label": "Threshold to remove peaks below x % of the relative intensity of                precursor of interest", "help": "All peaks less than this percentage of the precursor ion of interest will be                removed from the purity calculation, default is 5\\% (0.05).                Essentially a noise filter to remove peaks that are thought to have either none or                very limited impact on the resulting fragmentation spectra.", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.05", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "iw_norm", "argument": "--iw_norm", "type": "select", "label": "Normalisation for isolation efficiency", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "none", "options": [["Gaussian", "gauss", false], ["Raised cosine", "rcosine", false], [" Calculated from Q-Exactive for +/- 0.5 Da windows ", "QE5", false], ["No normalisation", "none", true]], "display": null, "multiple": false, "textable": false}, {"model_class": "Conditional", "name": "isotopes", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "keep", "inputs": []}, {"model_class": "ConditionalWhen", "value": "exclude_default", "inputs": []}, {"model_class": "ConditionalWhen", "value": "user", "inputs": [{"model_class": "DataToolParameter", "name": "im", "argument": "--im", "type": "data", "label": "Isotope matrix", "help": "                  tabular file composing of columns:                   ['isotope_id', 'mass diff', 'abundance of isotope', 'ppm tol for mz', 'abundance buffer',                                   'charge', 'relative atomic mass (int)', 'xflag'].                 The xflag indicates if the larger (mass) isotope is the most abundant or less abundant.                 e.g. for c12 to c13, the c13 is less abundant so we flag as 1 for Li6 to Li7, the Li7 is more abundant                 so we would flag as 0.                 Example row: For C13 isotope (single charge) the row could be [1, 1.003355, 1.07, 4, 0.1, 1, 12, 1]", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "isotopes", "argument": "--isotopes", "type": "select", "label": "Handling of isotopic peaks", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "exclude_default", "options": [["Keep isotopes in precursor ion purity calculation", "keep", false], ["Exclude C12/C13 isotopes in precursor ion purity calculation", "exclude_default", true], ["Exclude a user supplied list of isotopes in purity calculation", "user", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "IntegerToolParameter", "name": "singleFile", "argument": "--singleFile", "type": "integer", "label": "singleFile", "help": "If just a single file for purity is to be calculated (rather than the grouped XCMS peaks).                     Uses the index of the files in xcmsSet object. If zero this is ignored", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "Conditional", "name": "choose_class_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "all", "inputs": []}, {"model_class": "ConditionalWhen", "value": "choose", "inputs": [{"model_class": "TextToolParameter", "name": "class", "argument": "--class", "type": "text", "label": "Choose class", "help": "Comma separated string of classes (found in the phenoData slot of xcmsSet object                     i.e. xset@phenoData). An average will across all the choosen classes.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "choose_class", "argument": null, "type": "select", "label": "Choose class of XCMS set object to perform calculation on?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "all", "options": [["Choose class", "choose", false], ["calculate average across all classes", "all", true]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "ignore_files_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "none", "inputs": []}, {"model_class": "ConditionalWhen", "value": "choose", "inputs": [{"model_class": "TextToolParameter", "name": "ignore_files", "argument": "--ignore_files", "type": "text", "label": "ignore files", "help": "Comma separated string of filenames to ignore (do not include the directory) eg. blank1.mzML,blank2.mzML,sample4.mzML", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "ignore_files_choice", "argument": null, "type": "select", "label": "Ignore files?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "none", "options": [["Choose files to ignore from calculation", "choose", false], ["Include all files of selected classes in calculation", "none", true]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "xgroups", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "choose", "inputs": [{"model_class": "TextToolParameter", "name": "xgroups_value", "argument": null, "type": "text", "label": "xgroup ids", "help": "Comma separated string of xcms groups to perform prediction on eg. 1,2,3,4", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "all", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "xgroups", "argument": null, "type": "select", "label": "xgroups", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "all", "options": [["Choose XCMS grouped features to calculate precursor ion purity", "choose", false], ["Calculate precursor ion purity for all XCMS grouped features", "all", true]], "display": null, "multiple": false, "textable": false}}, {"model_class": "SelectToolParameter", "name": "purityType", "argument": "--purityType", "type": "select", "label": "Method of averaging purity", "help": "Area and average used for the purity predictions. FWHM='Full width half maximum', FW='Full width'", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "purityFWHMmedian", "options": [["FWHM median", "purityFWHMmedian", true], ["FWHM mean", "purityFWHMmean", false], ["FW median", "purityFWmedian", false], ["FW mean", "purityFWmean", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "camera_xcms", "argument": "--camera_xcms", "type": "select", "label": "Use CAMERA object or XCMS object from RData?", "help": "Within the RData file there should be either an XCMS object called xset or a CAMERA object called                       xa (or both). The XCMS object is nested within the CAMERA object so either can be used", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "xcms", "options": [["XCMS (xset)", "xcms", true], ["CAMERA (xa)", "camera", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "BooleanToolParameter", "name": "raw_rt_columns", "argument": "--raw_rt_columns", "type": "boolean", "label": "Has the raw retention time been tracked within the peaks?", "help": "Only applicable when using retention time correction with obiwarp. When obiwarp is used                      the retention time correction tracking is slightly different to the other correction methods. To ensure                      correct tracking with obiwarp an additional tool (track_rt_raw) should be performed prior to                      any retention time correction.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "Conditional", "name": "file_load_conditional", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no", "inputs": []}, {"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "DataCollectionToolParameter", "name": "input", "argument": null, "type": "data_collection", "label": "File(s) from your history containing your chromatograms", "help": "Select the dataset collection containing the files that were used                                  for processing", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "collection_types": ["list"], "extensions": ["mzxml", "mzml", "mzdata", "netcdf"], "multiple": false, "options": {"hda": [], "hdca": [], "dce": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "file_load_select", "argument": null, "type": "select", "label": "Resubmit your dataset", "help": "Use only if you get a message which say that your original dataset or                                 dataset collection can not be found the server.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no", "options": [["no need", "no", false], ["yes", "yes", false]], "display": null, "multiple": false, "textable": false}}], "outputs": [{"model_class": "ToolOutput", "name": "purityX_tsv", "format": "tsv", "label": "${tool.name} on ${on_string}: tsv", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "purityX.tsv", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "purityX_rdata", "format": "rdata", "label": "${tool.name} on ${on_string}: RData", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "purityX.rdata", "edam_format": "format_2333", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "metabolomics", "panel_section_name": "Metabolomics", "form_style": "regular"}