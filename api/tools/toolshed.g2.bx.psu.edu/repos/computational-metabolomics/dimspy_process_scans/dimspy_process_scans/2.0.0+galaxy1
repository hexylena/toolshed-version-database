{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/computational-metabolomics/dimspy_process_scans/dimspy_process_scans/2.0.0+galaxy1", "name": "Process Scans (and SIM-Stitch)", "version": "2.0.0+galaxy1", "description": "- Read, filter and average MS scans", "labels": [], "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "dimspy_process_scans", "owner": "computational-metabolomics", "changeset_revision": "bc099f2346a1", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "Conditional", "name": "data", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "raw", "inputs": [{"model_class": "BooleanToolParameter", "name": "license_agreement", "argument": null, "type": "boolean", "label": "Do you agree to the RawFileReader license terms?", "help": "*.raw files are read using the RawFileReader reading tool (Copyright \u00a9 2016 by Thermo Fisher Scientific, Inc. All rights reserved). To run this tool and process .raw files you must agree to the RawFileReader license terms. Read it at https://github.com/computational-metabolomics/dimspy-galaxy/blob/master/tools/dimspy/RawFileReaderLicense.md. See generic help section of this tool for more details.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "DataToolParameter", "name": "input", "argument": "--source", "type": "data", "label": "*.raw files", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["thermo.raw"], "edam": {"edam_formats": ["format_3712"], "edam_data": ["data_2536"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "mzml", "inputs": [{"model_class": "DataToolParameter", "name": "input", "argument": "--source", "type": "data", "label": "*.mzML files", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["zip", "mzml"], "edam": {"edam_formats": ["format_2333", "format_3244"], "edam_data": ["data_0006", "data_2536"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "type", "argument": null, "type": "select", "label": "Select the MS data file type?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "mzml", "options": [["*.mzML files", "mzml", true], ["*.raw files", "raw", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "DataToolParameter", "name": "filelist", "argument": "--filelist", "type": "data", "label": "Filelist / Samplelist", "help": "", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tsv", "tabular"], "edam": {"edam_formats": ["format_3475", "format_3475"], "edam_data": ["data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "SelectToolParameter", "name": "function_noise", "argument": "--function-noise", "type": "select", "label": "Function to calculate the noise from each scan", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "median", "options": [["median intensity", "median", true], ["mean intensity", "mean", false], ["mad (mean absolute deviation) intensity", "mad", false], ["As shown in Xcalibur Qual Browser (Available for *.RAW files only)", "noise_packets", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "FloatToolParameter", "name": "snr_threshold", "argument": "--snr-threshold", "type": "float", "label": "Signal-to-noise ratio threshold", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "3.0", "area": false, "datalist": []}, {"model_class": "Conditional", "name": "scan_events", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "true", "inputs": [{"model_class": "SelectToolParameter", "name": "incl_excl", "argument": null, "type": "select", "label": "Include / Exclude scan event(s)", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "exclude", "options": [["Exclude", "exclude", true], ["Include", "include", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "Repeat", "name": "descriptions", "type": "repeat", "title": "Description", "help": null, "default": 0, "min": 0, "max": "__Infinity__", "inputs": [{"model_class": "FloatToolParameter", "name": "start", "argument": null, "type": "float", "label": "Start m/z for scan event", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "end", "argument": null, "type": "float", "label": "End m/z for scan event", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "scan_type", "argument": null, "type": "select", "label": "Scan type", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "full", "options": [["Full scan", "full", true], ["SIM scan", "sim", false]], "display": null, "multiple": false, "textable": false}]}]}, {"model_class": "ConditionalWhen", "value": "false", "inputs": []}], "test_param": {"model_class": "BooleanToolParameter", "name": "filter", "argument": null, "type": "boolean", "label": "Filter specific windows or scan events?", "help": "(--include-scan-events / --exclude-scan-events)", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}}, {"model_class": "Section", "name": "mults", "type": "section", "title": "Show options for multiple scans", "help": null, "expanded": true, "inputs": [{"model_class": "IntegerToolParameter", "name": "min_scans", "argument": "--min_scans", "type": "integer", "label": "Minimum number of scans required for each m/z window or event", "help": "", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "ppm", "argument": "--ppm", "type": "float", "label": "Ppm error tolerance", "help": "Maximum tolerated m/z deviation in consecutive scans in parts per million.", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "2.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "min_fraction", "argument": "--min-fraction", "type": "float", "label": "Minimum fraction (i.e. percentage) of scans a peak has to be present in.", "help": "Select '0' to skip this step.", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "rsd_threshold", "argument": "--rsd-threshold", "type": "float", "label": "Relative standard deviation threshold", "help": "Select '0' to skip this step. Maximum tolerated relative standard deviation (RSD) of the peak intensities across scans.", "refresh_on_change": false, "min": 0.0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}]}, {"model_class": "Section", "name": "adv", "type": "section", "title": "Show advanced options", "help": null, "expanded": true, "inputs": [{"model_class": "BooleanToolParameter", "name": "skip_stitching", "argument": "--skip-stitching", "type": "boolean", "label": "Skip SIM-Stitching?", "help": "When set to 'yes' it will skip the processing step where (SIM) windows are 'stitched' or 'joined' together. Set this option to 'yes' if you like to proces individual scan/SIM windows (events/ranges) without 'stitching' them.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "Repeat", "name": "remove_mz_range", "type": "repeat", "title": "Remove m/z range(s)?", "help": null, "default": 0, "min": 0, "max": "__Infinity__", "inputs": [{"model_class": "FloatToolParameter", "name": "start", "argument": null, "type": "float", "label": "Start m/z of removal range", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "end", "argument": null, "type": "float", "label": "End m/z of removal range", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}]}, {"model_class": "FloatToolParameter", "name": "ringing_threshold", "argument": "--ringing-threshold", "type": "float", "label": "Relative intensity threshold used to remove ringing artifacts", "help": "Select '0' to skip this filter.", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}]}, {"model_class": "HiddenToolParameter", "name": "delimiter", "argument": "--delimiter", "type": "hidden", "label": "", "help": "", "refresh_on_change": false, "optional": false, "hidden": true, "is_dynamic": false, "value": "tab"}], "outputs": [{"model_class": "ToolOutputCollection", "name": "peaklists_txt", "format": null, "label": "${tool.name} on ${on_string}: Peaklists", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": "tsv", "visible": false, "assign_primary_output": false, "directory": ".", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "(?P<designation>.+)\\.txt", "sort_by": "filename"}]}}, {"model_class": "ToolOutput", "name": "hdf5_file_out", "format": "h5", "label": "${tool.name} on ${on_string}: Peaklists (HDF5 file)", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3590", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "report", "format": "txt", "label": "${tool.name} on ${on_string}: Report", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "metabolomics", "panel_section_name": "Metabolomics", "form_style": "regular"}