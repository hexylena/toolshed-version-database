{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/vapor/vapor/1.0.2+galaxy3", "name": "VAPOR", "version": "1.0.2+galaxy3", "description": "Classify Influenza samples from short reads sequence data", "labels": [], "edam_operations": ["operation_2422", "operation_3198", "operation_0524"], "edam_topics": ["topic_0102", "topic_3673", "topic_0196"], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "vapor", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "vapor", "owner": "iuc", "changeset_revision": "244812f5bd1f", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "fasta_file", "argument": null, "type": "data", "label": "Reference sequences", "help": "Select a multisample fasta dataset with reference sequences to base classification on.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta"], "edam": {"edam_formats": ["format_1929"], "edam_data": ["data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Conditional", "name": "fastq_input", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "single", "inputs": [{"model_class": "DataToolParameter", "name": "fastq_single", "argument": null, "type": "data", "label": "Sequenced reads", "help": "Specify the sequenced reads dataset.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastqsanger", "fastqsanger.gz"], "edam": {"edam_formats": ["format_1932", "format_1932"], "edam_data": ["data_2044", "data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "paired", "inputs": [{"model_class": "DataToolParameter", "name": "fastq1", "argument": null, "type": "data", "label": "Forward reads", "help": "Specify the sequenced reads dataset with forward reads.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastqsanger", "fastqsanger.gz"], "edam": {"edam_formats": ["format_1932", "format_1932"], "edam_data": ["data_2044", "data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "fastq2", "argument": null, "type": "data", "label": "Reverse reads", "help": "Specify the sequenced reads dataset with reverse reads.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastqsanger", "fastqsanger.gz"], "edam": {"edam_formats": ["format_1932", "format_1932"], "edam_data": ["data_2044", "data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "paired_collection", "inputs": [{"model_class": "DataCollectionToolParameter", "name": "fastq_pairs", "argument": null, "type": "data_collection", "label": "Paired collection of sequenced reads", "help": "Select a collection with forward and reverse reads.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastqsanger", "fastqsanger.gz"], "multiple": false, "options": {"hda": [], "hdca": [], "dce": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "fastq_input_selector", "argument": null, "type": "select", "label": "Type of sequencing data", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "single", "options": [["Single-end", "single", false], ["Paired-end", "paired", false], ["Paired-end as collection", "paired_collection", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "SelectToolParameter", "name": "output_type", "argument": null, "type": "select", "label": "Desired output", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "scores", "options": [["Return scores of best matches", "scores", true], ["Return FASTA sequences of best matches", "fasta", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "IntegerToolParameter", "name": "return_best_n", "argument": null, "type": "integer", "label": "Limit number of reported matches to", "help": "Determines the maximum number of candidate matches sorted by score that will be reported. Set to zero to get all candidate matches reported.", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "Section", "name": "opt", "type": "section", "title": "Optional arguments", "help": null, "expanded": true, "inputs": [{"model_class": "IntegerToolParameter", "name": "kmer_length", "argument": "-k", "type": "integer", "label": "Kmer Length", "help": "Generate k-mers of this length from the reference sequences and the sequenced reads. Note: smaller k-mer sizes come at the cost of decreased specificity and k-mer sizes below 21 have an increased risk of contaminating sequences getting analyzed. Only decrease the default (21) if you know your sample is pure (i.e., sequenced reads represent viral reads only), or if you have increased --threshold sufficiently.", "refresh_on_change": false, "min": 5, "max": 30, "optional": false, "hidden": false, "is_dynamic": false, "value": "21", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "threshold", "argument": "--threshold", "type": "float", "label": "Read kmer filtering threshold", "help": "Sequenced reads that don't have at least this proportion of their k-mers matching k-mers generated from the reference sequences will not be considered in the analysis; default: 0.2", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.2", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_kmer_cov", "argument": "--min_kmer_cov", "type": "integer", "label": "Coverage threshold for k-mer culling", "help": "Minimum coverage by sequenced reads for a reference k-mer to be kept during culling; default: 5", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "5", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "min_kmer_prop", "argument": "--min_kmer_prop", "type": "float", "label": "Minimum k-mer proportion", "help": "Minimum proportion of matching kmers required for queries; default: 0.1", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.1", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "top_seed_frac", "argument": "--top_seed_frac", "type": "float", "label": "Fraction of best seeds to extend", "help": "Of the queries still considered after applying the --min_kmer_prop filter above, the tool will calculate and report scores only for this fraction. Lowering this value leads to shorter runtime because fewer scores will have to be calculated, but also to fewer results getting reported. CAVEAT: this version of the tool will round down the result of applying this parameter so it is possible to end up with zero queries to be considered further. Change only if runtime is an issue!", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "1.0", "area": false, "datalist": []}]}], "outputs": [{"model_class": "ToolOutput", "name": "output_scores", "format": "tabular", "label": "${tool.name} on ${on_string}: closest reference scores", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "out_file", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "output_fasta", "format": "fasta", "label": "${tool.name} on ${on_string}: closest reference fasta", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "out_file", "edam_format": "format_1929", "edam_data": "data_2044", "discover_datasets": []}], "panel_section_id": "metagenomic_analysis", "panel_section_name": "Metagenomic Analysis", "form_style": "regular"}