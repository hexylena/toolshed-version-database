{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/virheat/virheat/0.7+galaxy0", "name": "VirHEAT: visualize allele frequencies", "version": "0.7+galaxy0", "description": "from VCFs as a heatmap and map mutations to respective genes", "labels": [], "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "virheat", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "virheat", "owner": "iuc", "changeset_revision": "927e55d1aa97", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataCollectionToolParameter", "name": "sinputs", "argument": null, "type": "data_collection", "label": "Variant lists data", "help": "Select at least two datasets (or a dataset collection) with variant lists. Datasets are expected to represent individual samples and dataset names will be used as sample identifiers.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["vcf"], "multiple": false, "options": {"hda": [], "hdca": [], "dce": []}, "tag": null}, {"model_class": "Conditional", "name": "genome_data", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "length", "inputs": [{"model_class": "IntegerToolParameter", "name": "genome_length", "argument": "-l", "type": "integer", "label": "Genome length", "help": "", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "gff3", "inputs": [{"model_class": "DataToolParameter", "name": "gff3_file", "argument": "-g", "type": "data", "label": "GFF3 file", "help": "GFF3 file contains annotations for the genome and allows to display genes harboring a mutation. Ensure that the file follows the GFF3 specification.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["gff3"], "edam": {"edam_formats": ["format_1975"], "edam_data": ["data_1255"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Repeat", "name": "annotations", "type": "repeat", "title": "Annotations", "help": "Add annotations from the GFF3 file to display. If no annotations are added, 'gene' will be used by default.", "default": 0, "min": 0, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "ann", "argument": null, "type": "text", "label": "Annotation name", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "gene", "area": false, "datalist": []}]}]}], "test_param": {"model_class": "SelectToolParameter", "name": "choice", "argument": null, "type": "select", "label": "Data for genomic annotation", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "length", "options": [["length of the genome", "length", false], ["gff3 file", "gff3", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "FloatToolParameter", "name": "varfreq", "argument": "-t", "type": "float", "label": "Variant Frequency Threshold", "help": "Only plot variants with an intrasample frequency above this threshold in at least one sample.", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": true, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "delete", "argument": "--delete", "type": "boolean", "label": "Delete mutations that are present in all samples and their maximum frequency divergence is smaller than 0.5", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "--delete", "falsevalue": "--no-delete"}, {"model_class": "IntegerToolParameter", "name": "delete_n", "argument": "-n", "type": "integer", "label": "Do not show mutations that occur n times or less", "help": "", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "Conditional", "name": "zoom", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "IntegerToolParameter", "name": "zoom_start", "argument": null, "type": "integer", "label": "Start", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "zoom_stop", "argument": null, "type": "integer", "label": "End", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "no", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "choice", "argument": null, "type": "select", "label": "Restrict the plot to a specific genomic region", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "yes", "options": [["Yes", "yes", false], ["No", "no", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "BooleanToolParameter", "name": "sort", "argument": "--sort", "type": "boolean", "label": "Sort sample names alphanumerically", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--sort", "falsevalue": "--no-sort"}, {"model_class": "IntegerToolParameter", "name": "min_cov", "argument": "--min-cov", "type": "integer", "label": "Display mutations covered at least x time", "help": "", "refresh_on_change": false, "min": 1, "max": 1000, "optional": false, "hidden": false, "is_dynamic": false, "value": "20", "area": false, "datalist": []}, {"model_class": "Repeat", "name": "scores", "type": "repeat", "title": "Scores", "help": "Include visualizations of additional scores (e.g., MAVE scores for binding affinity, expression level, antibody escape, etc.) mapped to mutations on the heatmap.", "default": 0, "min": 0, "max": "__Infinity__", "inputs": [{"model_class": "DataToolParameter", "name": "scores_file", "argument": null, "type": "data", "label": "CSV file", "help": "CSV file containing scores", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["csv"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "SelectToolParameter", "name": "pos_col", "argument": null, "type": "select", "label": "Mutation position column", "help": "The name of the column in the CSV file that contains the mutation positions in classic notation (e.g., T430Y)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": true, "value": null, "options": [], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "score_col", "argument": null, "type": "select", "label": "Scores column", "help": "The name of the column in the CSV file that contains the scores", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": true, "value": null, "options": [], "display": null, "multiple": false, "textable": false}, {"model_class": "TextToolParameter", "name": "score_name", "argument": null, "type": "text", "label": "Score name", "help": "A descriptive name for the score to be used as labels in the plot. If not specified, the CSV file name will be used as the label instead", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}, {"model_class": "Section", "name": "advanced", "type": "section", "title": "Image Properties", "help": null, "expanded": true, "inputs": [{"model_class": "SelectToolParameter", "name": "output_type", "argument": null, "type": "select", "label": "Plot output format", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "pdf", "options": [["PDF", "pdf", true], ["PNG", "png", false], ["SVG", "svg", false], ["TIFF", "tiff", false], ["BMP", "bmp", false], ["JPEG", "jpeg", false]], "display": null, "multiple": false, "textable": false}]}], "outputs": [{"model_class": "ToolOutput", "name": "outfile", "format": "pdf", "label": "VirHEAT: Variant-Frequency Plot on ${on_string}: ${advanced.output_type}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "output_dir/tmp_output.*", "edam_format": "format_3508", "edam_data": "data_2968", "discover_datasets": []}], "panel_section_id": "virology", "panel_section_name": "Virology", "form_style": "regular"}