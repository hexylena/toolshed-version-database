{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/spacexr_rctd/spacexr_rctd/2.2.1+galaxy0", "name": "RCTD", "version": "2.2.1+galaxy0", "description": "Cell type identification with RCTD", "labels": [], "edam_operations": ["operation_3223"], "edam_topics": ["topic_3308"], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "spacexr_rctd", "owner": "iuc", "changeset_revision": "acf15b2efe66", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "sc_count", "argument": null, "type": "data", "label": "Single-cell count matrix", "help": "A matrix representing Digital Gene Expression (DGE). Rownames should be genes and colnames represent barcodes/cell names", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "metadata", "argument": null, "type": "data", "label": "Metadata", "help": "single-cell annotation file with columns: barcode, annotation, and nUMI(optional)", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "BooleanToolParameter", "name": "sc_umi_input", "argument": null, "type": "boolean", "label": "nUMI", "help": "Does your single-cell metadata have nUMI column?", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "True", "falsevalue": "False"}, {"model_class": "DataToolParameter", "name": "st_count", "argument": null, "type": "data", "label": "Spatial count matrix", "help": "A matrix representing Digital Gene Expression (DGE). Rownames should be genes and colnames represent barcodes/pixel names", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "coord", "argument": null, "type": "data", "label": "Spatial coordinates", "help": "A numeric table representing the spatial pixel locations. Rownames are barcodes/pixel names, and there should be two columns for x and for y", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "SelectToolParameter", "name": "doublet_mode", "argument": null, "type": "select", "label": "Doublet mode", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "doublet", "options": [["doublet", "doublet", false], ["full", "full", false], ["multi", "multi", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "Section", "name": "advanced_param", "type": "section", "title": "Advanced parameters", "help": null, "expanded": false, "inputs": [{"model_class": "Section", "name": "ref_param", "type": "section", "title": "Reference object parameters", "help": null, "expanded": false, "inputs": [{"model_class": "IntegerToolParameter", "name": "n_max_cells", "argument": "n_max_cells", "type": "integer", "label": "Maximum number of cells per cell type", "help": "Will downsample if this number is exceeded.", "help_format": "html", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "10000", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_UMI", "argument": "min_UMI", "type": "integer", "label": "Minimum UMI count for cells to be included in the reference", "help": "", "help_format": "html", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "100", "area": false, "datalist": []}]}, {"model_class": "Section", "name": "st_param", "type": "section", "title": "SpatialRNA object parameters", "help": null, "expanded": false, "inputs": [{"model_class": "FloatToolParameter", "name": "gene_cutoff", "argument": "gene_cutoff", "type": "float", "label": "Gene cutoff", "help": "Minimum normalized gene expression for genes to be included in the platform effect normalization step.", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.000125", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "fc_cutoff", "argument": "fc_cutoff", "type": "float", "label": "logFC cutoff", "help": "Minimum log-fold-change (across cell types) for genes to be included in the platform effect normalization step.", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.5", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "gene_cutoff_reg", "argument": "gene_cutoff_reg", "type": "float", "label": "Gene cutoff-reg", "help": "Minimum normalized gene expression for genes to be included in the RCTD step.", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0002", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "fc_cutoff_reg", "argument": "fc_cutoff_reg", "type": "float", "label": "logFC cutoff-reg", "help": "Minimum log-fold-change (across cell types) for genes to be included in the RCTD step.", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.75", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "umi_min", "argument": "umi_min", "type": "integer", "label": "Minimum UMI per pixel", "help": "", "help_format": "html", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "100", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "umi_max", "argument": "umi_max", "type": "integer", "label": "Maximum UMI per pixel", "help": "", "help_format": "html", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "20000000", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "counts_min", "argument": "counts_min", "type": "integer", "label": "Minimum total counts per pixel", "help": "", "help_format": "html", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "umi_min_sigma", "argument": "umi_min_sigma", "type": "integer", "label": "Minimum UMI per pixel for the choose_sigma_c function", "help": "", "help_format": "html", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "300", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "cell_min_instance", "argument": "cell_min_instance", "type": "integer", "label": "Minimum number of cells per cell type", "help": "", "help_format": "html", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "25", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "cell_type_names", "argument": "cell_type_names", "type": "text", "label": "Cell types to be included from the reference", "help": "A comma separated list. If NULL, uses all cell types", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "max_multi_types", "argument": "max_multi_types", "type": "integer", "label": "Max number of cell types per pixel", "help": "", "help_format": "html", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "4", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "confidence_threshold", "argument": "confidence_threshold", "type": "integer", "label": "Confidence threshold", "help": "The minimum change in likelihood (compared to other cell types) necessary to determine a cell type identity with confidence.", "help_format": "html", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "5", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "doublet_threshold", "argument": "doublet_threshold", "type": "integer", "label": "Doublet threshold", "help": "The penalty weight of predicting a doublet instead of a singlet for a pixel.", "help_format": "html", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "20", "area": false, "datalist": []}]}]}, {"model_class": "Section", "name": "output", "type": "section", "title": "Output Options", "help": null, "expanded": false, "inputs": [{"model_class": "SelectToolParameter", "name": "output_selector", "argument": null, "type": "select", "label": "Select / Deselect all", "help": "", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "options": [["RDS file", "rds", false], ["R script", "rscript", false]], "display": "checkboxes", "multiple": true, "textable": false}]}], "outputs": [{"model_class": "ToolOutputCollection", "name": "out_fig", "format": null, "label": "${tool.name} on ${on_string}: Spacexr Results", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": [{"discover_via": "pattern", "format": "pdf", "visible": false, "assign_primary_output": false, "directory": "figures/", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "(?P<name>.+)\\.pdf$"}]}}, {"model_class": "ToolOutput", "name": "out_doublet_df", "format": "tabular", "label": "${tool.name} on ${on_string}: Doublet result table", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "results/doublet_results_df.tabular", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "out_multi", "format": "txt", "label": "${tool.name} on ${on_string}: multi result", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "results/multi_results.txt", "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "out_rds", "format": "rds", "label": "${tool.name} on ${on_string}: RDS file", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "results/rctd_results.rds", "edam_format": "format_2333", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "out_rscript", "format": "txt", "label": "${tool.name} on ${on_string}: RScript", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "results/rctd_script.R", "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": []}], "panel_section_id": "single-cell", "panel_section_name": "Single-cell", "form_style": "regular"}