{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/samtools_consensus/samtools_consensus/1.22+galaxy1", "name": "Samtools consensus", "version": "1.22+galaxy1", "description": "generate consensus from a SAM, BAM or CRAM file", "labels": [], "icon": null, "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "samtools_consensus", "owner": "iuc", "changeset_revision": "65edd5a6002e", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "input", "argument": null, "type": "data", "label": "BAM file", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["sam", "bam", "cram"], "edam": {"edam_formats": ["format_2573", "format_2572", "format_3462"], "edam_data": ["data_0863", "data_0863", "data_0863"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "SelectToolParameter", "name": "format", "argument": "--format", "type": "select", "label": "Output file type", "help": "Produce format FMT, with 'fastq', 'fasta' and 'pileup' as permitted options.", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "fasta", "options": [["FASTA", "fasta", true], ["FASTQ", "fastq", false], ["Pileup", "pileup", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "Section", "name": "preprocessing_options", "type": "section", "title": "Preprocessing Options", "help": null, "expanded": false, "inputs": [{"model_class": "IntegerToolParameter", "name": "minimum_MQ", "argument": "--min-MQ", "type": "integer", "label": "Minimum mapping quality", "help": "Filters out reads with a mapping quality below specified value", "help_format": "html", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "minimum_BQ", "argument": "--min-BQ", "type": "integer", "label": "Minimum base quality", "help": "Filters out bases with a base quality below specified value", "help_format": "html", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "inclusive_filter", "argument": "", "type": "select", "label": "Require that these flags are set", "help": "", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "options": [["Read is paired", "1", false], ["Read is mapped in a proper pair", "2", false], ["Read is unmapped", "4", false], ["Mate is unmapped", "8", false], ["Read is mapped to the reverse strand of the reference", "16", false], ["Mate is mapped to the reverse strand of the reference", "32", false], ["Read is the first in a pair", "64", false], ["Read is the second in a pair", "128", false], ["Alignment of the read is not primary", "256", false], ["Read fails platform/vendor quality checks", "512", false], ["Read is a PCR or optical duplicate", "1024", false], ["Alignment is supplementary", "2048", false]], "display": null, "multiple": true, "textable": false}, {"model_class": "SelectToolParameter", "name": "exclusive_filter", "argument": "", "type": "select", "label": "Exclude reads with any of the following flags set", "help": "", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "options": [["Read is paired", "1", false], ["Read is mapped in a proper pair", "2", false], ["Read is unmapped", "4", false], ["Mate is unmapped", "8", false], ["Read is mapped to the reverse strand of the reference", "16", false], ["Mate is mapped to the reverse strand of the reference", "32", false], ["Read is the first in a pair", "64", false], ["Read is the second in a pair", "128", false], ["Alignment of the read is not primary", "256", false], ["Read fails platform/vendor quality checks", "512", false], ["Read is a PCR or optical duplicate", "1024", false], ["Alignment is supplementary", "2048", false]], "display": null, "multiple": true, "textable": false}]}, {"model_class": "Conditional", "name": "consensus_options", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "simple", "inputs": [{"model_class": "Section", "name": "settings", "type": "section", "title": "Settings", "help": null, "expanded": false, "inputs": [{"model_class": "BooleanToolParameter", "name": "use_qual", "argument": "-q", "type": "boolean", "label": "Weight by base quality", "help": "Base counts are weighted by their Phred quality scores instead of counting each base equally. Improves consensus accuracy by giving higher weight to more confident base calls.", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "-q", "falsevalue": ""}, {"model_class": "FloatToolParameter", "name": "c", "argument": "-c", "type": "float", "label": "Minimum consensus fraction", "help": "Require at least C fraction of bases agreeing with the most likely consensus call to emit that base type. Failing this check will output 'N'", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.75", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "H", "argument": "-H", "type": "float", "label": "Heterozygous fraction threshold", "help": "Report a heterozygous base in the consensus if the second most frequent base occurs at least H fraction of the most common base. (Requires --ambig)", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.15", "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "bayesian", "inputs": [{"model_class": "Section", "name": "settings", "type": "section", "title": "Settings", "help": null, "expanded": false, "inputs": [{"model_class": "Conditional", "name": "config_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "manual", "inputs": [{"model_class": "IntegerToolParameter", "name": "C", "argument": "-C", "type": "integer", "label": "Cutoff threshold", "help": "Bases with Phred-style quality below this threshold are called as N", "help_format": "html", "refresh_on_change": false, "min": 0, "max": 93, "optional": false, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}, {"model_class": "Conditional", "name": "mq_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "--use-MQ", "inputs": [{"model_class": "BooleanToolParameter", "name": "adj_mq", "argument": "--adj-MQ", "type": "boolean", "label": "Adjust MQ", "help": "Scales mapping quality based on nearby mismatches using the MD tag. Ignored if the MD tag is absent", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "--adj-MQ", "falsevalue": "--no-adj-MQ"}, {"model_class": "IntegerToolParameter", "name": "mismatch_window", "argument": "--NM-halo", "type": "integer", "label": "Local mismatch window", "help": "Specifies the distance either side of the base call being considered for computing the number of local mismatches", "help_format": "html", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "50", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "low_mq", "argument": "--low-MQ", "type": "integer", "label": "Minimum MQ", "help": "Specifies a minimum value of the mapping quality. This is not a filter and instead simply put lower cap on the values", "help_format": "html", "refresh_on_change": false, "min": 0, "max": 60, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "high_mq", "argument": "--high-MQ", "type": "integer", "label": "Maximum MQ", "help": "Specifies a maximum value of the mapping quality. This is not a filter and instead simply put upper cap on the values", "help_format": "html", "refresh_on_change": false, "min": 0, "max": 60, "optional": false, "hidden": false, "is_dynamic": false, "value": "60", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "scale_mq", "argument": "--scale-MQ", "type": "float", "label": "Scale MQ", "help": "This is a general multiplicative mapping quality scaling factor. The effect is to globally raise or lower the quality values used in the consensus algorithm", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1.0", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "--no-use-MQ", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "mq_param", "argument": "--use-MQ", "type": "select", "label": "Use MQ", "help": "Enable or disable the use of mapping qualities", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "--use-MQ", "options": [["Yes", "--use-MQ", true], ["No", "--no-use-MQ", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "FloatToolParameter", "name": "p_het", "argument": "--P-het", "type": "float", "label": "Probability of heterozygous site", "help": "Sets the prior probability of a site being heterozygous in Bayesian consensus calculations. Lower values favor homozygous calls.(output is ambiguous only if --ambig is enabled)", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.001", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "p_indel", "argument": "--P-indel", "type": "float", "label": "Probability of indel sites", "help": "Controls the likelihood of small indels. This is used in the priors for the Bayesian calculations, and has little difference on deep data", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0002", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "hetero_scale", "argument": "--het-scale", "type": "float", "label": "Heterozygous SNP probability multiplier", "help": "Multiplicative factor applied to base quality when evaluating heterozygous calls. Lower values reduce false positive heterozygous calls but may increase false negatives", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1.0", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "hom_fix", "argument": "--homopoly-fix", "type": "boolean", "label": "Homopolymer quality correction", "help": "Spread low-qual bases to both ends of homopolymers (Recommended for old 454 or PacBio HiFi dat)", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "-p", "falsevalue": ""}, {"model_class": "FloatToolParameter", "name": "hom_score", "argument": "--homopoly-score", "type": "float", "label": "Homopolymer quality scaling", "help": "Scales base qualities within homopolymer runs by this factor to reduce confidence in positions prone to sequencing errors. Automatically enables (--homopoly-fix) if not already set", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "Conditional", "name": "calibration_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": ":hiseq", "inputs": []}, {"model_class": "ConditionalWhen", "value": ":hifi", "inputs": []}, {"model_class": "ConditionalWhen", "value": ":r10.4_sup", "inputs": []}, {"model_class": "ConditionalWhen", "value": ":r10.4_dup", "inputs": []}, {"model_class": "ConditionalWhen", "value": ":ultima", "inputs": []}, {"model_class": "ConditionalWhen", "value": "file", "inputs": [{"model_class": "DataToolParameter", "name": "calibration_file", "argument": "--qual-calibration", "type": "data", "label": "Quality calibration table", "help": "Loads a quality calibration table from a file to adjust base quality scores in the consensus algorithm. Each line starts with QUAL and maps a reported quality value to calibrated Phred scores for substitution, undercall, and overcall errors: QUAL value substitution undercall overcall", "help_format": "html", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["txt"], "edam": {"edam_formats": ["format_2330"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "calibration_param", "argument": "--qual-calibration", "type": "select", "label": "Quality calibration table", "help": "Choose a predefined calibration for your sequencing platform or upload a custom table to adjust base quality scores.", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "file", "options": [["Illumina HiSeq", ":hiseq", false], ["PacBio HiFi", ":hifi", false], ["Oxford Nanopore R10.4 (super accuracy model)", ":r10.4_sup", false], ["Oxford Nanopore R10.4 duplex reads", ":r10.4_dup", false], ["Ultima Genomics", ":ultima", false], ["Upload a custom file with quality calibration values", "file", true]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "ConditionalWhen", "value": "hiseq", "inputs": []}, {"model_class": "ConditionalWhen", "value": "hifi", "inputs": []}, {"model_class": "ConditionalWhen", "value": "r10.4_sup", "inputs": []}, {"model_class": "ConditionalWhen", "value": "r10.4_dup", "inputs": []}, {"model_class": "ConditionalWhen", "value": "ultima", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "config_param", "argument": "--config", "type": "select", "label": "Use configuration", "help": "Manually set the parameters or use one of the listed pre-defined configurations", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "manual", "options": [["Manual", "manual", true], ["hiseq", "hiseq", false], ["hifi", "hifi", false], ["r10.4_sup", "r10.4_sup", false], ["r10.4_dup", "r10.4_dup", false], ["ultima", "ultima", false]], "display": null, "multiple": false, "textable": false}}]}]}, {"model_class": "ConditionalWhen", "value": "bayesian_116", "inputs": [{"model_class": "Section", "name": "settings", "type": "section", "title": "Settings", "help": null, "expanded": false, "inputs": [{"model_class": "Conditional", "name": "config_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "manual", "inputs": [{"model_class": "IntegerToolParameter", "name": "C", "argument": "-C", "type": "integer", "label": "Cutoff threshold", "help": "Bases with Phred-style quality below this threshold are called as N", "help_format": "html", "refresh_on_change": false, "min": 0, "max": 93, "optional": false, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}, {"model_class": "Conditional", "name": "mq_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "--use-MQ", "inputs": [{"model_class": "BooleanToolParameter", "name": "adj_mq", "argument": "--adj-MQ", "type": "boolean", "label": "Adjust MQ", "help": "Scales mapping quality based on nearby mismatches using the MD tag. Ignored if the MD tag is absent", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "--adj-MQ", "falsevalue": "--no-adj-MQ"}, {"model_class": "IntegerToolParameter", "name": "mismatch_window", "argument": "--NM-halo", "type": "integer", "label": "Local mismatch window", "help": "Specifies the distance either side of the base call being considered for computing the number of local mismatches", "help_format": "html", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "50", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "low_mq", "argument": "--low-MQ", "type": "integer", "label": "Minimum MQ", "help": "Specifies a minimum value of the mapping quality. This is not a filter and instead simply put lower cap on the values", "help_format": "html", "refresh_on_change": false, "min": 0, "max": 60, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "high_mq", "argument": "--high-MQ", "type": "integer", "label": "Maximum MQ", "help": "Specifies a maximum value of the mapping quality. This is not a filter and instead simply put upper cap on the values", "help_format": "html", "refresh_on_change": false, "min": 0, "max": 60, "optional": false, "hidden": false, "is_dynamic": false, "value": "60", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "scale_mq", "argument": "--scale-MQ", "type": "float", "label": "Scale MQ", "help": "This is a general multiplicative mapping quality scaling factor. The effect is to globally raise or lower the quality values used in the consensus algorithm", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1.0", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "--no-use-MQ", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "mq_param", "argument": "--use-MQ", "type": "select", "label": "Use MQ", "help": "Enable or disable the use of mapping qualities", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "--use-MQ", "options": [["Yes", "--use-MQ", true], ["No", "--no-use-MQ", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "FloatToolParameter", "name": "p_het", "argument": "--P-het", "type": "float", "label": "Probability of heterozygous site", "help": "Sets the prior probability of a site being heterozygous in Bayesian consensus calculations. Lower values favor homozygous calls.(output is ambiguous only if --ambig is enabled)", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.001", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "p_indel", "argument": "--P-indel", "type": "float", "label": "Probability of indel sites", "help": "Controls the likelihood of small indels. This is used in the priors for the Bayesian calculations, and has little difference on deep data", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0002", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "hetero_scale", "argument": "--het-scale", "type": "float", "label": "Heterozygous SNP probability multiplier", "help": "Multiplicative factor applied to base quality when evaluating heterozygous calls. Lower values reduce false positive heterozygous calls but may increase false negatives", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1.0", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "hom_fix", "argument": "--homopoly-fix", "type": "boolean", "label": "Homopolymer quality correction", "help": "Spread low-qual bases to both ends of homopolymers (Recommended for old 454 or PacBio HiFi dat)", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "-p", "falsevalue": ""}, {"model_class": "FloatToolParameter", "name": "hom_score", "argument": "--homopoly-score", "type": "float", "label": "Homopolymer quality scaling", "help": "Scales base qualities within homopolymer runs by this factor to reduce confidence in positions prone to sequencing errors. Automatically enables (--homopoly-fix) if not already set", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "Conditional", "name": "calibration_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": ":hiseq", "inputs": []}, {"model_class": "ConditionalWhen", "value": ":hifi", "inputs": []}, {"model_class": "ConditionalWhen", "value": ":r10.4_sup", "inputs": []}, {"model_class": "ConditionalWhen", "value": ":r10.4_dup", "inputs": []}, {"model_class": "ConditionalWhen", "value": ":ultima", "inputs": []}, {"model_class": "ConditionalWhen", "value": "file", "inputs": [{"model_class": "DataToolParameter", "name": "calibration_file", "argument": "--qual-calibration", "type": "data", "label": "Quality calibration table", "help": "Loads a quality calibration table from a file to adjust base quality scores in the consensus algorithm. Each line starts with QUAL and maps a reported quality value to calibrated Phred scores for substitution, undercall, and overcall errors: QUAL value substitution undercall overcall", "help_format": "html", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["txt"], "edam": {"edam_formats": ["format_2330"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "calibration_param", "argument": "--qual-calibration", "type": "select", "label": "Quality calibration table", "help": "Choose a predefined calibration for your sequencing platform or upload a custom table to adjust base quality scores.", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "file", "options": [["Illumina HiSeq", ":hiseq", false], ["PacBio HiFi", ":hifi", false], ["Oxford Nanopore R10.4 (super accuracy model)", ":r10.4_sup", false], ["Oxford Nanopore R10.4 duplex reads", ":r10.4_dup", false], ["Ultima Genomics", ":ultima", false], ["Upload a custom file with quality calibration values", "file", true]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "ConditionalWhen", "value": "hiseq", "inputs": []}, {"model_class": "ConditionalWhen", "value": "hifi", "inputs": []}, {"model_class": "ConditionalWhen", "value": "r10.4_sup", "inputs": []}, {"model_class": "ConditionalWhen", "value": "r10.4_dup", "inputs": []}, {"model_class": "ConditionalWhen", "value": "ultima", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "config_param", "argument": "--config", "type": "select", "label": "Use configuration", "help": "Manually set the parameters or use one of the listed pre-defined configurations", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "manual", "options": [["Manual", "manual", true], ["hiseq", "hiseq", false], ["hifi", "hifi", false], ["r10.4_sup", "r10.4_sup", false], ["r10.4_dup", "r10.4_dup", false], ["ultima", "ultima", false]], "display": null, "multiple": false, "textable": false}}]}]}], "test_param": {"model_class": "SelectToolParameter", "name": "mode", "argument": "--mode", "type": "select", "label": "Select the consensus algorithm", "help": "Choose the consensus algorithm. 'Simple' uses base counts to call consensus, 'Bayesian' applies a probabilistic model (Gap5) for higher accuracy, and 'Bayesian 1.16' reproduces the behavior of samtools consensus v1.16 for compatibility.", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "bayesian", "options": [["Simple", "simple", false], ["Bayesian (Gap5)", "bayesian", true], ["Bayesian 1.16", "bayesian_116", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Section", "name": "global_settings", "type": "section", "title": "Global Settings", "help": null, "expanded": false, "inputs": [{"model_class": "IntegerToolParameter", "name": "minimum_depth", "argument": "--min-depth", "type": "integer", "label": "Minimum depth", "help": "The minimum depth required to make a call. Failing this depth check will produce consensus 'N', or absent if it is an insertion. Note this check is performed after filtering by flags and mapping/base quality", "help_format": "html", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "Repeat", "name": "reg_repeat", "type": "repeat", "title": "region", "help": null, "default": 0, "min": 0, "max": 1.0, "inputs": [{"model_class": "TextToolParameter", "name": "reg", "argument": null, "type": "text", "label": "Region", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "start", "argument": null, "type": "integer", "label": "Start", "help": "", "help_format": "html", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "end", "argument": null, "type": "integer", "label": "End", "help": "", "help_format": "html", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}, {"model_class": "Conditional", "name": "addref_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no", "inputs": []}, {"model_class": "ConditionalWhen", "value": "history", "inputs": [{"model_class": "DataToolParameter", "name": "ref", "argument": "", "type": "data", "label": "Reference", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta", "fasta.gz"], "edam": {"edam_formats": ["format_1929", "format_1929"], "edam_data": ["data_2044", "data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "cached", "inputs": [{"model_class": "SelectToolParameter", "name": "ref", "argument": "", "type": "select", "label": "Reference", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": true, "value": null, "options": [], "display": null, "multiple": false, "textable": false}]}], "test_param": {"model_class": "SelectToolParameter", "name": "addref_select", "argument": null, "type": "select", "label": "Use a reference sequence", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no", "options": [["No", "no", false], ["Use a genome/index from the history", "history", false], ["Use a built-in genome", "cached", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "Section", "name": "output_options", "type": "section", "title": "Output Options", "help": null, "expanded": false, "inputs": [{"model_class": "IntegerToolParameter", "name": "line_len", "argument": "-l", "type": "integer", "label": "Maximum line lenght", "help": "The maximum line length of line-wrapped fasta and fastq formats. Set to -1 for no line wrapping.", "help_format": "html", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "70", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "all", "argument": "-a", "type": "boolean", "label": "Output all positions", "help": "Output absolutely all positions, including references with no data aligned against them", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "-a", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "show_deletions", "argument": "--show-del", "type": "boolean", "label": "Show deletions", "help": "Whether to show deletions as '*' (if checked) or to omit from the output (if left unchecked)", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "yes", "falsevalue": "no"}, {"model_class": "BooleanToolParameter", "name": "show_insertions", "argument": "--show-ins", "type": "boolean", "label": "Show insertions", "help": "Whether to show insertions in the consensus", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "yes", "falsevalue": "no"}, {"model_class": "BooleanToolParameter", "name": "ambig", "argument": "--ambig", "type": "boolean", "label": "IUPAC ambiguity codes", "help": "Enables IUPAC ambiguity codes in the consensus output. Without this the output will be limited to A, C, G, T, N and *", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--ambig", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "mark_insertions", "argument": "--mark-ins", "type": "boolean", "label": "Mark insertions", "help": "Mark insertions by adding an underscore before every inserted base, plus a corresponding character in the quality for fastq format. When used in conjunction with '-a' and '--show-del', this permits an easy derivation of the consensus to reference coordinate mapping", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--mark-ins", "falsevalue": ""}]}], "outputs": [{"model_class": "ToolOutput", "name": "output_file", "format": "fasta", "label": null, "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": null, "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_1929", "edam_data": "data_2044", "discover_datasets": []}], "panel_section_id": "sam_bam", "panel_section_name": "SAM/BAM", "form_style": "regular"}