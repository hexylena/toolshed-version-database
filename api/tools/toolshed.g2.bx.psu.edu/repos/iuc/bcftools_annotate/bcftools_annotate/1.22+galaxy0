{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/bcftools_annotate/bcftools_annotate/1.22+galaxy0", "name": "bcftools annotate", "version": "1.22+galaxy0", "description": "Annotate and edit VCF/BCF files", "labels": [], "icon": null, "edam_operations": ["operation_2409", "operation_3227"], "edam_topics": ["topic_2885", "topic_3517", "topic_3516", "topic_0199"], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "bcftools", "type": "bio.tools"}], "tool_shed_repository": {"name": "bcftools_annotate", "owner": "iuc", "changeset_revision": "06eaadeffb7d", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "input_file", "argument": null, "type": "data", "label": "VCF/BCF Data", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["vcf", "vcf_bgzip", "bcf"], "edam": {"edam_formats": ["format_3016", "format_3016", "format_3020"], "edam_data": ["data_0006", "data_0006", "data_3498"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Section", "name": "sec_annofile", "type": "section", "title": "Add Annotations", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "columns", "argument": null, "type": "text", "label": "Columns", "help": "List of columns in the annotation file, e.g. CHROM,POS,REF,ALT,-,INFO/TAG. See man page for details", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "Conditional", "name": "annofile", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "none", "inputs": []}, {"model_class": "ConditionalWhen", "value": "vcf", "inputs": [{"model_class": "DataToolParameter", "name": "annotations", "argument": null, "type": "data", "label": "Annotations VCF", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["vcf", "bcf"], "edam": {"edam_formats": ["format_3016", "format_3020"], "edam_data": ["data_0006", "data_3498"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "tab", "inputs": [{"model_class": "DataToolParameter", "name": "annotations", "argument": null, "type": "data", "label": "Annotations", "help": "BED, or a tab-delimited file with mandatory columns CHROM, POS (or, alternatively, FROM and TO),                        optional columns REF and ALT, and arbitrary number of annotation columns.                        Note that in case of tab-delimited file, the coordinates POS, FROM and TO are one-based and inclusive.", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular", "bed"], "edam": {"edam_formats": ["format_3475", "format_3003"], "edam_data": ["data_0006", "data_3002"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "header_file", "argument": null, "type": "data", "label": "Header Lines File", "help": "lines which should be appended to the VCF header", "help_format": "html", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["txt"], "edam": {"edam_formats": ["format_2330"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "TextToolParameter", "name": "header_lines", "argument": null, "type": "text", "label": "Header Lines", "help": "lines which should be appended to the VCF header", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": true, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "anno_fmt", "argument": null, "type": "select", "label": "Annotations File", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "none", "options": [["None", "none", false], ["From a VCF/BCF file", "vcf", false], ["From a BED or tab-delimited file", "tab", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "TextToolParameter", "name": "mark_sites", "argument": "--mark-sites", "type": "text", "label": "Mark Sites TAG", "help": "add INFO/TAG flag to sites which are (\"+\") or are not (\"-\") listed in the annotations file", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "min_overlap", "argument": "--min-overlap", "type": "text", "label": "Minimum required overlap of intersecting regions", "help": "Minimum overlap required as a fraction of the variant in the annotation -a file (ANN), in the target VCF file (:VCF), or both for reciprocal overlap (ANN:VCF). By default overlaps of arbitrary length are sufficient.", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "set_id", "argument": "--set-id", "type": "text", "label": "Set Id", "help": "Assign ID on the fly using the given format.                By default all existing IDs are replaced.                If the format string is preceded by \"+\", only missing IDs will be set.                For example: '%CHROM\\_%POS\\_%REF\\_%FIRST_ALT'", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}, {"model_class": "Section", "name": "sec_annotate", "type": "section", "title": "Change Annotations", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "remove", "argument": "--remove", "type": "text", "label": "Remove annotations", "help": "List of annotations to remove.                 Use \"FILTER\" to remove all filters or \"FILTER/SomeFilter\" to remove a specific filter.                 Similarly, \"INFO\" can be used to remove all INFO tags and \"FORMAT\" to remove all FORMAT tags except GT.                 To remove all INFO tags except \"FOO\" and \"BAR\", use \"^INFO/FOO,INFO/BAR\" (and similarly for FORMAT and FILTER).                 \"INFO\" can be abbreviated to \"INF\" and \"FORMAT\" to \"FMT\".", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "DataToolParameter", "name": "rename_chrs", "argument": "--rename-chrs", "type": "data", "label": "Rename CHROM", "help": "rename chromosomes according to the map in file, with old_name new_name pairs separated by whitespaces, each on a separate line.", "help_format": "html", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "rename_annots", "argument": "--rename-annots", "type": "data", "label": "Rename annotations", "help": "TYPE/old\\tnew, where TYPE is one of FILTER,INFO,FORMAT", "help_format": "html", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "Section", "name": "sec_restrict", "type": "section", "title": "Restrict to", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "include", "argument": "--include", "type": "text", "label": "Include", "help": "Select sites for which the expression is true", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "exclude", "argument": "--exclude", "type": "text", "label": "Exclude", "help": "Exclude sites for which the expression is true", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "collapse", "argument": null, "type": "select", "label": "Collapse", "help": "Controls how to treat records with duplicate positions and defines compatible records across multiple input files", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "options": [["snps - allow different alleles, as long as they all are SNPs", "snps", false], ["indels - allow different alleles, as long as they all are indels", "indels", false], ["both - indels and snps ", "both", false], ["some - at least some of the ALTs must match", "some", false], ["any - any combination of alleles", "any", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "Conditional", "name": "regions", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "__none__", "inputs": []}, {"model_class": "ConditionalWhen", "value": "regions", "inputs": [{"model_class": "Repeat", "name": "region_specs", "type": "repeat", "title": "Region Filter", "help": null, "default": 1, "min": 1, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "chrom", "argument": null, "type": "text", "label": "Region chromosome", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "start", "argument": null, "type": "text", "label": "Region start position", "help": "", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "stop", "argument": null, "type": "text", "label": "Region end position", "help": "", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}, {"model_class": "SelectToolParameter", "name": "regions_overlap", "argument": "--regions-overlap", "type": "select", "label": "Consider variant calls with partial overlap with Region(s) if ...", "help": "Set to 0 if the record has to have POS inside a region; set to 1 if also overlapping records with POS outside a region should be included (this includes indels with POS at the end of a region, which are technically outside the region); or set to 2 to include only true overlapping variation (compare the full VCF representation 'TA>T-' vs the true sequence variation 'A>-').", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "options": [["0: the variant's POS falls in the region", "0", false], ["1: any part of the variant's representation overlaps the region", "1", true], ["2: the variant's actual sequence change falls in the region", "2", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "regions_file", "inputs": [{"model_class": "DataToolParameter", "name": "regions_file", "argument": null, "type": "data", "label": "Regions File", "help": "restrict to Regions listed in a file", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "SelectToolParameter", "name": "regions_overlap", "argument": "--regions-overlap", "type": "select", "label": "Region overlap", "help": "Include if POS in the region (0), record overlaps (1), variant overlaps (2)", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "options": [["0: POS in the region", "0", false], ["1: Record overlaps", "1", true], ["2: Variant overlaps", "2", false]], "display": null, "multiple": false, "textable": false}]}], "test_param": {"model_class": "SelectToolParameter", "name": "regions_src", "argument": null, "type": "select", "label": "Regions", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "__none__", "options": [["Do not restrict to Regions", "__none__", false], ["Specify one or more Region(s) directly", "regions", false], ["Operate on Regions specified in a history dataset", "regions_file", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "TextToolParameter", "name": "samples", "argument": "--samples", "type": "text", "label": "Samples", "help": "Comma-separated list of samples to annotate (or exclude) or - to include all samples", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "invert_samples", "argument": null, "type": "boolean", "label": "Invert Samples", "help": "Inverts the query/filtering applied by Samples (adds \"^\" prefix to exclude)", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "^", "falsevalue": ""}, {"model_class": "DataToolParameter", "name": "samples_file", "argument": "--samples_file", "type": "data", "label": "Samples file", "help": "File of samples to include", "help_format": "html", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "BooleanToolParameter", "name": "invert_samples_file", "argument": null, "type": "boolean", "label": "Invert Samples file", "help": "inverts the query/filtering applied by Samples file", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "^", "falsevalue": ""}]}, {"model_class": "SelectToolParameter", "name": "output_type", "argument": null, "type": "select", "label": "", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "b", "options": [["compressed BCF", "b", false], ["uncompressed VCF", "v", false]], "display": null, "multiple": false, "textable": false}], "outputs": [{"model_class": "ToolOutput", "name": "output_file", "format": "vcf", "label": null, "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": null, "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3016", "edam_data": "data_0006", "discover_datasets": []}], "panel_section_id": "variant_calling", "panel_section_name": "Variant Calling", "form_style": "regular"}