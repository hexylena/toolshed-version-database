{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/deseq2/deseq2/2.11.40.7+galaxy2", "name": "DESeq2", "version": "2.11.40.7+galaxy2", "description": "Determines differentially expressed features from count tables", "labels": [], "edam_operations": ["operation_3800"], "edam_topics": ["topic_3308"], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "DESeq2", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "deseq2", "owner": "iuc", "changeset_revision": "8fe98f7094de", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "Conditional", "name": "select_data", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "group_tags", "inputs": [{"model_class": "DataCollectionToolParameter", "name": "countsFile", "argument": null, "type": "data_collection", "label": "Count file(s) collection", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "multiple": false, "options": {"hda": [], "hdca": [], "dce": []}, "tag": null}, {"model_class": "Repeat", "name": "rep_factorName", "type": "repeat", "title": "Factor", "help": null, "default": 1, "min": 1, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "factorName", "argument": null, "type": "text", "label": "Specify a factor name, e.g. effects_drug_x or cancer_markers", "help": "Only letters, numbers and underscores will be retained in this field", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "FactorName", "area": false, "datalist": []}, {"model_class": "Repeat", "name": "rep_factorLevel", "type": "repeat", "title": "Factor level", "help": null, "default": 2, "min": 2, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "factorLevel", "argument": null, "type": "text", "label": "Specify a factor level, typical values could be 'tumor', 'normal', 'treated' or 'control'", "help": "Only letters, numbers and underscores will be retained in this field", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "FactorLevel", "area": false, "datalist": []}, {"model_class": "SelectTagParameter", "name": "groups", "argument": null, "type": "group_tag", "label": "Select groups that correspond to this factor level", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": true, "value": null, "options": [], "display": null, "multiple": "true", "textable": false, "data_ref": "countsFile"}]}]}]}, {"model_class": "ConditionalWhen", "value": "datasets_per_level", "inputs": [{"model_class": "Repeat", "name": "rep_factorName", "type": "repeat", "title": "Factor", "help": null, "default": 1, "min": 1, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "factorName", "argument": null, "type": "text", "label": "Specify a factor name, e.g. effects_drug_x or cancer_markers", "help": "Only letters, numbers and underscores will be retained in this field", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "FactorName", "area": false, "datalist": []}, {"model_class": "Repeat", "name": "rep_factorLevel", "type": "repeat", "title": "Factor level", "help": null, "default": 2, "min": 2, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "factorLevel", "argument": null, "type": "text", "label": "Specify a factor level, typical values could be 'tumor', 'normal', 'treated' or 'control'", "help": "Only letters, numbers and underscores will be retained in this field", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "FactorLevel", "area": false, "datalist": []}, {"model_class": "DataToolParameter", "name": "countsFile", "argument": null, "type": "data", "label": "Counts file(s)", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}]}]}], "test_param": {"model_class": "SelectToolParameter", "name": "how", "argument": null, "type": "select", "label": "", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "datasets_per_level", "options": [["Select datasets per level", "datasets_per_level", false], ["Select group tags corresponding to levels", "group_tags", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "DataToolParameter", "name": "batch_factors", "argument": null, "type": "data", "label": "(Optional) provide a tabular file with additional batch factors to include in the model.", "help": "You can produce this file using RUVSeq or svaseq.", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "BooleanToolParameter", "name": "header", "argument": null, "type": "boolean", "label": "Files have header?", "help": "If this option is set to Yes, the tool will assume that the count files have column headers in the first row. Default: Yes", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "-H", "falsevalue": ""}, {"model_class": "Conditional", "name": "tximport", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "tximport", "inputs": [{"model_class": "SelectToolParameter", "name": "txtype", "argument": null, "type": "select", "label": "Program used to generate TPMs", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "kallisto", "options": [["kallisto", "kallisto", false], ["Sailfish", "sailfish", false], ["Salmon", "salmon", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "Conditional", "name": "mapping_format", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "gtf", "inputs": [{"model_class": "DataToolParameter", "name": "gtf_file", "argument": null, "type": "data", "label": "GTF/GFF3 annotation file", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["gtf", "gff3"], "edam": {"edam_formats": ["format_2306", "format_1975"], "edam_data": ["data_1255", "data_1255"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "tabular", "inputs": [{"model_class": "DataToolParameter", "name": "tabular_file", "argument": null, "type": "data", "label": "Tabular file with Transcript-ID to Gene-ID mapping", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "mapping_format_selector", "argument": null, "type": "select", "label": "Gene mapping format", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "gtf", "options": [["GTF/GFF3", "gtf", true], ["Transcript-ID to Gene-ID mapping file", "tabular", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "ConditionalWhen", "value": "count", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "tximport_selector", "argument": null, "type": "select", "label": "Choice of Input data", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "count", "options": [["Count data (e.g. from HTSeq-count, featureCounts or StringTie)", "count", true], ["TPM values (e.g. from kallisto, sailfish or salmon)", "tximport", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Section", "name": "advanced_options", "type": "section", "title": "Advanced options", "help": null, "expanded": false, "inputs": [{"model_class": "SelectToolParameter", "name": "esf", "argument": null, "type": "select", "label": "Method for estimateSizeFactors", "help": "Method for estimation: either 'ratio', 'poscounts', or 'iterate'. 'ratio' uses the standard median ratio method introduced in DESeq.                      The size factor is the median ratio of the sample over a 'pseudosample': for each gene, the geometric mean of all samples.                      'poscounts' and 'iterate' offer alternative estimators, which can be used even when all genes contain a sample with a zero (a problem                      for the default method, as the geometric mean becomes zero, and the ratio undefined). The 'poscounts' estimator deals with a gene with                      some zeros, by calculating a modified geometric mean by taking the n-th root of the product of the non-zero counts. This evolved out of                      use cases with Paul McMurdie's phyloseq package for metagenomic samples. The 'iterate' estimator iterates between estimating the dispersion                      with a design of ~1, and finding a size factor vector by numerically optimizing the likelihood of the ~1 model.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "options": [["No Selection (use default)", "", true], ["ratio", "ratio", false], ["poscounts", "poscounts", false], ["iterate", "iterate", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "fit_type", "argument": null, "type": "select", "label": "Fit type", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "options": [["parametric", "1", true], ["local", "2", false], ["mean", "3", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "BooleanToolParameter", "name": "outlier_replace_off", "argument": null, "type": "boolean", "label": "Turn off outliers replacement (only affects with >6 replicates)", "help": "When there are more than 6 replicates for a given sample, the DESeq2 will automatically replace                     counts with large Cook\u2019s distance with the trimmed mean over all samples, scaled up by the size factor                     or normalization factor for that sample", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "1", "falsevalue": "0"}, {"model_class": "BooleanToolParameter", "name": "outlier_filter_off", "argument": null, "type": "boolean", "label": "Turn off outliers filtering (only affects with >2 replicates)", "help": "When there are more than 2 replicates for a given sample, the DESeq2 will automatically                     filter genes which contain a Cook\u2019s distance above a cutoff", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "1", "falsevalue": "0"}, {"model_class": "BooleanToolParameter", "name": "auto_mean_filter_off", "argument": null, "type": "boolean", "label": "Turn off independent filtering", "help": " DESeq2 performs independent filtering by default using the mean of normalized counts as a filter statistic", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "1", "falsevalue": "0"}, {"model_class": "Conditional", "name": "prefilter_conditional", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "-P", "inputs": [{"model_class": "IntegerToolParameter", "name": "prefilter_value", "argument": null, "type": "integer", "label": "Pre-filter value", "help": "Keep only rows that have at least N reads total.", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "prefilter", "argument": null, "type": "select", "label": "Perform pre-filtering", "help": "While it is not necessary to pre-filter                      low count genes before running the DESeq2 functions, there are two reasons which make pre-filtering useful:                      by removing rows in which there are very few reads, we reduce the required memory, and we increase the speed.                      It can also improve visualizations, as features with no information for differential expression are not plotted.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "options": [["Enabled", "-P", false], ["Disabled", "", true]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "Section", "name": "output_options", "type": "section", "title": "Output options", "help": null, "expanded": false, "inputs": [{"model_class": "SelectToolParameter", "name": "output_selector", "argument": null, "type": "select", "label": "Output selector", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "pdf", "options": [["Generate plots for visualizing the analysis results", "pdf", true], ["Output sample size factors", "sizefactors", false], ["Output normalised counts", "normCounts", false], ["Output VST normalized table", "normVST", false], ["Output rLog normalized table", "normRLog", false], ["Output all levels vs all levels of primary factor (use when you have >2 levels for primary factor)", "many_contrasts", false]], "display": "checkboxes", "multiple": true, "textable": false}, {"model_class": "FloatToolParameter", "name": "alpha_ma", "argument": null, "type": "float", "label": "Alpha value for MA-plot", "help": "Default value is 0.1. This option is only meaninful when plots are generated", "refresh_on_change": false, "min": 0.0, "max": 0.5, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.1", "area": false, "datalist": []}]}], "outputs": [{"model_class": "ToolOutputCollection", "name": "split_output", "format": null, "label": "DESeq2 result files on ${on_string}", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": "tabular", "visible": false, "assign_primary_output": false, "directory": ".", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "(?P<designation>.+_vs_.+)", "sort_by": "filename"}]}}, {"model_class": "ToolOutput", "name": "deseq_out", "format": "tabular", "label": "DESeq2 result file on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "plots", "format": "pdf", "label": "DESeq2 plots on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3508", "edam_data": "data_2968", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "sizefactors_out", "format": "tabular", "label": "Size Factors on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "counts_out", "format": "tabular", "label": "Normalized counts file on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "rlog_out", "format": "tabular", "label": "rLog-Normalized counts file on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "vst_out", "format": "tabular", "label": "VST-Normalized counts file on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "rna_analysis", "panel_section_name": "RNA Analysis", "form_style": "regular"}