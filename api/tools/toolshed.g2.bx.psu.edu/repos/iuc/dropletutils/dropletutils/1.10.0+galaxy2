{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/dropletutils/dropletutils/1.10.0+galaxy2", "name": "DropletUtils", "version": "1.10.0+galaxy2", "description": "Utilities for handling droplet-based single-cell RNA-seq data", "labels": [], "edam_operations": ["operation_1812", "operation_3200"], "edam_topics": ["topic_0203", "topic_3168", "topic_3170", "topic_3308"], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "dropletutils", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "dropletutils", "owner": "iuc", "changeset_revision": "a9caad671439", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "Conditional", "name": "tenx_format", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "directory", "inputs": [{"model_class": "DataToolParameter", "name": "input", "argument": null, "type": "data", "label": "Count Data", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["mtx", "txt"], "edam": {"edam_formats": ["format_3475", "format_2330"], "edam_data": ["data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "input_genes", "argument": null, "type": "data", "label": "Genes List", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular", "tsv", "txt"], "edam": {"edam_formats": ["format_3475", "format_3475", "format_2330"], "edam_data": ["data_0006", "data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "input_barcodes", "argument": null, "type": "data", "label": "Barcodes List", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular", "tsv", "txt"], "edam": {"edam_formats": ["format_3475", "format_3475", "format_2330"], "edam_data": ["data_0006", "data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "h5", "inputs": [{"model_class": "DataToolParameter", "name": "input", "argument": null, "type": "data", "label": "Count Data", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["h5"], "edam": {"edam_formats": ["format_3590"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "tsv", "inputs": [{"model_class": "DataToolParameter", "name": "input", "argument": null, "type": "data", "label": "Count Data", "help": "The first column must contain gene names, and the first row must contain barcode identifiers.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular", "tsv"], "edam": {"edam_formats": ["format_3475", "format_3475"], "edam_data": ["data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "use", "argument": null, "type": "select", "label": "Format for the input matrix", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "h5", "options": [["Bundled (barcodes.tsv, genes.tsv, matrix.mtx)", "directory", false], ["H5", "h5", true], ["Tabular", "tsv", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "operation", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "filter", "inputs": [{"model_class": "Conditional", "name": "method", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "defaultdrops", "inputs": [{"model_class": "IntegerToolParameter", "name": "expected", "argument": null, "type": "integer", "label": "Expected Number of Cells", "help": "The expected number of cells in the sample.", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "3000", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "upperquant", "argument": null, "type": "float", "label": "Upper Quantile", "help": "The quantile of the top expected barcodes to consider.", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.99", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "lowerprop", "argument": null, "type": "float", "label": "Lower Proportion", "help": "The fraction of molecules of the upper quantile that must be exceeded for a cell barcode to be detected.", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.1", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "emptydrops", "inputs": [{"model_class": "IntegerToolParameter", "name": "lower", "argument": null, "type": "integer", "label": "Lower-bound Threshold", "help": "The lower-bound threshold of the total UMI count at which barcodes beneath this are assumed to be empty droplets.", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "100", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "fdr_thresh", "argument": null, "type": "float", "label": "FDR Threshold", "help": "False Discovery Rate threshold at which droplets with significant deviations from the ambient profile are detected at this threshold. If set to 0, the threshold is ignored.", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.01", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "use", "argument": null, "type": "select", "label": "Method", "help": "The DefaultDrops method calls cells according to the number of UMIs associated with each barcode as implemented by CellRanger. The EmptyDrops method identifies empty droplets using a smart ambient background model.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "defaultdrops", "options": [["DefaultDrops", "defaultdrops", true], ["EmptyDrops", "emptydrops", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "SelectToolParameter", "name": "outformat", "argument": null, "type": "select", "label": "Format for output matrices", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "h5", "options": [["Bundled (barcodes.tsv, genes.tsv, matrix.mtx)", "directory", false], ["H5", "h5", true], ["Tabular", "tsv", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "barcode_rank", "inputs": [{"model_class": "IntegerToolParameter", "name": "lower", "argument": null, "type": "integer", "label": "Lower Bound", "help": "Lower bound on the total UMI count, at or below which all barcodes are assumed to correspond to empty droplets.", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "100", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "use", "argument": null, "type": "select", "label": "Operation", "help": "The filtering uses intelligent methods to generate output 10X matrices as would be otherwise generated by CellRanger. The ranking option serves to illustrate the number of detected barcodes in the sample.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "filter", "options": [["Filter for Barcodes", "filter", true], ["Rank Barcodes", "barcode_rank", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "IntegerToolParameter", "name": "seed", "argument": null, "type": "integer", "label": "Random Seed", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "100", "area": false, "datalist": []}], "outputs": [{"model_class": "ToolOutput", "name": "fileout_tsv", "format": "tsv", "label": "${tool.name} Count Matrix on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "fileout_h5", "format": "h5", "label": "${tool.name} H5 Matrix on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3590", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "barcodes_out", "format": "tsv", "label": "${tool.name} 10X Barcodes on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "tenx.output/barcodes.tsv", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "genes_out", "format": "tsv", "label": "${tool.name} 10X Genes on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "tenx.output/genes.tsv", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "matrix_out", "format": "mtx", "label": "${tool.name} 10X Matrices on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "tenx.output/matrix.mtx", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "plot", "format": "png", "label": "${tool.name} Plot on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3603", "edam_data": "data_2968", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "table", "format": "tsv", "label": "${tool.name} Table on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "single-cell", "panel_section_name": "Single-cell", "form_style": "regular"}