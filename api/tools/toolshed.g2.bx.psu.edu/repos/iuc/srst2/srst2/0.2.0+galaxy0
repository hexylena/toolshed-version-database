{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/srst2/srst2/0.2.0+galaxy0", "name": "SRST2", "version": "0.2.0+galaxy0", "description": "Short Read Sequence Typing for Bacterial Pathogens", "labels": [], "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "srst2", "owner": "iuc", "changeset_revision": "f9a0855c792d", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "Conditional", "name": "input", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "single", "inputs": [{"model_class": "DataToolParameter", "name": "single_input", "argument": null, "type": "data", "label": "Single end read file(s) for analysing (may be gzipped)", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta", "fasta.gz", "fastq", "fastq.gz", "fastqsanger", "fastqsanger.gz"], "edam": {"edam_formats": ["format_1929", "format_1929", "format_1930", "format_1930", "format_1932", "format_1932"], "edam_data": ["data_2044", "data_2044", "data_2044", "data_2044", "data_2044", "data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "SelectToolParameter", "name": "read_type", "argument": "--read_type", "type": "select", "label": "Read file type", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "q", "options": [["fastq", "q", true], ["fasta", "f", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "paired", "inputs": [{"model_class": "DataToolParameter", "name": "paired_input1", "argument": null, "type": "data", "label": "Paired end read files for analysing (may be gzipped)", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta", "fasta.gz", "fastq", "fastq.gz", "fastqsanger", "fastqsanger.gz"], "edam": {"edam_formats": ["format_1929", "format_1929", "format_1930", "format_1930", "format_1932", "format_1932"], "edam_data": ["data_2044", "data_2044", "data_2044", "data_2044", "data_2044", "data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "paired_input2", "argument": null, "type": "data", "label": "Paired end read files for analysing (may be gzipped)", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta", "fasta.gz", "fastq", "fastq.gz", "fastqsanger", "fastqsanger.gz"], "edam": {"edam_formats": ["format_1929", "format_1929", "format_1930", "format_1930", "format_1932", "format_1932"], "edam_data": ["data_2044", "data_2044", "data_2044", "data_2044", "data_2044", "data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "BooleanToolParameter", "name": "merge_paired", "argument": "--merge_paired", "type": "boolean", "label": "Do you want to merge the data to get a single result", "help": "Important only if all the input read sets belong to a single sample", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--merge_paired", "falsevalue": ""}, {"model_class": "SelectToolParameter", "name": "read_type", "argument": "--read_type", "type": "select", "label": "Read file type", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "q", "options": [["fastq", "q", true], ["fasta", "f", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "only_compiling_previous_results", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "selector", "argument": null, "type": "select", "label": "Reads files type for anaylsis", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "single", "options": [["Single-end", "single", false], ["Paired-end", "paired", false], ["Only Compiling Previous SRST2 Results", "only_compiling_previous_results", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "use_mlst_db", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "DataToolParameter", "name": "mlst_db", "argument": "--mlst_db", "type": "data", "label": "Fasta file of MLST alleles", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta"], "edam": {"edam_formats": ["format_1929"], "edam_data": ["data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "mlst_definitions", "argument": "--mlst_definitions", "type": "data", "label": "ST definitions for MLST scheme", "help": "This is the file that tells you the ST number that is assigned to known combinations of alleles. Column 1 is the ST, and subsequent columns are the loci that make up the scheme.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "TextToolParameter", "name": "mlst_delimiter", "argument": "--mlst_delimiter", "type": "text", "label": "Character(s) separating gene name from allele number in MLST database", "help": "E.g.'-', as in arcc-1", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "-", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "mlst_max_mismatch", "argument": "--mlst_max_mismatch", "type": "integer", "label": "Maximum number of mismatches per read for MLST allele calling", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_depth", "argument": "--min_depth", "type": "integer", "label": "Minimum mean depth to flag as dubious allele call", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "5", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_edge_depth", "argument": "--min_edge_depth", "type": "integer", "label": "Minimum edge depth to flag as dubious allele call", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "2", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "no", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "selector", "argument": null, "type": "select", "label": "Do you want to provide an MLST database of all allele sequences for the MLST scheme?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "yes", "options": [["Yes", "yes", false], ["No", "no", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "use_gene_db", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "DataToolParameter", "name": "gene_db", "argument": "--gene_db", "type": "data", "label": "Gene database(s)", "help": "Fasta file/s for gene databases", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta"], "edam": {"edam_formats": ["format_1929"], "edam_data": ["data_2044"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "BooleanToolParameter", "name": "no_gene_details", "argument": "--no_gene_details", "type": "boolean", "label": "Do you want reporting of gene typing?", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "", "falsevalue": "--no_gene_details"}, {"model_class": "IntegerToolParameter", "name": "gene_max_mismatch", "argument": "--gene_max_mismatch", "type": "integer", "label": "Maximum number of mismatches per read for gene detection and allele calling", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_coverage", "argument": "--min_coverage", "type": "integer", "label": "Minimum %coverage cutoff for gene reporting", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "90", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "max_divergence", "argument": "--max_divergence", "type": "integer", "label": "Maximum %divergence cutoff for gene reporting", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "no", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "selector", "argument": null, "type": "select", "label": "Do you want to use a Gene database(s)?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "yes", "options": [["Yes", "yes", false], ["No", "no", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "SelectToolParameter", "name": "output_files_selector", "argument": null, "type": "select", "label": "Select all outputs you need", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "options": [["Save the log", "log", false], ["Report scores", "save_scores", false], ["Report the consensus allele if a matching alleles is not found", "report_new_consensus", false], ["Report the consensus allele for the most likely allele", "report_all_consensus", false], ["Keep interim files (sam and unsorted bam)", "keep_interim_alignment", false]], "display": null, "multiple": true, "textable": false}, {"model_class": "FloatToolParameter", "name": "prob_err", "argument": "--prob_err", "type": "float", "label": "Probability of sequencing error", "help": "", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.01", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "truncation_score_tolerance", "argument": "--truncation_score_tolerance", "type": "float", "label": "% increase in score allowed to choose non-truncated allele", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "stop_after", "argument": "--stop_after", "type": "integer", "label": "Stop mapping after this number of reads have been mapped", "help": "Leave empty to map all", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "max_unaligned_overlap", "argument": "--max_unaligned_overlap", "type": "integer", "label": "Read discarded from alignment", "help": "if either of its ends has unaligned overlap with the reference that is longer than this value", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "mapq", "argument": "--mapq", "type": "integer", "label": "Samtools -q parameter (Minimum mapping quality)", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "baseq", "argument": "--baseq", "type": "integer", "label": "Samtools -Q parameter (Minimum base quality)", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "20", "area": false, "datalist": []}, {"model_class": "DataToolParameter", "name": "prev_output", "argument": "--prev_output", "type": "data", "label": "SRST2 results files to compile", "help": "Any new results from this run will also be incorporated", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}], "outputs": [{"model_class": "ToolOutputCollection", "name": "gene_typing", "format": null, "label": "${tool.name} on ${on_string}: Gene typing results files", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": "txt,tabular", "visible": false, "assign_primary_output": false, "directory": "geneTypingOutput", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "(?P<designation>.+)", "sort_by": "filename"}]}}, {"model_class": "ToolOutputCollection", "name": "new_consensus", "format": null, "label": "${tool.name} on ${on_string}: New consensus Results", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": "pileup", "visible": false, "assign_primary_output": false, "directory": "allelesOutput", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "(?P<designation>.+)", "sort_by": "filename"}]}}, {"model_class": "ToolOutputCollection", "name": "scores_ofEachAllele", "format": null, "label": "${tool.name} on ${on_string}: Scores for each allele in the database(s)", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": "tabular", "visible": false, "assign_primary_output": false, "directory": "scoresOutput", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "(?P<designation>.+)", "sort_by": "filename"}]}}, {"model_class": "ToolOutputCollection", "name": "bowtie2_alignment_output", "format": null, "label": "${tool.name} on ${on_string}: Bowtie2 alignment of reads to each input database", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": "bam", "visible": false, "assign_primary_output": false, "directory": "bowtie2Alignments", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "(?P<designation>.+)", "sort_by": "filename"}]}}, {"model_class": "ToolOutputCollection", "name": "samtools_pileup_alignment", "format": null, "label": "${tool.name} on ${on_string}: Samtools pileup of the alignment to each input database", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": "pileup", "visible": false, "assign_primary_output": false, "directory": "samtoolsPileup", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "(?P<designation>.+)", "sort_by": "filename"}]}}, {"model_class": "ToolOutput", "name": "mlst_results", "format": "tabular", "label": "${tool.name} on ${on_string}: MLST Results", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "output__mlst__mlst_db__results.txt", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "Compiled_gene_and_mlst_output", "format": "tabular", "label": "${tool.name} on ${on_string}: Compiled MLST and Gene databases Results", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "output__compiledResults.txt", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "all_consensus", "format": "fasta", "label": "${tool.name} on ${on_string}: All consensus Results", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "output.all_consensus_alleles.fasta", "edam_format": "format_1929", "edam_data": "data_2044", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "log_output", "format": "tabular", "label": "${tool.name} on ${on_string}: Log file", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "output.log", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": []}], "panel_section_id": "metagenomic_analysis", "panel_section_name": "Metagenomic Analysis", "form_style": "regular"}