{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/masigpro/masigpro/1.49.3.1+galaxy0", "name": "maSigPro", "version": "1.49.3.1+galaxy0", "description": "Significant Gene Expression Profile Differences in Time Course Gene Expression Data", "labels": [], "edam_operations": ["operation_3659"], "edam_topics": ["topic_3170", "topic_3518", "topic_0203", "topic_3321"], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "masigpro", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "masigpro", "owner": "iuc", "changeset_revision": "402e0b9cfd87", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "Conditional", "name": "source", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "defaults", "inputs": [{"model_class": "DataToolParameter", "name": "edesign", "argument": null, "type": "data", "label": "Experiment matrix", "help": "Matrix describing experimental design. Rows must be arrays and columns experiment descriptors", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular", "txt"], "edam": {"edam_formats": ["format_3475", "format_2330"], "edam_data": ["data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "data", "argument": null, "type": "data", "label": "Gene expression matrix", "help": "Matrix containing normalized gene expression data. Genes must be in rows and arrays in columns", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular", "txt"], "edam": {"edam_formats": ["format_3475", "format_2330"], "edam_data": ["data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "IntegerToolParameter", "name": "time_col", "argument": null, "type": "integer", "label": "Column number containing time values", "help": "Column number in edesign containing time values. Default is first column", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "repl_col", "argument": null, "type": "integer", "label": "Column number containing replicate coding", "help": "Column number in edesign containing coding for replicate arrays. Default is second column", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "2", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "advanced", "inputs": [{"model_class": "BooleanToolParameter", "name": "enable_output", "argument": null, "type": "boolean", "label": "Output generated maSigPro input files?", "help": "Choose if you want to output the generated edesign and data files for direct use in maSigPro as history elements.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "1", "falsevalue": "0"}, {"model_class": "Repeat", "name": "rep_time", "type": "repeat", "title": "Time values", "help": null, "default": 1, "min": 1, "max": "__Infinity__", "inputs": [{"model_class": "IntegerToolParameter", "name": "time", "argument": null, "type": "integer", "label": "Specify a numerical time value", "help": "Only numbers will be allowed", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "DataToolParameter", "name": "files", "argument": null, "type": "data", "label": "Counts file(s) at this time value", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "Repeat", "name": "rep_groups", "type": "repeat", "title": "Experimental groups", "help": null, "default": 1, "min": 1, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "name", "argument": null, "type": "text", "label": "Specify the name of this experimental group", "help": "Use a single name without spaces or special characters", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "Group title", "area": false, "datalist": []}, {"model_class": "DataToolParameter", "name": "files", "argument": null, "type": "data", "label": "Counts file(s) belonging to this experimental group", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "Repeat", "name": "rep_repl", "type": "repeat", "title": "Replicates", "help": null, "default": 0, "min": 0, "max": "__Infinity__", "inputs": [{"model_class": "DataToolParameter", "name": "files", "argument": null, "type": "data", "label": "Counts files that are replicates", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}]}], "test_param": {"model_class": "SelectToolParameter", "name": "source_selector", "argument": null, "type": "select", "label": "Choose data source", "help": "Choose if you want to provide seperate count files (e.g. from HTSeq-count or feature-seq)                      and define your experiment design matrix here, or if you have maSigPro edesign and data input files already.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "defaults", "options": [["Use maSigPro edesign and data files", "defaults", false], ["Seperate count data (e.g. from HTSeq-count or feature-count)", "advanced", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Section", "name": "makeDesignMatrix", "type": "section", "title": "Step 1: make.Design.Matrix - Defining the regression model", "help": "\u2018make.design.matrix\u2019 creates the design matrix of dummies for                 fitting time series micorarray gene expression experiments.", "expanded": false, "inputs": [{"model_class": "IntegerToolParameter", "name": "degree", "argument": null, "type": "integer", "label": "Degree of regression fit polynome", "help": "The degree of the regression fit polynome. \u2018degree\u2019 = 1 returns                      linear regression, \u2018degree\u2019 = 2 returns quadratic regression, etc", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}]}, {"model_class": "Section", "name": "p_vector", "type": "section", "title": "Step 2: p.vector - Finding significant genes", "help": "\u2018p.vector\u2019 performs a regression fit for each gene taking all                 variables present in the model given by a regression matrix and                 returns a list of FDR corrected significant genes", "expanded": false, "inputs": [{"model_class": "FloatToolParameter", "name": "qvalue", "argument": null, "type": "float", "label": "Q", "help": "Significance level", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.05", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_obs", "argument": null, "type": "integer", "label": "Minimum values", "help": "Genes with less than this number of true numerical values                     will be excluded from the analysis. Minimum value to estimate                     the model is (degree+1)xGroups+1. Default is 6.", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "6", "area": false, "datalist": []}]}, {"model_class": "Section", "name": "Tfit", "type": "section", "title": "Step 3: T.fit - Finding significant differences", "help": "\u2018T.fit\u2019 selects the best regression model for each gene using                 stepwise regression. In the maSigPro approach \u2018p.vector\u2019 and \u2018T.fit\u2019 are subsequent                 steps, meaning that significant genes are first selected on the                 basis of a general model and then the significant variables for                 each gene are found by step-wise regression.", "expanded": false, "inputs": [{"model_class": "SelectToolParameter", "name": "step_method", "argument": null, "type": "select", "label": "Step regression", "help": "The step regression can be \u2018backward\u2019 or \u2018forward\u2019 indicating                     whether the step procedure starts from the model with all or none                     variables. With the \u2018two.ways.backward\u2019 or \u2018two.ways.forward\u2019                     options the variables are both allowed to get in and out. At each                     step the p-value of each variable is computed and variables get                     in/out the model when this p-value is lower or higher than given                     threshold alfa.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "backward", "options": [["backward", "backward", true], ["forward", "forward", false], ["two.ways.backward", "two.ways.backward", false], ["two.ways.forward", "two.ways.forward", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "BooleanToolParameter", "name": "nvar_correction", "argument": null, "type": "boolean", "label": "nvar correction", "help": "When nvar.correction is TRUE the given significance                     level is corrected by the number of variables in the model.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "FloatToolParameter", "name": "alfa", "argument": null, "type": "float", "label": "alfa", "help": "Significance level used for variable selection in the stepwise regression", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.05", "area": false, "datalist": []}]}, {"model_class": "Section", "name": "getSiggenes", "type": "section", "title": "Step 4: get.siggenes - Obtaining lists of significant genes", "help": "This function creates lists of significant genes for a set of                     variables whose significance value has been computed with the                     \u2018T.fit\u2019 function.", "expanded": false, "inputs": [{"model_class": "FloatToolParameter", "name": "rsq", "argument": null, "type": "float", "label": "rsq", "help": "cut-off level at the R-squared value for the stepwise                     regression fit. Only genes with R-squared more than rsq are                     selected", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.7", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "vars", "argument": null, "type": "select", "label": "Variables", "help": "Variables for which to extract significant genes.                     \u2018all\u2019: generates one single matrix or gene list with all                     significant genes.                      \u2018each\u2019: generates as many significant genes extractions as                     variables in the general regression model. Each extraction                     contains the significant genes for that variable.                      \u2018groups\u2019: generates a significant genes extraction for each                     experimental group.                      The difference between \u2018each\u2019 and \u2018groups\u2019 is that in the                     first case the variables of the same group (e.g.  \u2018TreatmentA\u2019                     and \u2018time*TreatmentA\u2019) will be extracted separately and in t                     he                     second case jointly.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "groups", "options": [["Groups", "groups", true], ["Each", "each", false], ["All", "all", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "significant_intercept", "argument": null, "type": "select", "label": "Significant intercept", "help": "The argument \u2018significant.intercept\u2019 modulates the treatment for                     intercept coefficients to apply for selecting significant genes                     when \u2018vars\u2019 equals \u2018groups\u2019. There are three possible values:                     \u2018none\u2019, no significant intercept (differences) are considered                     for significant gene selection, \u2018dummy\u2019, includes genes with                     significant intercept differences between control and experimental                     groups, and \u2018all\u2019 when both significant intercept coefficient                     for the control group and significant intercept differences are                     considered for selecting significant genes.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "dummy", "options": [["Dummy", "dummy", true], ["None", "none", false], ["All", "all", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "Conditional", "name": "pdf", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "1", "inputs": [{"model_class": "Section", "name": "seeGenes", "type": "section", "title": "Step 5: see.genes - Visualization", "help": "This function provides visualisation tools for gene expression                         values in a time course experiment. The function first calls the                         heatmap function for a general overview of experiment results.                         Next a partioning of the data is generated using a clustering                         method.  The results of the clustering are visualized both as gene                         expression profiles extended along all arrays in the experiment,                         as provided by the plot.profiles function, and as summary                         expression profiles for comparison among experimental groups.", "expanded": false, "inputs": [{"model_class": "IntegerToolParameter", "name": "clusterData", "argument": null, "type": "integer", "label": "Cluster Data", "help": "Data clustering can be done on the basis of either the original                             expression values, the regression coefficients, or the t.scores.                             In case \u2018data\u2019 is a \u2018get.siggenes\u2019 object, this is given by                             providing the element names of the list                             \u2018c(sig.profiles,coefficients,t.score)\u2019 of their list                             position (1,2 or 3).", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "k", "argument": null, "type": "integer", "label": "Number of clusters for data partioning", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "9", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "print_cluster", "argument": null, "type": "boolean", "label": "Add cluster information to summary file?", "help": "Adds columns with the cluster assignment for each gene.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "Conditional", "name": "clustering", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "hclust", "inputs": [{"model_class": "SelectToolParameter", "name": "distance", "argument": null, "type": "select", "label": "Distance measure", "help": "Distance measurement function when \u2018cluster.method\u2019 is                                     \u2018hclust\u2019. Default uses correlation.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "cor", "options": [["Correlation", "cor", true], ["Euclidean", "euclidean", false], ["Maximum", "maximum", false], ["Manhattan", "manhattan", false], ["Canberra", "Canberra", false], ["Binary", "binary", false], ["Minkowski", "minkowski", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "aggloMethod", "argument": null, "type": "select", "label": "Agglomeration method", "help": "The agglomeration method to be used when \u2018cluster.method\u2019 is \u2018hclust\u2019.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "ward.D", "options": [["ward.D", "ward.D", true], ["ward.D2", "ward.D2", false], ["single", "single", false], ["complete", "complete", false], ["average (= UPGMA)", "average", false], ["mcquitty (= WPGMA)", "mcquitty", false], ["median (= WPGMC)", "median", false], ["centroid (= UPGMC)", "centroid", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "kmeans", "inputs": [{"model_class": "IntegerToolParameter", "name": "iterMax", "argument": null, "type": "integer", "label": "Maximum number of iterations", "help": "Maximum number of iterations when \u2018cluster.method\u2019 is \u2018kmeans\u2019", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "500", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "Mclust", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "clusterMethod", "argument": null, "type": "select", "label": "Cluster Method", "help": "clustering method for data partioning. Currently                                 \u2018hclust\u2019, \u2018kmeans\u2019 and \u2018Mclust\u2019 are supported", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "hclust", "options": [["hclust", "hclust", true], ["kmeans", "kmeans", false], ["Mclust", "Mclust", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "SelectToolParameter", "name": "colorMode", "argument": null, "type": "select", "label": "Color Mode", "help": "Color scale for plotting profiles. Can be either \u2018rainbow\u2019 or \u2018gray\u2019", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "rainbow", "options": [["Rainbow", "rainbow", true], ["Gray", "gray", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "BooleanToolParameter", "name": "showFit", "argument": null, "type": "boolean", "label": "Show regression fit curves?", "help": "Indicating whether regression fit curves must be plotted", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "BooleanToolParameter", "name": "showLines", "argument": null, "type": "boolean", "label": "Draw lines?", "help": "Indicating whether a line must be drawn joining plotted data points for each group", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "FloatToolParameter", "name": "cexlab", "argument": null, "type": "float", "label": "Magnification for x labels", "help": "Graphical parameter maginfication to be used for x labels in plotting functions", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.8", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "legend", "argument": null, "type": "boolean", "label": "Add legend to plotting profiles?", "help": "Indicating whether legend must be added when plotting profiles", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "TRUE", "falsevalue": "FALSE"}]}]}, {"model_class": "ConditionalWhen", "value": "0", "inputs": []}], "test_param": {"model_class": "BooleanToolParameter", "name": "pdf_selector", "argument": null, "type": "boolean", "label": "Generate visualization PDF", "help": "Choose if you want to generate a PDF file containing the visualizations", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "1", "falsevalue": "0"}}], "outputs": [{"model_class": "ToolOutput", "name": "data_out", "format": "txt", "label": "maSigPro data file on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "edesign_out", "format": "txt", "label": "maSigPro edesign file on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "pdf_out", "format": "pdf", "label": "maSigPro Plot file on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "Results.pdf", "edam_format": "format_3508", "edam_data": "data_2968", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "masigpro_out", "format": "tabular", "label": "maSigPro result file on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "rna_analysis", "panel_section_name": "RNA Analysis", "form_style": "regular"}