{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/gemini_annotate/gemini_annotate/0.20.1+galaxy2", "name": "GEMINI annotate", "version": "0.20.1+galaxy2", "description": "the variants in an existing GEMINI database with additional information", "labels": [], "edam_operations": ["operation_3197", "operation_2403"], "edam_topics": ["topic_0080"], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "gemini", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "gemini_annotate", "owner": "iuc", "changeset_revision": "cf0f0f05ba9f", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "infile", "argument": null, "type": "data", "label": "GEMINI database", "help": "Only files with version 0.20.1 are accepted.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": true, "value": null, "extensions": ["gemini.sqlite"], "edam": {"edam_formats": ["format_3622"], "edam_data": ["data_3498"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "annotate_source", "argument": "-f", "type": "data", "label": "Dataset to use as the annotation source", "help": "The tool can use the information from a BED or VCF dataset to annotate the database variants.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["vcf", "vcf_bgzip", "bed"], "edam": {"edam_formats": ["format_3016", "format_3016", "format_3003"], "edam_data": ["data_0006", "data_0006", "data_3002"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "BooleanToolParameter", "name": "region_only", "argument": "--region-only", "type": "boolean", "label": "Strict variant-identity matching of database and annotation records (VCF format only)", "help": "The default is to consider VCF-formatted annotations only if a variant in the GEMINI database and a record in the annotation source describe the exact same nucleotide change at the same position in the genome. You can disable this option to make use of any annotation that overlaps with the position of a database variant. This setting is ignored for annotation sources in BED format, for which matching is always based on overlapping positions only.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "", "falsevalue": "--region-only"}, {"model_class": "Conditional", "name": "a", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "extract", "inputs": [{"model_class": "Repeat", "name": "actions", "type": "repeat", "title": "Annotation extraction recipe", "help": null, "default": 1, "min": 1, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "element_to_extract", "argument": "-e", "type": "text", "label": "Elements to extract from the annotation source", "help": "For an annotation source in BED format, specify the number of the column from which the annotations should be read. For a VCF source, name an INFO field element.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "column_name", "argument": "-c", "type": "text", "label": "Database column name to use for recording annotations", "help": "A column with the name provided here will be added to the variants table of the GEMINI database to store the annotations", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "column_type", "argument": "-t", "type": "select", "label": "What type of data are you trying to extract?", "help": "Your selection will determine the data type used to store the new annotations in the database.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "float", "options": [["Numbers with decimal precision", "float", false], ["Integer numbers", "integer", false], ["Text (text)", "text", false]], "display": "radio", "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "operation", "argument": "-o", "type": "select", "label": "If multiple annotations are found for the same variant, store ...", "help": "Note: If indicated (in parentheses) an option is only applicable to annotations of a specific type.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "first", "options": [["the first annotation found", "first", false], ["the last annotation found", "last", false], ["a comma-separated list of the (text) values", "list", false], ["a comma-separated list of non-redundant (text) values", "uniq_list", false], ["the smallest of the (numeric) values", "min", false], ["the largest of the (numeric) values", "max", false], ["the most frequent of the (numeric) values", "mode", false], ["the mean of the (numeric) values", "mean", false], ["the median of the (numeric) values", "median", false], ["the sum of the (numeric) values", "sum", false]], "display": null, "multiple": false, "textable": false}]}]}, {"model_class": "ConditionalWhen", "value": "boolean", "inputs": [{"model_class": "TextToolParameter", "name": "column_name", "argument": "-c", "type": "text", "label": "Database column name to use for recording annotations", "help": "A column with the name provided here will be added to the variants table of the GEMINI database to store the annotations", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "count", "inputs": [{"model_class": "TextToolParameter", "name": "column_name", "argument": "-c", "type": "text", "label": "Database column name to use for recording annotations", "help": "A column with the name provided here will be added to the variants table of the GEMINI database to store the annotations", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "a_selector", "argument": "-a", "type": "select", "label": "Type of information to add to the database variants", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "extract", "options": [["Binary indicator (1=found, 0=not found) of whether the variant had any match in the annotation source (boolean)", "boolean", false], ["Count of the number of matches found in the annotation source for the database variant (count)", "count", false], ["Specific values extracted from matching records in the annotation source (extract)", "extract", true]], "display": null, "multiple": false, "textable": false}}], "outputs": [{"model_class": "ToolOutput", "name": "outfile", "format": "gemini.sqlite", "label": "", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3622", "edam_data": "data_3498", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "gemini", "panel_section_name": "Gemini", "form_style": "regular"}