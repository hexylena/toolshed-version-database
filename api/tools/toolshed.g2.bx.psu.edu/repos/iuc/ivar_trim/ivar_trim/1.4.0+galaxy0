{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/ivar_trim/ivar_trim/1.4.0+galaxy0", "name": "ivar trim", "version": "1.4.0+galaxy0", "description": "Trim reads in aligned BAM", "labels": [], "edam_operations": ["operation_3227", "operation_3778", "operation_3225"], "edam_topics": ["topic_3299", "topic_3071", "topic_3168"], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "ivar", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "ivar_trim", "owner": "iuc", "changeset_revision": "a2b94388d00d", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "input_bam", "argument": "-i", "type": "data", "label": "Bam file", "help": "Aligned reads, to trim primers and quality", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bam"], "edam": {"edam_formats": ["format_2572"], "edam_data": ["data_0863"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Conditional", "name": "primer", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "history", "inputs": [{"model_class": "DataToolParameter", "name": "input_bed", "argument": "-b", "type": "data", "label": "BED file with primer sequences and positions", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bed"], "edam": {"edam_formats": ["format_3003"], "edam_data": ["data_3002"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "cached", "inputs": [{"model_class": "SelectToolParameter", "name": "cached_bed", "argument": null, "type": "select", "label": "Primer scheme name", "help": "Select primer scheme bed file from a list", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": true, "value": "SARS-CoV-2-ARTICv1", "options": [["SARS-CoV-2-ARTICv1", "SARS-CoV-2-ARTICv1", false], ["SARS-CoV-2-ARTICv2", "SARS-CoV-2-ARTICv2", false], ["SARS-CoV-2-ARTICv3", "SARS-CoV-2-ARTICv3", false]], "display": null, "multiple": false, "textable": false}]}], "test_param": {"model_class": "SelectToolParameter", "name": "source", "argument": null, "type": "select", "label": "Source of primer information", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "history", "options": [["History", "history", true], ["Built-in", "cached", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "amplicons", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "yes_compute", "inputs": []}, {"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "DataToolParameter", "name": "amplicon_info", "argument": "-f", "type": "data", "label": "", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "filter_by", "argument": null, "type": "select", "label": "Filter reads based on amplicon info", "help": "When you select Yes, reads that are not fully contained in any amplicon will be dropped before primer trimming. This option is currently marked as [Experimental] in ivar, but nevertheless recommended here. Info on amplicons can be computed from suitable primer BED files (see tool help below) or provided by the user. ", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "options": [["No, allow reads to extend beyond amplicon boundaries", "", false], ["Yes, drop reads that extend beyond amplicon boundaries", "yes_compute", false], ["Yes, drop reads that extend beyond amplicon boundaries and use my amplicon info file", "yes", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "IntegerToolParameter", "name": "primer_pos_wiggle", "argument": "-x", "type": "integer", "label": "Wiggling room for read ends relative to primer binding sites", "help": "Reads that occur at the specified offset positions relative to primer positions (as annotated in the primer information dataset) will also be trimmed (default: 0)", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "inc_primers", "argument": "-e", "type": "boolean", "label": "Include reads not ending in any primer binding sites?", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "-e", "falsevalue": ""}, {"model_class": "IntegerToolParameter", "name": "min_qual", "argument": "-q", "type": "integer", "label": "Minimum quality threshold for sliding window to pass", "help": "", "refresh_on_change": false, "min": 0, "max": 255, "optional": false, "hidden": false, "is_dynamic": false, "value": "20", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "window_width", "argument": "-s", "type": "integer", "label": "Width of sliding window", "help": "", "refresh_on_change": false, "min": 0, "max": 255, "optional": false, "hidden": false, "is_dynamic": false, "value": "4", "area": false, "datalist": []}, {"model_class": "Conditional", "name": "trimmed_length", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "off", "inputs": []}, {"model_class": "ConditionalWhen", "value": "auto", "inputs": []}, {"model_class": "ConditionalWhen", "value": "custom", "inputs": [{"model_class": "IntegerToolParameter", "name": "min_len", "argument": "-m", "type": "integer", "label": "Minimum trimmed length threshold", "help": "Reads with a trimmed length shorter than this value will be discarded.", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "30", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "filter", "argument": null, "type": "select", "label": "Require a minimum length for reads to retain them after any trimming?", "help": "The default automatic setting will determine the threshold as 50% of the mean length of the first 1000 raw input reads, which may or may not be adequate for your data. You can always make the outcome of filtering more predictable by specifying the threshold explicitly. You can also opt to retain reads independently of their trimmed length, but typically this only makes sense if you are performing additional read filtering with additional tools in your analysis pipeline.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "auto", "options": [["No, keep reads independently of their trimmed length (-m 0)", "off", false], ["Yes, and determine required length threshold automatically from input (-m -1)", "auto", true], ["Yes, and provide a custom threshold", "custom", false]], "display": null, "multiple": false, "textable": false}}], "outputs": [{"model_class": "ToolOutput", "name": "output_bam", "format": "bam", "label": "${tool.name} on ${on_string} Trimmed bam", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "trimmed.sorted.bam", "edam_format": "format_2572", "edam_data": "data_0863", "discover_datasets": []}], "panel_section_id": "virology", "panel_section_name": "Virology", "form_style": "regular"}