{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/metasbt_index/metasbt_index/0.1.5+galaxy1", "name": "index", "version": "0.1.5+galaxy1", "description": "genomes with Sequence Bloom Trees or update an existing database", "labels": [], "icon": null, "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "metasbt_index", "owner": "iuc", "changeset_revision": "dff5f0dd17eb", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "genomes", "argument": null, "type": "data", "label": "Input genomes", "help": "Select a set of input genomes.", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta", "fasta.gz"], "edam": {"edam_formats": ["format_1929", "format_1929"], "edam_data": ["data_2044", "data_2044"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "taxonomies", "argument": null, "type": "data", "label": "Input table with taxonomic labels", "help": "Optional two-columns table with the input file names and their full taxonomic labels. This is not required in case the input files are not reference genomes.", "help_format": "html", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tsv"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Section", "name": "advanced", "type": "section", "title": "Advanced options", "help": "Access advanced options to customize k-mer length, bloom filter size, and other settings.", "expanded": true, "inputs": [{"model_class": "Conditional", "name": "index_update_conditional", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "false", "inputs": [{"model_class": "Conditional", "name": "kmers_selection", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "true", "inputs": [{"model_class": "IntegerToolParameter", "name": "max_kmer_len", "argument": null, "type": "integer", "label": "Max k-mer length", "help": "Limit the length of k-mers for the estimation of the best k-mer length with Kitsune.", "help_format": "html", "refresh_on_change": false, "min": 8, "max": 128, "optional": false, "hidden": false, "is_dynamic": false, "value": "9", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "false", "inputs": [{"model_class": "IntegerToolParameter", "name": "kmer_len", "argument": null, "type": "integer", "label": "Set a k-mer length", "help": "Set the length of k-mers.", "help_format": "html", "refresh_on_change": false, "min": 8, "max": 128, "optional": false, "hidden": false, "is_dynamic": false, "value": "21", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "kmers_auto", "argument": null, "type": "select", "label": "K-mer length", "help": "Automatically estimate a proper k-mer length for the input set of genomes with Kitsune.", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "true", "options": [["Estimate a proper k-mer length for your set of genomes", "true", true], ["Set a k-mer length", "false", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "bfs_selection", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "true", "inputs": [{"model_class": "FloatToolParameter", "name": "bfs_size_increase", "argument": null, "type": "float", "label": "Increment the bloom filter size", "help": "Increment the estimated bloom filter size by this percentage in case you are planning to update the database with new genomes in future.", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": 100.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "5.0", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_kmer_occurrences", "argument": null, "type": "integer", "label": "Minimum k-mer occurrences", "help": "Minimum number of occurrences of k-mers to be considered for the estimation of the bloom filter size and for building the bloom filter sketches.", "help_format": "html", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "false", "inputs": [{"model_class": "IntegerToolParameter", "name": "bfs_size", "argument": null, "type": "integer", "label": "Set a bloom filter size", "help": "Set a bloom filter size for building genome or sequence sketches.", "help_format": "html", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "10000", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "bfs_auto", "argument": null, "type": "select", "label": "Bloom filter size", "help": "Automatically estimate the most appropriate bloom filter size that better fits with the input set of genomes with ntCard.", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "true", "options": [["Estimate the bloom filter size", "true", true], ["Set a bloom filter size", "false", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "ConditionalWhen", "value": "true", "inputs": [{"model_class": "Conditional", "name": "database_selection", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "cvmfs", "inputs": [{"model_class": "SelectToolParameter", "name": "db_tarball", "argument": null, "type": "select", "label": "Select a MetaSBT database", "help": "Choose a specific version of a database.", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": true, "value": null, "options": [], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "history", "inputs": [{"model_class": "DataToolParameter", "name": "db_tarball", "argument": null, "type": "data", "label": "Select a MetaSBT database tarball", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tar"], "edam": {"edam_formats": ["format_2333"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "source", "argument": null, "type": "select", "label": "Database source", "help": "Public databases are hosted on the Galaxy CVMFS.", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "cvmfs", "options": [["Use a public database", "cvmfs", true], ["Use a database from the history", "history", false]], "display": null, "multiple": false, "textable": false}}]}], "test_param": {"model_class": "SelectToolParameter", "name": "index_update_option", "argument": null, "type": "select", "label": "MetaSBT database", "help": "When enabled, most of the advanced options are inherited from an already existing database and cannot be modified.", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "false", "options": [["Update a MetaSBT database", "true", false], ["Build your own MetaSBT database from scratch", "false", true]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "dereplication_selection", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "true", "inputs": [{"model_class": "FloatToolParameter", "name": "distance_threshold", "argument": null, "type": "float", "label": "Distance threshold", "help": "Set a threshold based on the ANI distance of the sketch representation of the input genomes versus themselves and the other genomes in the database (in case of an update).", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.01", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "false", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "dereplication", "argument": null, "type": "select", "label": "Dereplication", "help": "Enable the dereplication of input genomes based on their ANI distance.", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "false", "options": [["Dereplicate the input genomes", "true", false], ["Do not dereplicate the input genomes", "false", true]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "quality_control_selection", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "true", "inputs": [{"model_class": "FloatToolParameter", "name": "completeness", "argument": null, "type": "float", "label": "Completeness threshold", "help": "Set a threshold on the completeness and discard everything below this threshold.", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": 100.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "90.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "contamination", "argument": null, "type": "float", "label": "Contamination threshold", "help": "Set a threshold on the contamination and discard everything above this threshold.", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": 100.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "5.0", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "false", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "quality_control", "argument": null, "type": "select", "label": "Quality Control", "help": "Filter out genomes based on their completeness and contamination.", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "false", "options": [["Enable the quality control of input genomes", "true", false], ["Do not assess for the quality of genomes", "false", true]], "display": null, "multiple": false, "textable": false}}]}], "outputs": [{"model_class": "ToolOutput", "name": "clusters_table", "format": "tabular", "label": "${tool.name} on ${on_string}: clusters", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": null, "parent": null, "count": 1, "from_work_dir": "clusters.tsv", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "genomes_table", "format": "tabular", "label": "${tool.name} on ${on_string}: genomes", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": null, "parent": null, "count": 1, "from_work_dir": "genomes.tsv", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "database", "format": "tar", "label": "${tool.name} on ${on_string}: database", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": null, "parent": null, "count": 1, "from_work_dir": "MetaSBT-Database.tar.gz", "edam_format": "format_2333", "edam_data": "data_0006", "discover_datasets": []}], "panel_section_id": "metagenomic_analysis", "panel_section_name": "Metagenomic Analysis", "form_style": "regular"}