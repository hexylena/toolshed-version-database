{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/bcftools_cnv/bcftools_cnv/1.10", "name": "bcftools cnv", "version": "1.10", "description": "Call copy number variation from VCF B-allele frequency (BAF) and Log R Ratio intensity (LRR) values", "labels": [], "edam_operations": ["operation_2409", "operation_3227"], "edam_topics": ["topic_3517", "topic_2885", "topic_0199", "topic_3516"], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "bcftools", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "bcftools_cnv", "owner": "iuc", "changeset_revision": "01d6b7d6365e", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "input_file", "argument": null, "type": "data", "label": "VCF/BCF Data", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["vcf", "vcf_bgzip", "bcf"], "edam": {"edam_formats": ["format_3016", "format_3016", "format_3020"], "edam_data": ["data_0006", "data_0006", "data_3498"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "TextToolParameter", "name": "query_sample", "argument": "-s", "type": "text", "label": "Query Sample", "help": "The name (as used in the input) of the query sample in the input. Can be ommitted if, and only if, there is only one sample in the input.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "control_sample", "argument": "-c", "type": "text", "label": "Control Sample", "help": "The name (as used in the input) of an optional control sample to compare against. Note: The pairwise calling mode represents the real strength of the tool as it helps to reduce the number of false calls and also allows one to distinguish between normal and novel copy number variation.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "DataToolParameter", "name": "AF_file", "argument": "--AF-file", "type": "data", "label": "Allele frequencies file", "help": "Tab-delimited file containing the columns CHR,POS,REF,ALT,AF", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Conditional", "name": "plotting", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "all", "inputs": [{"model_class": "HiddenToolParameter", "name": "plot_threshold", "argument": null, "type": "hidden", "label": "", "help": "", "refresh_on_change": false, "optional": false, "hidden": true, "is_dynamic": false, "value": "0"}]}, {"model_class": "ConditionalWhen", "value": "some", "inputs": [{"model_class": "FloatToolParameter", "name": "plot_threshold", "argument": "-p", "type": "float", "label": "Plot Threshold", "help": "Plot aberrant chromosomes with quality at least 'float'", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "none", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "generate_plots", "argument": null, "type": "select", "label": "Plot results?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "all", "options": [["Yes, plot results for all chromosomes", "all", false], ["Yes, but plot only chromosomes with above-threshold quality of CNV status estimate", "some", false], ["No, do not generate plots", "none", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Section", "name": "sec_restrict", "type": "section", "title": "Restrict to", "help": null, "expanded": false, "inputs": [{"model_class": "Conditional", "name": "regions", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "__none__", "inputs": []}, {"model_class": "ConditionalWhen", "value": "regions", "inputs": [{"model_class": "Repeat", "name": "regions", "type": "repeat", "title": "Region Filter", "help": null, "default": 1, "min": 1, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "chrom", "argument": null, "type": "text", "label": "Region chromosome", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "start", "argument": null, "type": "text", "label": "Region start position", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "stop", "argument": null, "type": "text", "label": "Region end position", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "regions_file", "inputs": [{"model_class": "DataToolParameter", "name": "regions_file", "argument": null, "type": "data", "label": "Regions File", "help": "restrict to Regions listed in a file", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "regions_src", "argument": null, "type": "select", "label": "Regions", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "__none__", "options": [["Do not restrict to Regions", "__none__", false], ["Specify one or more Region(s) directly", "regions", false], ["Operate on Regions specified in a history dataset", "regions_file", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "targets", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "__none__", "inputs": []}, {"model_class": "ConditionalWhen", "value": "targets", "inputs": [{"model_class": "Repeat", "name": "targets", "type": "repeat", "title": "Target Filter", "help": null, "default": 1, "min": 1, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "chrom", "argument": null, "type": "text", "label": "Target chromosome", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "start", "argument": null, "type": "text", "label": "Target start position", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "stop", "argument": null, "type": "text", "label": "Target end position", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "targets_file", "inputs": [{"model_class": "DataToolParameter", "name": "targets_file", "argument": null, "type": "data", "label": "Targets File", "help": "restrict to Targets listed in a file", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "targets_src", "argument": null, "type": "select", "label": "Targets", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "__none__", "options": [["Do not restrict to Targets", "__none__", false], ["Specify one or more Target(s) directly", "targets", false], ["Operate on Targets specified in a history dataset", "targets_file", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "Section", "name": "sec_hmm", "type": "section", "title": "HMM Options", "help": null, "expanded": false, "inputs": [{"model_class": "FloatToolParameter", "name": "aberrant_query", "argument": "--aberrant", "type": "float", "label": "Estimated purity of the query sample", "help": "Estimate of the fractional contribution of the desired query tissue to the (possibly control-contaminated) query sample (default: 1 = no contamination with control tissue)", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "1.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "aberrant_control", "argument": "--aberrant", "type": "float", "label": "Estimated purity of the control sample", "help": "Estimate of the fractional contribution of the desired control tissue to the (possibly query-contaminated) control sample (default: 1 = no contamination with query tissue)", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "1.0", "area": false, "datalist": []}, {"model_class": "Conditional", "name": "aberrant_optimization", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no", "inputs": []}, {"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "FloatToolParameter", "name": "lower_bound", "argument": "--optimize", "type": "float", "label": "Lower bound for adjusted estimate", "help": "Constrains the final adjusted purity estimates not to be smaller than this value.", "refresh_on_change": false, "min": 1e-09, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.3", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "do_optimize", "argument": null, "type": "select", "label": "Adjust sample purity estimates based on data?", "help": "Instead of treating your specified estimates of the sample purities as fixed values, the tool can use them as starting values for an iterative optimization that tries to estimate the sample purities from the data. Note: With estimate optimization enabled the final estimates will be reported as cell fraction (CF) estimates in the summary report.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no", "options": [["No, leave sample purities as specified", "no", false], ["Yes, adjust purity estimates", "yes", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "score_usage", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "baf+lrr", "inputs": [{"model_class": "FloatToolParameter", "name": "baf_weight", "argument": "--BAF-weight", "type": "float", "label": "Baf Weight", "help": "relative contribution from BAF", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "1.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "baf_dev_query", "argument": "--BAF-dev", "type": "float", "label": "Query sample BAF deviation", "help": "Expected BAF deviation in the query sample (default: 0.04)", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.04", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "baf_dev_control", "argument": "--BAF-dev", "type": "float", "label": "Control sample BAF deviation", "help": "Expected BAF deviation in the control sample (default: 0.04)", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.04", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "lrr_weight", "argument": "--LRR-weight", "type": "float", "label": "LRR Weight", "help": "Relative contribution from LRR. This option can have a big effect on the number of calls produced. With truly random noise (such as in simulated data), the value should be set high (1.0), but in the presence of systematic noise when LRR values are not informative, lower values result in cleaner calls (default: 0.2).", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.2", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "lrr_dev_query", "argument": "--LRR-dev", "type": "float", "label": "Query sample LRR Deviation", "help": "Expected LRR deviation in the query sample (default: 0.2)", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.2", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "lrr_dev_control", "argument": "--LRR-dev", "type": "float", "label": "Control sample LRR Deviation", "help": "Expected LRR deviation in the control sample (default: 0.2)", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.2", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "lrr_smooth_win", "argument": "--LRR-smooth-win", "type": "integer", "label": "LRR Smoothing Window", "help": "Window of LRR moving average smoothing (default: 10)", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "baf", "inputs": [{"model_class": "FloatToolParameter", "name": "baf_dev_query", "argument": "--BAF-dev", "type": "float", "label": "Query sample BAF deviation", "help": "Expected BAF deviation in the query sample (default: 0.04)", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.04", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "baf_dev_control", "argument": "--BAF-dev", "type": "float", "label": "Control sample BAF deviation", "help": "Expected BAF deviation in the control sample (default: 0.04)", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.04", "area": false, "datalist": []}, {"model_class": "HiddenToolParameter", "name": "baf_weight", "argument": null, "type": "hidden", "label": "", "help": "", "refresh_on_change": false, "optional": false, "hidden": true, "is_dynamic": false, "value": "1"}, {"model_class": "HiddenToolParameter", "name": "lrr_weight", "argument": null, "type": "hidden", "label": "", "help": "", "refresh_on_change": false, "optional": false, "hidden": true, "is_dynamic": false, "value": "0"}]}], "test_param": {"model_class": "SelectToolParameter", "name": "compute_on", "argument": null, "type": "select", "label": "Use BAF and LRR annotations to call CNVs?", "help": "Using LRR information in addition to BAF values is the default and helps in dealing with random noise in the data. However, the tool is also able to call CNVs from BAF values alone in case your input does not feature LRR information.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "baf+lrr", "options": [["Yes (requires input with both BAF and LRR subfields)", "baf+lrr", false], ["No, use BAF values exclusively", "baf", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "FloatToolParameter", "name": "err_prob", "argument": "--err-prob", "type": "float", "label": "Err Prob", "help": "Uniform error probability", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0001", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "same_prob", "argument": "--same-prob", "type": "float", "label": "Same Prob", "help": "The prior probability of the query and the control sample being the same.                     Setting to 0 calls both independently, setting to 1 forces the same copy number state in both. (default: 0.5)", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.5", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "xy_prob", "argument": "--xy-prob", "type": "float", "label": "Xy Prob", "help": "The HMM probability of transition to another copy number state.                     Increasing this value leads to smaller and more frequent calls.", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "1e-09", "area": false, "datalist": []}]}], "outputs": [{"model_class": "ToolOutput", "name": "output_cn", "format": "tabular", "label": "${input_file.name.rsplit('.',1)[0]}.cn", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "output_summary", "format": "tabular", "label": "${input_file.name.rsplit('.',1)[0]}.summary", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "output_plots", "format": "html", "label": "${input_file.name.rsplit('.',1)[0]}.plots", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2331", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "variant_calling", "panel_section_name": "Variant Calling", "form_style": "regular"}