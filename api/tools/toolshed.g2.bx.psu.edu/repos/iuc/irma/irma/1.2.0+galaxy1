{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/irma/irma/1.2.0+galaxy1", "name": "IRMA", "version": "1.2.0+galaxy1", "description": "Construct robust assemblies of highly variable RNA viruses", "labels": [], "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "irma-virus", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "irma", "owner": "iuc", "changeset_revision": "7f49f3aa3861", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "Conditional", "name": "input_type_conditional", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "single", "inputs": [{"model_class": "DataToolParameter", "name": "fastq_input1", "argument": null, "type": "data", "label": "Select fastq dataset", "help": "Specify dataset with single reads", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastq", "fastq.gz"], "edam": {"edam_formats": ["format_1930", "format_1930"], "edam_data": ["data_2044", "data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "paired_collection", "inputs": [{"model_class": "DataCollectionToolParameter", "name": "fastq_input", "argument": null, "type": "data_collection", "label": "Select dataset pair", "help": "Specify paired dataset collection containing paired reads", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "collection_types": ["paired"], "extensions": ["fastq", "fastq.gz"], "multiple": false, "options": {"hda": [], "hdca": [], "dce": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "input_type", "argument": null, "type": "select", "label": "Input Type", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "single", "options": [["Single Dataset", "single", true], ["Paired Collection", "paired_collection", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "SelectToolParameter", "name": "module", "argument": null, "type": "select", "label": "Select analysis module", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "FLU", "options": [["FLU", "FLU", true], ["FLU-utr", "FLU-utr", false], ["FLU-pacbio", "FLU-pacbio", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "optional_outputs", "argument": null, "type": "select", "label": "Select additional IRMA outputs", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "options": [["Amended consensus files: Include ambiguity codes for alleles, with second allele frequency greater 0.25", "amended_consensus", false], ["Bam: Alignment files of fastq against polished reference", "bam", false], ["Vcf: Variation calling file per segment", "vcf", false], ["Run info: Text file with run metadata", "run_info", false]], "display": "checkboxes", "multiple": true, "textable": false}, {"model_class": "Conditional", "name": "advanced_config", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no", "inputs": []}, {"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "Conditional", "name": "reference", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no", "inputs": []}, {"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "BooleanToolParameter", "name": "SKIP_E", "argument": null, "type": "boolean", "label": "Skip reference elongation", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "1", "falsevalue": "0"}]}], "test_param": {"model_class": "SelectToolParameter", "name": "customize", "argument": null, "type": "select", "label": "Customize Reference Settings", "help": "Choosing Yes here, lets you overwrite reference settings.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no", "options": [["No, use defaults for reference settings", "no", false], ["Yes", "yes", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "read_gathering", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no", "inputs": []}, {"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "IntegerToolParameter", "name": "MAX_ROUNDS", "argument": null, "type": "integer", "label": "Maximal rounds of read gathering", "help": "", "refresh_on_change": false, "min": 1, "max": 20, "optional": false, "hidden": false, "is_dynamic": false, "value": "5", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "USE_MEDIAN", "argument": null, "type": "select", "label": "Use median or average for read gathering", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "options": [["Average", "0", false], ["Median", "1", true]], "display": null, "multiple": false, "textable": false}, {"model_class": "IntegerToolParameter", "name": "QUAL_THRESHOLD", "argument": null, "type": "integer", "label": "Minimum read statistic to keep (Phred)", "help": "", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "30", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "MIN_LEN", "argument": null, "type": "integer", "label": "Minimum read length to keep (bp)", "help": "", "refresh_on_change": false, "min": 0, "max": 1000, "optional": false, "hidden": false, "is_dynamic": false, "value": "125", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "INCL_CHIM", "argument": null, "type": "boolean", "label": "Include chimera? Transposase adapter - clips 5' of the adapter on the forward strand and 3' on the reverse strand. applicable to NextTera pair-end reads", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "1", "falsevalue": "0"}, {"model_class": "TextToolParameter", "name": "ADAPTER", "argument": null, "type": "text", "label": "Adapter sequence", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "AGATGTGTATAAGAGACAG", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "ENFORCE_CLIPPED_LENGTH", "argument": null, "type": "boolean", "label": "Reads are filtered for minimum length post adapter trimming", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "1", "falsevalue": "0"}, {"model_class": "BooleanToolParameter", "name": "MERGE_SECONDARY", "argument": null, "type": "boolean", "label": "Merge secondary data after the first round to the unmatched pool. Useful if co-infections are not expected.", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "1", "falsevalue": "0"}, {"model_class": "IntegerToolParameter", "name": "RESIDUAL_ASSEMBLY_FACTOR", "argument": null, "type": "integer", "label": "The ratio of match read patterns to altmatch is measured, and if its less than factor, residual assembly is performed. Set 0 for off.", "help": "", "refresh_on_change": false, "min": 0, "max": 100, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "customize", "argument": null, "type": "select", "label": "Customize settings to read gathering", "help": "Choosing Yes here, lets you overwrite read gathering settings.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no", "options": [["No, use defaults for read gathering settings", "no", false], ["Yes", "yes", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "match_step", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no", "inputs": []}, {"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "IntegerToolParameter", "name": "MIN_RP", "argument": null, "type": "integer", "label": "Minimum read pattern count to continue", "help": "", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "15", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "MIN_RC", "argument": null, "type": "integer", "label": "Minimum read count to continue", "help": "", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "15", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "MIN_BLAT_MATCH", "argument": null, "type": "integer", "label": "Minimum read pattern count to continue", "help": "", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "customize", "argument": null, "type": "select", "label": "Customize settings regarding the match step", "help": "Choosing Yes here, lets you overwrite match step settings.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no", "options": [["No, use defaults for match step settings", "no", false], ["Yes", "yes", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "sort_step", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no", "inputs": []}, {"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "SelectToolParameter", "name": "SORT_PROG", "argument": null, "type": "select", "label": "Select program used for sorting", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "BLAT", "options": [["LABEL", "LABEL", false], ["BLAT", "BLAT", true]], "display": null, "multiple": false, "textable": false}]}], "test_param": {"model_class": "SelectToolParameter", "name": "customize", "argument": null, "type": "select", "label": "Customize settings regarding the sort step", "help": "Choosing Yes here, lets you overwrite sort step settings.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no", "options": [["No, use defaults for sort step settings", "no", false], ["Yes", "yes", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "align_step", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no", "inputs": []}, {"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "SelectToolParameter", "name": "ALIGN_PROG", "argument": null, "type": "select", "label": "Select program used for alignment", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "SAM", "options": [["BLAT", "BLAT", false], ["SAM", "SAM", true]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "DEL_TYPE", "argument": null, "type": "select", "label": "How to handle deletions in rough alignment", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "options": [["Default", "", true], ["NNN", "NNN", false], ["REF", "REF", false], ["DEL", "DEL", false]], "display": null, "multiple": false, "textable": false}]}], "test_param": {"model_class": "SelectToolParameter", "name": "customize", "argument": null, "type": "select", "label": "Customize settings regarding the alignment step", "help": "Choosing Yes here, lets you overwrite align step settings.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no", "options": [["No, use defaults for align step settings", "no", false], ["Yes", "yes", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "assembly", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no", "inputs": []}, {"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "IntegerToolParameter", "name": "MAX_ITER_ASSEM", "argument": null, "type": "integer", "label": "Maximal assembly iteration", "help": "", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "5", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "NO_MERGE", "argument": null, "type": "boolean", "label": "Merge read pairs?", "help": "Merging read pairs after final assembly provides error detection and correction.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "0", "falsevalue": "1"}, {"model_class": "FloatToolParameter", "name": "INS_T", "argument": null, "type": "float", "label": "The minimum frequency threshold for insertion refinement", "help": "", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.25", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "DEL_T", "argument": null, "type": "float", "label": "The minimum frequency threshold for deletion refinement", "help": "", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.6", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "INS_T_DEPTH", "argument": null, "type": "integer", "label": "The minimum coverage depth for insertion refinement", "help": "", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "DEL_T_DEPTH", "argument": null, "type": "integer", "label": "The minimum coverage depth for deletion refinement", "help": "", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "SILENCE_COMPLEX_INDELS", "argument": null, "type": "boolean", "label": "Silences reads with complex indels (having 4 indels with at least one greater than 9)", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "1", "falsevalue": "0"}, {"model_class": "FloatToolParameter", "name": "MIN_AMBIG", "argument": null, "type": "float", "label": "The minimum called SNV frequency for mixed base in amended consensus folder", "help": "", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.25", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "SSW_M", "argument": null, "type": "integer", "label": "The smith-waterman match score", "help": "", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "2", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "SSW_X", "argument": null, "type": "integer", "label": "The smith-waterman mismatch penalty", "help": "", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "5", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "SSW_O", "argument": null, "type": "integer", "label": "The smith-waterman gap open penalty", "help": "", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "SSW_E", "argument": null, "type": "integer", "label": "The smith-waterman gap extension penalty", "help": "", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "ALIGN_AMENDED", "argument": null, "type": "boolean", "label": "Do global alignment of the amended consensus to the HMM profile", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "1", "falsevalue": "0"}]}], "test_param": {"model_class": "SelectToolParameter", "name": "customize", "argument": null, "type": "select", "label": "Customize settings regarding the assembly", "help": "Choosing Yes here, lets you overwrite assembly settings.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no", "options": [["No, use defaults for assembly settings", "no", false], ["Yes", "yes", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "variant_calling", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no", "inputs": []}, {"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "BooleanToolParameter", "name": "AUTO_F", "argument": null, "type": "boolean", "label": "Automatically adjust frequency threshold", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "1", "falsevalue": "0"}, {"model_class": "FloatToolParameter", "name": "MIN_FI", "argument": null, "type": "float", "label": "The minimum insertion variant frequency", "help": "", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.005", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "MIN_FD", "argument": null, "type": "float", "label": "The minimum deletion variant frequency", "help": "", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.005", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "MIN_F", "argument": null, "type": "float", "label": "The minimum frequency for single nucleotide variants", "help": "", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.008", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "MIN_C", "argument": null, "type": "integer", "label": "The minimum count for variants", "help": "", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "2", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "MIN_AQ", "argument": null, "type": "integer", "label": "The minimum average variant quality (does not apply to deletions)", "help": "", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "24", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "MIN_TCC", "argument": null, "type": "integer", "label": "The minimum non-ambiguous column coverage", "help": "", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "100", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "MIN_CONF", "argument": null, "type": "float", "label": "The minimum confidence", "help": "", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.8", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "SIG_LEVEL", "argument": null, "type": "select", "label": "The significance test level for variant calling", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.999", "options": [["99.9%", "0.999", true], ["99%", "0.99", false], ["95%", "0.95", false], ["90%", "0.90", false]], "display": null, "multiple": false, "textable": false}]}], "test_param": {"model_class": "SelectToolParameter", "name": "customize", "argument": null, "type": "select", "label": "Customize settings regarding the variant calling", "help": "Choosing Yes here, lets you overwrite variant calling settings.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no", "options": [["No, use defaults for variant calling settings", "no", false], ["Yes", "yes", false]], "display": null, "multiple": false, "textable": false}}]}], "test_param": {"model_class": "SelectToolParameter", "name": "customize", "argument": null, "type": "select", "label": "Customize Advanced Settings?", "help": "Choosing Yes here, lets you overwrite advanced settings defined in IRMA's default configuration file.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no", "options": [["No, use defaults for advanced settings", "no", false], ["Yes", "yes", false]], "display": null, "multiple": false, "textable": false}}], "outputs": [{"model_class": "ToolOutputCollection", "name": "consensus_collection", "format": null, "label": "Fasta Consensus Sequences", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": []}}, {"model_class": "ToolOutputCollection", "name": "amended_collection", "format": null, "label": "Amended Fasta Consensus", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": []}}, {"model_class": "ToolOutputCollection", "name": "bam_collection", "format": null, "label": "Alignment files (bam)", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": []}}, {"model_class": "ToolOutputCollection", "name": "vcf_collection", "format": null, "label": "Variant calling files (VCF)", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": []}}, {"model_class": "ToolOutput", "name": "run_info", "format": "txt", "label": "IRMA run info", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "resultDir/logs/run_info.txt", "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": []}], "panel_section_id": "virology", "panel_section_name": "Virology", "form_style": "regular"}