{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/raceid_inspectclusters/raceid_inspectclusters/0.2.3+galaxy1", "name": "Cluster Inspection using RaceID", "version": "0.2.3+galaxy1", "description": "examines gene expression within clusters", "labels": [], "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "raceid_inspectclusters", "owner": "iuc", "changeset_revision": "be4646256624", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "inputrds", "argument": null, "type": "data", "label": "Input RaceID RDS", "help": "Requires the RDS output from the cluster analysis", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["rdata"], "edam": {"edam_formats": ["format_2333"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Conditional", "name": "plotgen", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no", "inputs": []}, {"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "TextToolParameter", "name": "clusts_plot", "argument": null, "type": "text", "label": "Cluster Numbers to plot", "help": "Leave blank to plot all clusters", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "do_opt", "argument": null, "type": "select", "label": "Plot Clusters?", "help": "Generates tSNE and F-R plots", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "yes", "options": [["Yes", "yes", true], ["No", "no", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "plotsym", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no", "inputs": []}, {"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "TextToolParameter", "name": "types_regex", "argument": null, "type": "text", "label": "Types Regex (removal)", "help": "Regular expression to be used to remove portions of the cell names, in order to indicate cell type. e.g. if your cells are labelled as 'cdk5_1, cdk5_2, glow_1, glow_2', then a regex of '_\\\\d$' would trim off the ends and set the cell types to 'cdk5, cdk5, glow, glow'. ", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "Conditional", "name": "use", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "yes", "inputs": []}, {"model_class": "ConditionalWhen", "value": "no", "inputs": [{"model_class": "TextToolParameter", "name": "subset_regex", "argument": null, "type": "text", "label": "Subset of Types: Regex (select)", "help": "Regular expression to be used to select for cell types of interest. e.g. if we are only interested in 'cdk5' positive cells, then we would simply put 'cdk5' here. ", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "fr", "argument": null, "type": "boolean", "label": "Output FR map instead of tSNE", "help": "Performs a Fruchterman-Rheingold projection instead of tSNE", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}]}], "test_param": {"model_class": "SelectToolParameter", "name": "def", "argument": null, "type": "select", "label": "Use Defaults?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "yes", "options": [["Yes", "yes", true], ["No", "no", false]], "display": null, "multiple": false, "textable": false}}]}], "test_param": {"model_class": "SelectToolParameter", "name": "do_opt", "argument": null, "type": "select", "label": "Perform Subset Analysis?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no", "options": [["Yes", "yes", false], ["No", "no", true]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "gois", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no", "inputs": []}, {"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "TextToolParameter", "name": "inspect_goi_genes", "argument": null, "type": "text", "label": "Genes to Examine", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "inspect_goi_cells", "argument": null, "type": "text", "label": "Cells to Examine", "help": "Leave blank to examine all", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "Conditional", "name": "use", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "yes", "inputs": []}, {"model_class": "ConditionalWhen", "value": "no", "inputs": [{"model_class": "BooleanToolParameter", "name": "inspect_goi_imputed", "argument": null, "type": "boolean", "label": "Impute Genes", "help": "Only works if k-nearest neighbours was used in the clustering", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "TextToolParameter", "name": "plotexp_n", "argument": null, "type": "text", "label": "Title of plot", "help": "If blank, the list of genes are used", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "plotmarkg_cthr", "argument": null, "type": "integer", "label": "Cluster Threshold", "help": "Include only clusters with cells greater than this", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "plotmarkg_cl", "argument": null, "type": "text", "label": "Cluster List", "help": "List of cluster numbers to include. Leave blank to include all", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "plotmarkg_order_cells", "argument": null, "type": "boolean", "label": "Order Cells", "help": "Order heatmap by cell names, not by cluster", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "BooleanToolParameter", "name": "plotmarkg_aggr", "argument": null, "type": "boolean", "label": "Average Expression", "help": "Show only average expression for each cluster", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "BooleanToolParameter", "name": "plotmarkg_norm", "argument": null, "type": "boolean", "label": "Normalise Gene Expression ", "help": "Normalise gene expression to 1 to depict genes on the same scale", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "IntegerToolParameter", "name": "plotmarkg_flo", "argument": null, "type": "integer", "label": "Lower-bound for Gene Expression", "help": "", "refresh_on_change": false, "min": null, "max": -5, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "plotmarkg_cap", "argument": null, "type": "integer", "label": "Upper-bound for Gene Expression", "help": "", "refresh_on_change": false, "min": 1, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "plotmarkg_samples", "argument": null, "type": "text", "label": "Regex to Select Sample Names For Each cell", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "plotmarkg_cluster_cols", "argument": null, "type": "boolean", "label": "Cluster columns", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "BooleanToolParameter", "name": "plotmarkg_cluster_rows", "argument": null, "type": "boolean", "label": "Cluster rows", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "true", "falsevalue": "false"}, {"model_class": "BooleanToolParameter", "name": "plotmarkg_cluster_set", "argument": null, "type": "boolean", "label": "Order Clusters by Heirarchal Clustering of Cluster Medoids.", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}]}], "test_param": {"model_class": "SelectToolParameter", "name": "def", "argument": null, "type": "select", "label": "Use Defaults?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "yes", "options": [["Yes", "yes", true], ["No", "no", false]], "display": null, "multiple": false, "textable": false}}]}], "test_param": {"model_class": "SelectToolParameter", "name": "do_opt", "argument": null, "type": "select", "label": "Examine Genes of Interest", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no", "options": [["Yes", "yes", false], ["No", "no", true]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "diffgtest", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no", "inputs": []}, {"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "Section", "name": "set_a", "type": "section", "title": "Cells in Set A", "help": null, "expanded": true, "inputs": [{"model_class": "TextToolParameter", "name": "name_set", "argument": null, "type": "text", "label": "Name of Set", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "Conditional", "name": "meth", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "cln", "inputs": [{"model_class": "TextToolParameter", "name": "selector", "argument": null, "type": "text", "label": "List of clusters", "help": "Clusters should be listed delimited by commas (e.g. 3,4,5)", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "regex", "inputs": [{"model_class": "TextToolParameter", "name": "selector", "argument": null, "type": "text", "label": "Regular Expression to select gene names", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "manual", "inputs": [{"model_class": "TextToolParameter", "name": "selector", "argument": null, "type": "text", "label": "List of genes", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "type", "argument": null, "type": "select", "label": "Selection method", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "cln", "options": [["Cluster Numbers", "cln", true], ["Regular Expression", "regex", false], ["Manual Selection", "manual", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "Section", "name": "set_b", "type": "section", "title": "Cells in Set B", "help": null, "expanded": true, "inputs": [{"model_class": "TextToolParameter", "name": "name_set", "argument": null, "type": "text", "label": "Name of Set", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "Conditional", "name": "meth", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "cln", "inputs": [{"model_class": "TextToolParameter", "name": "selector", "argument": null, "type": "text", "label": "List of clusters", "help": "Clusters should be listed delimited by commas (e.g. 3,4,5)", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "regex", "inputs": [{"model_class": "TextToolParameter", "name": "selector", "argument": null, "type": "text", "label": "Regular Expression to select gene names", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "manual", "inputs": [{"model_class": "TextToolParameter", "name": "selector", "argument": null, "type": "text", "label": "List of genes", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "type", "argument": null, "type": "select", "label": "Selection method", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "cln", "options": [["Cluster Numbers", "cln", true], ["Regular Expression", "regex", false], ["Manual Selection", "manual", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "Conditional", "name": "use", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "yes", "inputs": []}, {"model_class": "ConditionalWhen", "value": "no", "inputs": [{"model_class": "FloatToolParameter", "name": "plotdiffg_pthr", "argument": null, "type": "float", "label": "P-value cutoff", "help": "Cutoff for displaying differentially expressed genes", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.05", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "plotdiffg_padj", "argument": null, "type": "boolean", "label": "Apply B-H Correction", "help": "Display genes with a Benjamini-Hochberg corrected false discovery rate lower than the above P-value threshold", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "true", "falsevalue": "false"}, {"model_class": "FloatToolParameter", "name": "plotdiffg_lthr", "argument": null, "type": "float", "label": "Log2-Fold Threshold", "help": "Differentially expressed genes are displayed only for log2 fold-changes higher than this", "refresh_on_change": false, "min": 0.0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "plotdiffg_mthr", "argument": null, "type": "float", "label": "Log2 Mean Threshold", "help": "Differentially expressed genes are displayed only for log2 mean expression greater than this", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "plotdiffg_show_names", "argument": null, "type": "boolean", "label": "Display Gene Names", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}]}], "test_param": {"model_class": "SelectToolParameter", "name": "def", "argument": null, "type": "select", "label": "Use Defaults?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "yes", "options": [["Yes", "yes", true], ["No", "no", false]], "display": null, "multiple": false, "textable": false}}]}], "test_param": {"model_class": "SelectToolParameter", "name": "do_opt", "argument": null, "type": "select", "label": "Differential Gene Testing", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no", "options": [["Yes", "yes", false], ["No", "no", true]], "display": null, "multiple": false, "textable": false}}], "outputs": [{"model_class": "ToolOutput", "name": "outpdf", "format": "pdf", "label": "${tool.name} on ${on_string}: PDF Report", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3508", "edam_data": "data_2968", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "outlog", "format": "txt", "label": "", "hidden": true, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "single-cell-section-raceid", "panel_section_name": "RaceID", "form_style": "regular"}