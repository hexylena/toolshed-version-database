{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/cooc_mutbamscan/cooc_mutbamscan/0.9+galaxy0", "name": "Cojac: mutbamscan", "version": "0.9+galaxy0", "description": "scans an alignment file for mutation co-occurrences", "labels": [], "edam_operations": [], "edam_topics": ["topic_0199"], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "cojac", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "cooc_mutbamscan", "owner": "iuc", "changeset_revision": "d58a57db7a96", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "mapped_input", "argument": null, "type": "data", "label": "Aligned reads input to analyze", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bam"], "edam": {"edam_formats": ["format_2572"], "edam_data": ["data_0863"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Conditional", "name": "spec_layout", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "separate", "inputs": [{"model_class": "Conditional", "name": "voc_source", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "builtin", "inputs": []}, {"model_class": "ConditionalWhen", "value": "custom", "inputs": [{"model_class": "DataCollectionToolParameter", "name": "collection", "argument": null, "type": "data_collection", "label": "Collection of lineage definitions", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["yaml"], "multiple": false, "options": {"hda": [], "hdca": [], "dce": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "choice", "argument": null, "type": "select", "label": "Source of lineage definitions", "help": "Cojac detects lineage evidence based on lineage mutation patterns deined in tool-specific yaml format. You can choose between the (possibly outdated) definitions shipped with the tool or definitions provided as a collection of yaml datasets in your history. See the tool help below for more details.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "builtin", "options": [["Lineage definitions shipped with the tool", "builtin", false], ["YAML dataset collection in history", "custom", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "amplicon_definitions", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "insert_scheme", "inputs": [{"model_class": "DataToolParameter", "name": "insert_bed", "argument": null, "type": "data", "label": "Amplicon insert scheme", "help": "BED dataset providing the positions of the amplicon inserts (i.e. excluding the primer sequences) on the reference sequence.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bed"], "edam": {"edam_formats": ["format_3003"], "edam_data": ["data_3002"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "primer_scheme", "inputs": [{"model_class": "DataToolParameter", "name": "primer_bed", "argument": null, "type": "data", "label": "Primer scheme", "help": "The tool will attempt to autodetect the relationship between primers and amplicons based on the primer names.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bed"], "edam": {"edam_formats": ["format_3003"], "edam_data": ["data_3002"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "primer_scheme_plus", "inputs": [{"model_class": "DataToolParameter", "name": "primer_bed", "argument": null, "type": "data", "label": "Primer scheme", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bed"], "edam": {"edam_formats": ["format_3003"], "edam_data": ["data_3002"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "amplicon_info", "argument": null, "type": "data", "label": "Primers to amplicons assignments", "help": "This input should have one line of tab-separated primer names (as they appear in the primer scheme) per amplicon.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "choice", "argument": null, "type": "select", "label": "Format of amplicon definitions", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "insert_scheme", "options": [["Amplicon insert scheme (Cojac-native format)", "insert_scheme", false], ["Primer scheme (with autodetection of grouping into amplicons)", "primer_scheme", false], ["Primer scheme and explicit amplicon grouping information", "primer_scheme_plus", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "IntegerToolParameter", "name": "cooc", "argument": "--cooc", "type": "integer", "label": "Minimum number of mutations required to co-occur on an amplicon", "help": "", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "2", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "output_cojac_ampl", "argument": null, "type": "boolean", "label": "Produce combined per-amplicon lineage definition output", "help": "The tool can generate a YAML-formatted report of expected co-occurrences of mutations per amplicon and lineage. This output combines amplicon scheme and lineage definitions and can be used for rerunning the tool with identical configuration in 'Combined' mode. It is also a recommended input to the cojac pubmut tool so leave this option checked if you are intending to use this downstream tool.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "true", "falsevalue": "false"}]}, {"model_class": "ConditionalWhen", "value": "combined", "inputs": [{"model_class": "DataToolParameter", "name": "in_amp", "argument": null, "type": "data", "label": "Combined per-amplicon lineage definitions", "help": "YAML-formatted report of expected co-occurrences of mutations per amplicon and lineage generated by a previous run of the tool.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["yaml"], "edam": {"edam_formats": ["format_2330"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "mode", "argument": null, "type": "select", "label": "How would you like to provide amplicon and lineage information?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "separate", "options": [["Separately", "separate", false], ["Combined", "combined", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Section", "name": "out_opts", "type": "section", "title": "Output options", "help": null, "expanded": true, "inputs": [{"model_class": "SelectToolParameter", "name": "output_formats", "argument": null, "type": "select", "label": "Produce output in these formats", "help": "Please note that only yaml- and json-formatted results can be processed with the downstream pubmut and tabmut tools.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "json", "options": [["YAML", "yaml", false], ["JSON", "json", true], ["tabular", "tabular", false]], "display": "checkboxes", "multiple": true, "textable": false}]}], "outputs": [{"model_class": "ToolOutput", "name": "cooc_yaml", "format": "yaml", "label": "${tool.name} on ${on_string}: Mutation co-occurrence (yaml)", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "cooc.yaml", "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "cooc_json", "format": "json", "label": "${tool.name} on ${on_string}: Mutation co-occurrence (json)", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "cooc.json", "edam_format": "format_3464", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "cooc_tsv", "format": "tabular", "label": "${tool.name} on ${on_string}: Mutation co-occurrence (tabular)", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "cooc.tsv", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "amplicons", "format": "yaml", "label": "${tool.name} on ${on_string}: Combined per-amplicon lineage definitions", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "amplicons.yaml", "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": []}], "panel_section_id": "virology", "panel_section_name": "Virology", "form_style": "regular"}