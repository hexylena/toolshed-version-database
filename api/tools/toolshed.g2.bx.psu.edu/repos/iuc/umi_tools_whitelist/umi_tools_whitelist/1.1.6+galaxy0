{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/umi_tools_whitelist/umi_tools_whitelist/1.1.6+galaxy0", "name": "UMI-tools whitelist", "version": "1.1.6+galaxy0", "description": "Extract cell barcodes from FASTQ files", "labels": [], "edam_operations": ["operation_3218"], "edam_topics": ["topic_3168", "topic_0160", "topic_3393"], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "umi-tools", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "umi_tools_whitelist", "owner": "iuc", "changeset_revision": "382326c1b1e1", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "Conditional", "name": "input_type_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "single", "inputs": [{"model_class": "DataToolParameter", "name": "input_read1", "argument": null, "type": "data", "label": "Reads in FASTQ format", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastqsanger", "fastqsanger.gz", "fastqillumina", "fastqillumina.gz", "fastqsolexa", "fastqsolexa.gz"], "edam": {"edam_formats": ["format_1932", "format_1932", "format_1931", "format_1931", "format_1933", "format_1933"], "edam_data": ["data_2044", "data_2044", "data_2044", "data_2044", "data_2044", "data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "TextToolParameter", "name": "bc_pattern", "argument": "--bc-pattern", "type": "text", "label": "Barcode pattern for first read", "help": "Use this option to specify the format of the UMI/barcode. Use Ns to                     represent the random positions and Xs to indicate the bc positions.                     Bases with Ns will be extracted and added to the read name. Remaining                     bases, marked with an X will be reattached to the read", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "paired", "inputs": [{"model_class": "DataToolParameter", "name": "input_read1", "argument": null, "type": "data", "label": "Forward reads in FASTQ format", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastqsanger", "fastqsanger.gz", "fastqillumina", "fastqillumina.gz", "fastqsolexa", "fastqsolexa.gz"], "edam": {"edam_formats": ["format_1932", "format_1932", "format_1931", "format_1931", "format_1933", "format_1933"], "edam_data": ["data_2044", "data_2044", "data_2044", "data_2044", "data_2044", "data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "input_read2", "argument": null, "type": "data", "label": "Reverse reads in FASTQ format", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastqsanger", "fastqsanger.gz", "fastqillumina", "fastqillumina.gz", "fastqsolexa", "fastqsolexa.gz"], "edam": {"edam_formats": ["format_1932", "format_1932", "format_1931", "format_1931", "format_1933", "format_1933"], "edam_data": ["data_2044", "data_2044", "data_2044", "data_2044", "data_2044", "data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "TextToolParameter", "name": "bc_pattern", "argument": "--bc-pattern", "type": "text", "label": "Barcode pattern for first read", "help": "Use this option to specify the format of the UMI/barcode. Use Ns to                     represent the random positions and Xs to indicate the bc positions.                     Bases with Ns will be extracted and added to the read name. Remaining                     bases, marked with an X will be reattached to the read", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "bc_pattern2", "argument": "--bc-pattern2", "type": "text", "label": "Barcode pattern for second read", "help": "Use this option to specify the format of the UMI/barcode for                 the second read pair if required", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "paired_collection", "inputs": [{"model_class": "DataCollectionToolParameter", "name": "input_readpair", "argument": null, "type": "data_collection", "label": "Reads in FASTQ format", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "collection_types": ["paired"], "extensions": ["fastqsanger", "fastqsanger.gz", "fastqillumina", "fastqillumina.gz", "fastqsolexa", "fastqsolexa.gz"], "multiple": false, "options": {"hda": [], "hdca": [], "dce": []}, "tag": null}, {"model_class": "TextToolParameter", "name": "bc_pattern", "argument": "--bc-pattern", "type": "text", "label": "Barcode pattern for first read", "help": "Use this option to specify the format of the UMI/barcode. Use Ns to                     represent the random positions and Xs to indicate the bc positions.                     Bases with Ns will be extracted and added to the read name. Remaining                     bases, marked with an X will be reattached to the read", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "bc_pattern2", "argument": "--bc-pattern2", "type": "text", "label": "Barcode pattern for second read", "help": "Use this option to specify the format of the UMI/barcode for                 the second read pair if required", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "input_type", "argument": null, "type": "select", "label": "Library type", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "single", "options": [["Single-end", "single", false], ["Paired-end", "paired", false], ["Paired-end Dataset Collection", "paired_collection", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "extract_method_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "string", "inputs": [{"model_class": "BooleanToolParameter", "name": "prime3", "argument": "--3prime", "type": "boolean", "label": "Is barcode on 3' end of the read?", "help": "By default the barcode is assumed to be on the 5' end of the read, but                         use this option to specify that it is on the 3' end instead.                          This option only works with ``--extract-method=string``                         since 3' encoding can be specified explicitly with a regex, e.g                         ``.*(?P<umi_1>.{5})$``", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--3prime", "falsevalue": ""}]}, {"model_class": "ConditionalWhen", "value": "regex", "inputs": [{"model_class": "BooleanToolParameter", "name": "filtered_out_bool", "argument": null, "type": "boolean", "label": "Write out reads not matching regex pattern", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}]}], "test_param": {"model_class": "SelectToolParameter", "name": "extract_method", "argument": "--extract-method", "type": "select", "label": "Barcode Extraction Method", "help": "If bracketed expressions are used in the above barcode pattern, then set this to 'regex'. Otherwise leave as 'string'", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "string", "options": [["String", "string", true], ["Regex", "regex", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "BooleanToolParameter", "name": "ignore_read_pair_suffixes", "argument": "--ignore-read-pair-suffixes", "type": "boolean", "label": "Ignore '\\1' and '\\2' read name suffixes", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--ignore-read-pair-suffixes", "falsevalue": ""}, {"model_class": "SelectToolParameter", "name": "method", "argument": "--method", "type": "select", "label": "Count reads or UMIs", "help": "Many published protocols rank CBs by the number of reads the CBs appear in. However you could also use the number of unique UMIs a CB is associated with. Note that this is still and approximation to the number of transcripts captured because the same UMI could be associated with two different transcripts and be counted as independent", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "reads", "options": [["Reads", "reads", true], ["UMIs", "umis", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "knee_method", "argument": "--knee-method", "type": "select", "label": "Method for detection of knee", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "distance", "options": [["Distance", "distance", true], ["Density", "density", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "IntegerToolParameter", "name": "subset_reads", "argument": "--subset-reads", "type": "integer", "label": "Use the first N reads to automatically identify the true cell barcodes", "help": "", "help_format": "html", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "allow_threshold_error", "argument": "--allow-threshold-error", "type": "boolean", "label": "Don't select a threshold", "help": "Will still output the plots if requested", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--allow-threshold-error", "falsevalue": ""}, {"model_class": "SelectToolParameter", "name": "ed_above_threshold", "argument": "--ed-above-threshold", "type": "select", "label": "Detect and correct CBs above the threshold", "help": "which may be sequence errors from another CB", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "options": [["Correct", "correct", false], ["Discard", "discard", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "Conditional", "name": "celloptions", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "defaults", "inputs": []}, {"model_class": "ConditionalWhen", "value": "advanced", "inputs": [{"model_class": "IntegerToolParameter", "name": "set_cell_number", "argument": "--set-cell-number", "type": "integer", "label": "Specify the number of cell barcodes to accept", "help": "", "help_format": "html", "refresh_on_change": false, "min": 0, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "expect_cells", "argument": "--expect-cells", "type": "integer", "label": "Prior expectation on the upper limit on the number of cells sequenced", "help": "", "help_format": "html", "refresh_on_change": false, "min": 0, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "error_correct_threshold", "argument": "--error-correct-threshold", "type": "integer", "label": "Hamming distance for correction of barcodes to whitelist barcodes. Set to zero to generate no error correcting metrics", "help": "", "help_format": "html", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "use_cell_opts", "argument": null, "type": "select", "label": "Cell parameters", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "defaults", "options": [["Use Defaults", "defaults", true], ["Advanced Options", "advanced", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "BooleanToolParameter", "name": "log", "argument": "--log", "type": "boolean", "label": "Output log?", "help": "Choose if you want to generate a text file containing logging information", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--log", "falsevalue": ""}], "outputs": [{"model_class": "ToolOutputCollection", "name": "filtered_out_paired_collection", "format": null, "label": "${tool.name} on ${on_string}: Reads not matching regex pattern", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "paired", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": []}}, {"model_class": "ToolOutput", "name": "out_whitelist", "format": "tabular", "label": "${tool.name} on ${on_string}: Whitelist", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "filtered_out", "format": "data", "label": "${tool.name} on ${on_string}: Forward reads not matching regex pattern", "hidden": false, "output_type": "data", "format_source": "input_read1", "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_1915", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "filtered_out_paired", "format": "data", "label": "${tool.name} on ${on_string}: Reverse reads not matching regex pattern", "hidden": false, "output_type": "data", "format_source": "input_read2", "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_1915", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "out_log", "format": "txt", "label": "${tool.name} on ${on_string}: logfile", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "out_html_report", "format": "html", "label": "${tool.name} on ${on_string}: Webpage", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2331", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "out_thresh", "format": "tabular", "label": "${tool.name} on ${on_string}: TSV Cell Thresholds", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": []}], "panel_section_id": "fasta_fastq", "panel_section_name": "FASTA/FASTQ", "form_style": "regular"}