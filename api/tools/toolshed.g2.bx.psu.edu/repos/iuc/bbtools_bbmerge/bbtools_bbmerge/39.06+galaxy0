{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/bbtools_bbmerge/bbtools_bbmerge/39.06+galaxy0", "name": "BBTools: BBMerge", "version": "39.06+galaxy0", "description": "Merge overlapping mates of a read pair", "labels": [], "edam_operations": ["operation_0496", "operation_0491"], "edam_topics": ["topic_0622", "topic_0091"], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "bbtools_bbmerge", "owner": "iuc", "changeset_revision": "6d084528a6f1", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "Conditional", "name": "input_type_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "single", "inputs": [{"model_class": "DataToolParameter", "name": "read1", "argument": null, "type": "data", "label": "Fastq file", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastqsanger.gz", "fastqsanger"], "edam": {"edam_formats": ["format_1932", "format_1932"], "edam_data": ["data_2044", "data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "pair", "inputs": [{"model_class": "DataToolParameter", "name": "read1", "argument": null, "type": "data", "label": "Forward reads fastq file", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastqsanger.gz", "fastqsanger"], "edam": {"edam_formats": ["format_1932", "format_1932"], "edam_data": ["data_2044", "data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "read2", "argument": null, "type": "data", "label": "Reverse reads fastq file", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastqsanger.gz", "fastqsanger"], "edam": {"edam_formats": ["format_1932", "format_1932"], "edam_data": ["data_2044", "data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "paired", "inputs": [{"model_class": "DataCollectionToolParameter", "name": "reads_collection", "argument": null, "type": "data_collection", "label": "Collection of fastqsanger paired read files", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastqsanger", "fastqsanger.gz"], "multiple": false, "options": {"hda": [], "hdca": [], "dce": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "input_type", "argument": null, "type": "select", "label": "Choose the category of the files to be analyzed", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "single", "options": [["Single dataset", "single", true], ["Dataset pair", "pair", false], ["List of dataset pairs", "paired", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Section", "name": "qt_options", "type": "section", "title": "Quality and trimming options", "help": null, "expanded": false, "inputs": [{"model_class": "SelectToolParameter", "name": "qtrim", "argument": null, "type": "select", "label": "Select option for quality trimming ends before mapping", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "f", "options": [["No trimming", "f", true], ["Trim left", "l", false], ["Trim right", "r", false], ["Trim both", "lr", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "IntegerToolParameter", "name": "trimq", "argument": "trimq", "type": "integer", "label": "Trim regions with average quality below this value", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "6", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "minlength_after_trim", "argument": "minlength_after_trim", "type": "integer", "label": "Don't trim reads to be shorter than this value", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "60", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "usequality", "argument": "usequality", "type": "boolean", "label": "Use quality scores when determining which read kmers to use as seeds?", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "t", "falsevalue": "f"}]}, {"model_class": "Section", "name": "merge_options", "type": "section", "title": "Merging parameters", "help": null, "expanded": false, "inputs": [{"model_class": "SelectToolParameter", "name": "strictness", "argument": null, "type": "select", "label": "Select option for quality trimming ends before mapping", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "default", "options": [["max strict", "xstrict", false], ["ultra strict", "ustrict", false], ["very strict", "vstrict", false], ["strict", "strict", false], ["default", "default", true], ["loose", "loose", false], ["very loose", "vloose", false], ["ultra loose", "uloose", false], ["max loose", "xloose", false], ["fastest possible, less accurate", "fast", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "BooleanToolParameter", "name": "ecco", "argument": "ecco", "type": "boolean", "label": "Error-correct the overlapping part, but don't merge.", "help": "If selected, the tool with find the overlaps as if merging reads, use this overlap information to correct sequencing errors on both strands. However, the strands from the mates will not be merged but provided as two separate reads after error correction.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "t", "falsevalue": "f"}, {"model_class": "BooleanToolParameter", "name": "trimnonoverlapping", "argument": "trimnonoverlapping", "type": "boolean", "label": "Trim all non-overlapping portions, leaving only consensus sequence. By default, only sequence to the right of the overlap (adapter sequence) is trimmed.", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "t", "falsevalue": "f"}, {"model_class": "IntegerToolParameter", "name": "mininsert", "argument": "mininsert", "type": "integer", "label": "Minimum insert size to merge reads", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "35", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "minoverlap", "argument": "minoverlap", "type": "integer", "label": "Minimum number of overlapping bases to allow merging", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "12", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "minq", "argument": "minq", "type": "integer", "label": "Ignore bases with quality below this", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "9", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "maxq", "argument": "maxq", "type": "integer", "label": "Cap output quality scores at this", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "41", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "entropy", "argument": "entropy", "type": "boolean", "label": "Increase the minimum overlap requirement for low-complexity reads", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "t", "falsevalue": "f"}, {"model_class": "IntegerToolParameter", "name": "efilter", "argument": "efilter", "type": "integer", "label": "Ban overlaps with over this many times the expected number of errors.", "help": "Lower is more strict, -1 disables.", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "6", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "pfilter", "argument": "pfilter", "type": "float", "label": "Probability filter to disallow improbable overlaps.", "help": "Higher is stricter. 0 will disable the filter; 1 will allow only perfect overlaps.", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "4e-05", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "kfilter", "argument": "kfilter", "type": "integer", "label": "Ban overlaps that create kmers with count below this value", "help": "Requires good coverage, 0 disables.", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "41", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "usequality", "argument": "usequality", "type": "boolean", "label": "Take quality factors into account", "help": "If disabled, quality values are completely ignored, both for overlap detection and filtering. May be useful for data with inaccurate quality values.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "t", "falsevalue": "f"}, {"model_class": "Conditional", "name": "adapters", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "wout_adapters", "inputs": []}, {"model_class": "ConditionalWhen", "value": "with_adapters", "inputs": [{"model_class": "TextToolParameter", "name": "adapter1", "argument": "adapter1", "type": "text", "label": "Left adapter sequence", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "adapter2", "argument": "adapter2", "type": "text", "label": "Right adapter sequence", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "selector", "argument": null, "type": "select", "label": "Provide adapter sequences to improve accuracy?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "wout_adapters", "options": [["No", "wout_adapters", true], ["Yes, use these adapter sequences", "with_adapters", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "merge_mode", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "Ratio mode", "inputs": [{"model_class": "FloatToolParameter", "name": "maxratio", "argument": "maxratio", "type": "float", "label": "Max error rate; higher increases merge rate.", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.09", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "ratiomargin", "argument": "ratiomargin", "type": "float", "label": "Lower increases merge rate; min is 1.", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "5.5", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "ratiooffset", "argument": "ratiooffset", "type": "float", "label": "Lower increases merge rate; min is 0.", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.55", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "maxmismatches", "argument": "maxmismatches", "type": "integer", "label": "Maximum mismatches allowed in overlapping region.", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "20", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "minsecondratio", "argument": "minsecondratio", "type": "float", "label": "Cutoff for second-best overlap ratio.", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.1", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "Flat mode", "inputs": [{"model_class": "IntegerToolParameter", "name": "margin", "argument": "margin", "type": "integer", "label": "The best overlap must have at least 'margin' fewer mismatches than the second best.", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "2", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "mismatches", "argument": "mismatches", "type": "integer", "label": "Do not allow more than this many mismatches.", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "3", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "requireratiomatch", "argument": "requireratiomatch", "type": "boolean", "label": "Require the answer from flat mode and ratio mode to agree, reducing false positives if both are enabled.", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}]}], "test_param": {"model_class": "SelectToolParameter", "name": "selector", "argument": null, "type": "select", "label": "Evaluate overlaps via...", "help": "In the ratio mode, overlaps are decided based on the ratio of matching to mismatching bases. Flat mode scores overlaps based on the total number of mismatching bases only.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "Ratio mode", "options": [["Ratio mode", "Ratio mode", true], ["Flat mode", "Flat mode", false]], "display": null, "multiple": false, "textable": false}}]}], "outputs": [{"model_class": "ToolOutput", "name": "output_merged_reads", "format": "fastq", "label": "${tool.name} on ${on_string} (merged reads)", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "merged.fastq", "edam_format": "format_1930", "edam_data": "data_2044", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "output_unmerged_reads", "format": "fastq", "label": "${tool.name} on ${on_string} (unmerged reads)", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "unmerged.fastq", "edam_format": "format_1930", "edam_data": "data_2044", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "output_insertlen_hist", "format": "tabular", "label": "${tool.name} on ${on_string} (insert size histogram)", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "ihist.tabular", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": []}], "panel_section_id": "fasta_fastq", "panel_section_name": "FASTA/FASTQ", "form_style": "regular"}