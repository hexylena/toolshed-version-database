{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/velocyto_cli/velocyto_cli/0.17.17+galaxy0", "name": "velocyto CLI", "version": "0.17.17+galaxy0", "description": "pre-process data for the analysis of RNA velocity", "labels": [], "edam_operations": ["operation_3800"], "edam_topics": ["topic_3512", "topic_3320"], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "velocyto_cli", "owner": "iuc", "changeset_revision": "7d8cafa4d18c", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "Conditional", "name": "main", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "run10x", "inputs": [{"model_class": "TextToolParameter", "name": "sample", "argument": null, "type": "text", "label": "sample name", "help": "This name will appear as prefix of each cell barcode.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "sample", "area": false, "datalist": []}, {"model_class": "DataToolParameter", "name": "BAM", "argument": null, "type": "data", "label": "BAM file including CB tag", "help": "Can be Cell ranger output or STAR solo output", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bam"], "edam": {"edam_formats": ["format_2572"], "edam_data": ["data_0863"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "barcodes", "argument": null, "type": "data", "label": "List of valid cell barcodes", "help": "Can be STAR solo barcodes output", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tsv", "tabular", "txt"], "edam": {"edam_formats": ["format_3475", "format_3475", "format_2330"], "edam_data": ["data_0006", "data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "gtffile", "argument": null, "type": "data", "label": "GTF file", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["gtf"], "edam": {"edam_formats": ["format_2306"], "edam_data": ["data_1255"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "s", "argument": "-s", "type": "data", "label": "Metadata Table", "help": "Table containing metadata of the various samples (csv formatted rows are samples and cols are entries)", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["csv"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "m", "argument": "-m", "type": "data", "label": "Intervals to mask", "help": "", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["gtf"], "edam": {"edam_formats": ["format_2306"], "edam_data": ["data_1255"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "BooleanToolParameter", "name": "M", "argument": "-M", "type": "boolean", "label": "Consider not unique mappings?", "help": "(not recommended)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "-M", "falsevalue": ""}, {"model_class": "SelectToolParameter", "name": "t", "argument": "-t", "type": "select", "label": "Datatype of Loom layers", "help": "The dtype of the loom file layers - if more than 6000 molecules/reads per gene per cell are expected set uint32                      to avoid truncation", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "uint16", "options": [["uint16", "uint16", true], ["uint32", "uint32", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "run-smartseq2", "inputs": [{"model_class": "DataToolParameter", "name": "bamfiles", "argument": null, "type": "data", "label": "BAM files", "help": "A BAM file for each cell. At least two required.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bam"], "edam": {"edam_formats": ["format_2572"], "edam_data": ["data_0863"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "gtffile", "argument": null, "type": "data", "label": "GTF file", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["gtf"], "edam": {"edam_formats": ["format_2306"], "edam_data": ["data_1255"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "m", "argument": "-m", "type": "data", "label": "Intervals to mask", "help": "", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["gtf"], "edam": {"edam_formats": ["format_2306"], "edam_data": ["data_1255"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "SelectToolParameter", "name": "t", "argument": "-t", "type": "select", "label": "Datatype of Loom layers", "help": "The dtype of the loom file layers - if more than 6000 molecules/reads per gene per cell are expected set uint32                      to avoid truncation", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "uint16", "options": [["uint16", "uint16", true], ["uint32", "uint32", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "run-dropest", "inputs": [{"model_class": "DataToolParameter", "name": "bamfile", "argument": null, "type": "data", "label": "BAM file", "help": "BAM file", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bam"], "edam": {"edam_formats": ["format_2572"], "edam_data": ["data_0863"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "gtffile", "argument": null, "type": "data", "label": "GTF file", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["gtf"], "edam": {"edam_formats": ["format_2306"], "edam_data": ["data_1255"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "b", "argument": "-b", "type": "data", "label": "Barcodes file to filter BAM", "help": "If -bcfile is not specified the file will be searched in the default position outputted by 'dropest_bc_correct'. Otherwise an error will be thrown", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular", "txt"], "edam": {"edam_formats": ["format_3475", "format_2330"], "edam_data": ["data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "m", "argument": "-m", "type": "data", "label": "Intervals to mask", "help": "", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["gtf"], "edam": {"edam_formats": ["format_2306"], "edam_data": ["data_1255"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "SelectToolParameter", "name": "t", "argument": "-t", "type": "select", "label": "Datatype of Loom layers", "help": "The dtype of the loom file layers - if more than 6000 molecules/reads per gene per cell are expected set uint32                      to avoid truncation", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "uint16", "options": [["uint16", "uint16", true], ["uint32", "uint32", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "run", "inputs": [{"model_class": "DataToolParameter", "name": "bamfiles", "argument": null, "type": "data", "label": "BAM file", "help": "BAM file", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bam"], "edam": {"edam_formats": ["format_2572"], "edam_data": ["data_0863"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "gtffile", "argument": null, "type": "data", "label": "GTF file", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["gtf"], "edam": {"edam_formats": ["format_2306"], "edam_data": ["data_1255"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "b", "argument": "-b", "type": "data", "label": "Barcodes file to filter BAM", "help": "If -bcfile is not specified the file will be searched in the default position outputted by 'dropest_bc_correct'. Otherwise an error will be thrown", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular", "txt"], "edam": {"edam_formats": ["format_3475", "format_2330"], "edam_data": ["data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "m", "argument": "-m", "type": "data", "label": "Intervals to mask", "help": "", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["gtf"], "edam": {"edam_formats": ["format_2306"], "edam_data": ["data_1255"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "BooleanToolParameter", "name": "c", "argument": "-c", "type": "boolean", "label": "One file per cell?", "help": "If this flag is used every bamfile passed is interpreted as an independent cell, otherwise multiple files are interpreted as batch of different cells to be analyzed together. Important: cells reads should not be distributed over multiple bamfiles is not supported!! (default: off)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "-c", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "U", "argument": "-U", "type": "boolean", "label": "Without UMI?", "help": "If this flag is used the data is assumed UMI-less and reads are counted instead of molecules (default: off)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "-U", "falsevalue": ""}, {"model_class": "TextToolParameter", "name": "u", "argument": "-u", "type": "text", "label": "UMI extension", "help": "In case UMI is too short to guarantee uniqueness (without information from the ampping) set this parameter to chr, Gene ro [N]bp If set to chr the mapping position (binned to 10Gb intervals) will be appended to UB (ideal for InDrops+dropEst). If set to Gene then the GX tag will be appended to the UB tag. If set to [N]bp the first N bases of the sequence will be used to extend UB (ideal for STRT). (Default: no)", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "M", "argument": "-M", "type": "boolean", "label": "Consider not unique mappings?", "help": "(not recommended)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "-M", "falsevalue": ""}, {"model_class": "SelectToolParameter", "name": "t", "argument": "-t", "type": "select", "label": "Datatype of Loom layers", "help": "The dtype of the loom file layers - if more than 6000 molecules/reads per gene per cell are expected set uint32                      to avoid truncation", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "uint16", "options": [["uint16", "uint16", true], ["uint32", "uint32", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "dropest-bc-correct", "inputs": [{"model_class": "DataToolParameter", "name": "bamfile", "argument": null, "type": "data", "label": "Bam file with sorted reads obtained from DropEst", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bam"], "edam": {"edam_formats": ["format_2572"], "edam_data": ["data_0863"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "rfile", "argument": null, "type": "data", "label": "R dump RDS file generated from DropEst", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["rds"], "edam": {"edam_formats": ["format_2333"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "do", "argument": null, "type": "select", "label": "Pipeline", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "run10x", "options": [["Analysis for a 10x Chromium Sample", "run10x", true], ["Analysis on SmartSeq2 data (BAM file per cell)", "run-smartseq2", false], ["Analysis on DropEst preprocessed data", "run-dropest", false], ["Analysis for other protocols", "run", false], ["Correct DropEst barcodes and produce valid barcodes file", "dropest-bc-correct", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "SelectToolParameter", "name": "verbosity", "argument": null, "type": "select", "label": "verbosity level", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "-vv", "options": [["show only warning", "-v", false], ["show warning and info", "-vv", true], ["show warning, info and debug", "-vvv", false]], "display": null, "multiple": false, "textable": false}], "outputs": [{"model_class": "ToolOutput", "name": "samples", "format": "loom", "label": "", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "output.loom", "edam_format": "format_3590", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "barcodesout", "format": "txt", "label": "${tool.name} on ${on_string}: Barcodes file", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "single-cell-section-cell-inference", "panel_section_name": "Inference", "form_style": "regular"}