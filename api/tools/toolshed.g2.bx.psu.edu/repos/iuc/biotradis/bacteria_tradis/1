{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/biotradis/bacteria_tradis/1.4.5+galaxy3", "name": "Bio-TraDis reads to counts", "version": "1.4.5+galaxy3", "description": "", "labels": [], "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "biotradis", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "biotradis", "owner": "iuc", "changeset_revision": "8e4a4f240961", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "input_fastq", "argument": null, "type": "data", "label": "Fastq file containing TraDis reads", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastq"], "edam": {"edam_formats": ["format_1930"], "edam_data": ["data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "input_ref", "argument": null, "type": "data", "label": "Fasta File of the reference Genome", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta"], "edam": {"edam_formats": ["format_1929"], "edam_data": ["data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Conditional", "name": "map_parameters", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "modify", "inputs": [{"model_class": "Conditional", "name": "set_kmers_options", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "IntegerToolParameter", "name": "kmer_length", "argument": null, "type": "integer", "label": "Length of kmers hashed (--smalt_k)", "help": " The minimum length of an exact match between a read and the genome needed to trigger an alignment attempt. Appropriate values are between ~10 and 20 for bacterial genomes depending on read length. Lower values lead to increased sensitivity at the expense of runtime.", "refresh_on_change": false, "min": 9, "max": 20, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "step_size", "argument": null, "type": "integer", "label": "Step size for smalt kmers (--smalt_s)", "help": " Distance between the start of hashed kmers. Appropriate values are between 1 and ~15, but should be less than --smalt_k to ensure kmers overlap. Lower values lead to increased sensitivity at the expense of runtime.", "refresh_on_change": false, "min": 1, "max": 15, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "no", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "set", "argument": null, "type": "select", "label": "Modify kmers parameters", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "yes", "options": [["Yes", "yes", false], ["No", "no", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "FloatToolParameter", "name": "min_percentage", "argument": null, "type": "float", "label": "Minimum percentage of identical bases between read and reference (--smalt_y)", "help": "May be lowered to improve sensitivity in the case of low quality or short reads.", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.96", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "duplicate_reads", "argument": null, "type": "boolean", "label": "Randomly assign position to reads that align in multiple location (--smalt_r)", "help": "If not, reads mapping in multiples positions are ignored", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "-1", "falsevalue": "0"}, {"model_class": "IntegerToolParameter", "name": "min_quality", "argument": null, "type": "integer", "label": "Minimum mapping quality score (-m) ", "help": "Multi-mapping reads have a quality score of 0 by definition, so this parameter needs to be set to 0 for these reads to be properly processed. Can be lowered without dramatically affecting results in most cases, particularly if --smalt_y is set reasonably.", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "30", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "default", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "map_options", "argument": null, "type": "select", "label": "Mapping Parameters", "help": "By default, the bacteria_tradis pipeline determines appropriate read mapping parameters automatically from the length of the first read in the fastq file. These parameters have been tested for data issue from TraDIS protocol of Barquist et al.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "default", "options": [["Use Default Parameters", "default", true], ["Set Mapping parameters", "modify", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "tranposon_tag", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "yes", "inputs": [{"model_class": "TextToolParameter", "name": "sequence", "argument": null, "type": "text", "label": "", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "nb_mismatches", "argument": null, "type": "integer", "label": "", "help": "If there is evidence for low-quality bases in the transposon tag (from FastQC, for instance), setting this to 1 or 2 may result in higher recovery of insertion sites. Higher than 2 is not advisable with the typical transposon tag lengths (10 - 12 bases) produced by TraDIS protocols, but may be appropriate with protocols that produce significantly longer transposon tags.", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "2", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "tagdir", "argument": null, "type": "select", "label": "Direction of the transposon tag", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "3", "options": [["3'", "3", true], ["5'", "5", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "no", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "use", "argument": null, "type": "select", "label": "Search for a tranposon tag", "help": "Use with data containing a transposon tag attached to the reads. Only reads containing the transposon tag will be processed, and the tag will be removed before mapping.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "yes", "options": [["Yes", "yes", false], ["No", "no", false]], "display": null, "multiple": false, "textable": false}}], "outputs": [{"model_class": "ToolOutput", "name": "Statistics", "format": "txt", "label": "${tool.name} on ${on_string} : Statistics", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "file.stats", "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "Counts", "format": "tabular.gz", "label": "${tool.name} on ${on_string} : Counts", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "./*.gz", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "Aligned_reads", "format": "bam", "label": "${tool.name} on ${on_string} : Mapped Reads", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "./*.bam", "edam_format": "format_2572", "edam_data": "data_0863", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "transposon_insertion_sequencing", "panel_section_name": "Transposon Insertion Sequencing", "form_style": "regular"}