{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/genrich/genrich/0.5", "name": "Genrich", "version": "0.5", "description": "Detecting sites of genomic enrichment", "labels": [], "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "genrich", "owner": "iuc", "changeset_revision": "a41d96fc0b20", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "Conditional", "name": "treatment", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "No", "inputs": [{"model_class": "DataToolParameter", "name": "input_treatment_file", "argument": "-t", "type": "data", "label": "Treatment File(s)", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["qname_sorted.bam"], "edam": {"edam_formats": ["format_2572"], "edam_data": ["data_0863"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "Yes", "inputs": [{"model_class": "DataToolParameter", "name": "input_treatment_file", "argument": "-t", "type": "data", "label": "Treatment Files", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["qname_sorted.bam"], "edam": {"edam_formats": ["format_2572"], "edam_data": ["data_0863"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "t_multi_select", "argument": null, "type": "select", "label": "Are you pooling Treatment Files?", "help": "For more information, see Help section below", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "No", "options": [["No", "No", true], ["Yes", "Yes", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "control", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "Yes", "inputs": [{"model_class": "Conditional", "name": "c_multiple", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "No", "inputs": [{"model_class": "DataToolParameter", "name": "input_control_file", "argument": "-c", "type": "data", "label": "Control File(s)", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["qname_sorted.bam"], "edam": {"edam_formats": ["format_2572"], "edam_data": ["data_0863"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "Yes", "inputs": [{"model_class": "DataToolParameter", "name": "input_control_file", "argument": "-c", "type": "data", "label": "Control Files", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["qname_sorted.bam"], "edam": {"edam_formats": ["format_2572"], "edam_data": ["data_0863"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "c_multi_select", "argument": null, "type": "select", "label": "Are you pooling Control Files?", "help": "For more information, see Help section below", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "No", "options": [["No", "No", true], ["Yes", "Yes", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "ConditionalWhen", "value": "No", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "c_select", "argument": null, "type": "select", "label": "Do you have a Control File?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "No", "options": [["Yes", "Yes", false], ["No", "No", true]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "cond_exclude", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "No", "inputs": []}, {"model_class": "ConditionalWhen", "value": "Yes", "inputs": [{"model_class": "DataToolParameter", "name": "erf", "argument": "-E", "type": "data", "label": "BED File", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bed"], "edam": {"edam_formats": ["format_3003"], "edam_data": ["data_3002"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "exclude_select", "argument": null, "type": "select", "label": "Do you have a BED file of genomic regions to exclude?", "help": "Input BED file of genomic regions to exclude.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "No", "options": [["No", "No", true], ["Yes", "Yes", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Section", "name": "filter_options", "type": "section", "title": "Filter Options", "help": null, "expanded": false, "inputs": [{"model_class": "BooleanToolParameter", "name": "duplicates", "argument": "-r", "type": "boolean", "label": "Remove PCR duplicates", "help": "In this process, it analyzes reads/fragments based on their alignments, in three separate groups (proper pairs, discordant pairs, and singletons), and removes those identified as duplicates from further analysis. One novel feature is that this evaluation takes into account reads/fragments with multiple alignments.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "-r -R", "falsevalue": ""}, {"model_class": "TextToolParameter", "name": "exclude_chr", "argument": "-e", "type": "text", "label": "Comma-separated list of chromosomes to exclude", "help": "All alignments to the given list of chromosomes (reference sequences) are excluded from peak-calling. More details can be found in the tool description.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_mapq", "argument": "-m", "type": "integer", "label": "Minimum MAPQ to keep an alignment.", "help": "All alignments with MAPQ less than the given value are eliminated. This is equivalent to filtering with samtools view -q. This option should not be used if the SAM/BAM lists multiple alignments for some reads/fragments. Instead, filtering should be accomplished via -s. (def. 0)", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "alignment_score", "argument": "-s", "type": "float", "label": "Keep sec alns with AS >= bestAS.", "help": "Genrich considers all secondary alignments of multimapping reads, but, by default, it keeps only the alignments whose scores are equal to the best score for the read/fragment. Setting a value such as -s 20 causes Genrich also to keep secondary alignments whose scores are within 20 of the best. (def. 0)", "refresh_on_change": false, "min": 0.0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "unpaired", "argument": "-y", "type": "boolean", "label": "Keep unpaired alignments.", "help": "Unpaired alignments are kept, just as they appear in the SAM/BAM. (def. false)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "-y", "falsevalue": ""}, {"model_class": "IntegerToolParameter", "name": "alignment_lengths", "argument": "-w", "type": "integer", "label": "Keep unpaired alignments with a certain length.", "help": "Unpaired alignments are kept, with their lengths changed to the given value (from their 5' ends). (def. not defined)", "refresh_on_change": false, "min": 1, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "alignment_lengths2", "argument": "-x", "type": "boolean", "label": "Keep unpaired alns, lengths changed to paired average.", "help": "Unpaired alignments are kept, with their lengths changed to the average length of fragments inferred from properly paired alignments (excluding those aligning to skipped chromosomes [-e]). (def. not defined)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "-x", "falsevalue": ""}]}, {"model_class": "Section", "name": "atac_options", "type": "section", "title": "ATAC Options", "help": null, "expanded": false, "inputs": [{"model_class": "BooleanToolParameter", "name": "atac", "argument": "-j", "type": "boolean", "label": "Use ATAC-seq mode.", "help": "Use ATAC-seq mode (def. false)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "-j", "falsevalue": ""}, {"model_class": "IntegerToolParameter", "name": "expand_sites", "argument": "-d", "type": "integer", "label": "Expand cut sites.", "help": "Expand cut sites to x bp (def. 100)", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "100", "area": false, "datalist": []}]}, {"model_class": "Section", "name": "peakcalling_options", "type": "section", "title": "Peakcalling Options", "help": null, "expanded": false, "inputs": [{"model_class": "FloatToolParameter", "name": "max_q", "argument": "-q", "type": "float", "label": "Maximum q-value.", "help": "Maximum q-value (FDR-adjusted p-value). These parameters establish the statistical threshold below which a base is considered significantly enriched in the experimental sample(s) vs. the control/background. The significance value is automatically converted to a -log10 scale by Genrich. (def. 0.05)", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.05", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "max_p", "argument": "-p", "type": "float", "label": "Maximum p-value.", "help": "When -p is selected, q-values are not calculated (reported as -1). (def. turned off)", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "min_auc", "argument": "-a", "type": "float", "label": "Minimum AUC for a peak.", "help": "Minimum AUC for a peak. (def. 20.0)", "refresh_on_change": false, "min": 0.0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "20.0", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_peak_length", "argument": "-l", "type": "integer", "label": "Minimum length of a peak.", "help": "With this option, any potential peak whose length is below the specified value is discarded, regardless of its significance. The default of 0 means that no peaks are eliminated on this basis. (def. 0)", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "max_dist", "argument": "-g", "type": "integer", "label": "Maximum distance between signif. sites.", "help": "This parameter sets the maximum distance between sites that achieve significance in order for them to be linked together into the same potential peak. (def. 100)", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "100", "area": false, "datalist": []}]}, {"model_class": "Section", "name": "other_options", "type": "section", "title": "Other Options", "help": null, "expanded": false, "inputs": [{"model_class": "BooleanToolParameter", "name": "skip_peak_calling", "argument": "-X", "type": "boolean", "label": "Skip peak-calling.", "help": "This is a convenience option for those who are unsure of the peak-calling parameters but do not want to run the full analysis multiple times. Genrich interprets the alignment files (including identifying PCR duplicates) and produces intermediate log files, but does not perform the peak-calling step.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "-X", "falsevalue": ""}]}, {"model_class": "Section", "name": "output_options", "type": "section", "title": "Output Options", "help": null, "expanded": false, "inputs": [{"model_class": "BooleanToolParameter", "name": "bedgraph1", "argument": "-f", "type": "boolean", "label": "Bedgraph-ish p/q Values", "help": "Output bedgraph-ish file for p/q values.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "BooleanToolParameter", "name": "bedgraph2", "argument": "-k", "type": "boolean", "label": "Bedgraph-ish Pileups", "help": "Output bedgraph-ish file for pileups and p-values.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "BooleanToolParameter", "name": "bed", "argument": "-b", "type": "boolean", "label": "Bed File", "help": "Output BED file for reads/fragments/intervals.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}]}], "outputs": [{"model_class": "ToolOutput", "name": "outfile", "format": "encodepeak", "label": "${tool.name} on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3612", "edam_data": "data_3002", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "out_bedgraph1", "format": "bedgraph", "label": "${tool.name} on ${on_string}: Bedgraph p/q", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "*.bedgraph", "edam_format": "format_3583", "edam_data": "data_3002", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "out_bedgraph2", "format": "bedgraph", "label": "${tool.name} on ${on_string}: Bedgraph Pileups", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "*.bedgraph", "edam_format": "format_3583", "edam_data": "data_3002", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "out_bed", "format": "bed", "label": "${tool.name} on ${on_string}: Bed reads/fragments/intervals", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "*.bed", "edam_format": "format_3003", "edam_data": "data_3002", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "out_dups", "format": "txt", "label": "${tool.name} on ${on_string}: PCR duplicates", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "*.txt", "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "peak_calling", "panel_section_name": "Peak Calling", "form_style": "regular"}