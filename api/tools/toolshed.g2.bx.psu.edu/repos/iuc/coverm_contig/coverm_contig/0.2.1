{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/coverm_contig/coverm_contig/0.2.1", "name": "CoverM-CONTIG", "version": "0.2.1", "description": "", "labels": [], "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "coverm_contig", "owner": "iuc", "changeset_revision": "6941d0d453ba", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "Conditional", "name": "reads", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "paired", "inputs": [{"model_class": "DataToolParameter", "name": "read1", "argument": null, "type": "data", "label": "Read1", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta", "fastq", "fastq.gz", "fasta.gz"], "edam": {"edam_formats": ["format_1929", "format_1930", "format_1930", "format_1929"], "edam_data": ["data_2044", "data_2044", "data_2044", "data_2044"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "read2", "argument": null, "type": "data", "label": "Read2", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta", "fastq", "fastq.gz", "fasta.gz"], "edam": {"edam_formats": ["format_1929", "format_1930", "format_1930", "format_1929"], "edam_data": ["data_2044", "data_2044", "data_2044", "data_2044"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "ref_fasta_history", "argument": null, "type": "data", "label": "FASTA file(s) of contigs", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta"], "edam": {"edam_formats": ["format_1929"], "edam_data": ["data_2044"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "paired_collection", "inputs": [{"model_class": "DataCollectionToolParameter", "name": "paired_reads", "argument": null, "type": "data_collection", "label": "One or more pairs of forward and reverse possibly gzipped FASTA/Q files for mapping in order", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta", "fastq", "fastq.gz", "fasta.gz"], "multiple": false, "options": {"hda": [], "hdca": [], "dce": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "ref_fasta_history", "argument": null, "type": "data", "label": "FASTA file(s) of contigs", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta"], "edam": {"edam_formats": ["format_1929"], "edam_data": ["data_2044"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "single", "inputs": [{"model_class": "DataToolParameter", "name": "single", "argument": null, "type": "data", "label": "Single Read", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta", "fastq", "fastq.gz", "fasta.gz"], "edam": {"edam_formats": ["format_1929", "format_1930", "format_1930", "format_1929"], "edam_data": ["data_2044", "data_2044", "data_2044", "data_2044"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "ref_fasta_history", "argument": null, "type": "data", "label": "FASTA file(s) of contigs", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta"], "edam": {"edam_formats": ["format_1929"], "edam_data": ["data_2044"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "interleaved", "inputs": [{"model_class": "DataToolParameter", "name": "single", "argument": null, "type": "data", "label": "Interleaved", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta", "fastq", "fastq.gz", "fasta.gz"], "edam": {"edam_formats": ["format_1929", "format_1930", "format_1930", "format_1929"], "edam_data": ["data_2044", "data_2044", "data_2044", "data_2044"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "ref_fasta_history", "argument": null, "type": "data", "label": "FASTA file(s) of contigs", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta"], "edam": {"edam_formats": ["format_1929"], "edam_data": ["data_2044"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "bam", "inputs": [{"model_class": "DataToolParameter", "name": "bam", "argument": null, "type": "data", "label": "BAM file(s)", "help": "BAM file(s). These must be reference sorted (e.g. with samtools sort) unless sharded is specified, in which case they must be read name sorted (e.g. with samtools sort -n). When specified, no read mapping algorithm is undertaken.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bam"], "edam": {"edam_formats": ["format_2572"], "edam_data": ["data_0863"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "ref_fasta_history", "argument": null, "type": "data", "label": "FASTA file(s) of contigs", "help": "", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta"], "edam": {"edam_formats": ["format_1929"], "edam_data": ["data_2044"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "read_type", "argument": null, "type": "select", "label": "Read type", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "paired_collection", "options": [["Paired end", "paired", false], ["Paired collection", "paired_collection", true], ["Single ended", "single", false], ["Interleaved", "interleaved", false], ["BAM file(s)", "bam", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Section", "name": "add_reads", "type": "section", "title": "Add an additional read", "help": null, "expanded": false, "inputs": [{"model_class": "Conditional", "name": "extra_read", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "none", "inputs": []}, {"model_class": "ConditionalWhen", "value": "paired", "inputs": [{"model_class": "DataToolParameter", "name": "read1", "argument": null, "type": "data", "label": "Read1", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta", "fastq", "fastq.gz", "fasta.gz"], "edam": {"edam_formats": ["format_1929", "format_1930", "format_1930", "format_1929"], "edam_data": ["data_2044", "data_2044", "data_2044", "data_2044"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "read2", "argument": null, "type": "data", "label": "Read2", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta", "fastq", "fastq.gz", "fasta.gz"], "edam": {"edam_formats": ["format_1929", "format_1930", "format_1930", "format_1929"], "edam_data": ["data_2044", "data_2044", "data_2044", "data_2044"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "paired_collection", "inputs": [{"model_class": "DataCollectionToolParameter", "name": "paired_reads", "argument": null, "type": "data_collection", "label": "One or more pairs of forward and reverse possibly gzipped FASTA/Q files for mapping in order", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta", "fastq", "fastq.gz", "fasta.gz"], "multiple": false, "options": {"hda": [], "hdca": [], "dce": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "single", "inputs": [{"model_class": "DataToolParameter", "name": "single", "argument": null, "type": "data", "label": "Single read", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta", "fastq", "fastq.gz", "fasta.gz"], "edam": {"edam_formats": ["format_1929", "format_1930", "format_1930", "format_1929"], "edam_data": ["data_2044", "data_2044", "data_2044", "data_2044"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "interleaved", "inputs": [{"model_class": "DataToolParameter", "name": "single", "argument": null, "type": "data", "label": "Interleaved", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta", "fastq", "fastq.gz", "fasta.gz"], "edam": {"edam_formats": ["format_1929", "format_1930", "format_1930", "format_1929"], "edam_data": ["data_2044", "data_2044", "data_2044", "data_2044"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "bam", "inputs": [{"model_class": "DataToolParameter", "name": "bam", "argument": null, "type": "data", "label": "BAM file(s)", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bam"], "edam": {"edam_formats": ["format_2572"], "edam_data": ["data_0863"]}, "multiple": true, "min": null, "max": null, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "read_type", "argument": null, "type": "select", "label": "Read type", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "none", "options": [["None", "none", true], ["Paired end", "paired", false], ["Paired collection", "paired_collection", false], ["Single ended", "single", false], ["Interleaved", "interleaved", false], ["BAM file(s)", "bam", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "Section", "name": "shar", "type": "section", "title": "Sharding", "help": null, "expanded": false, "inputs": [{"model_class": "BooleanToolParameter", "name": "sharded", "argument": null, "type": "boolean", "label": "If -b/--bam-files was used: Input BAM files are read-sorted alignments of a set of reads mapped to multiple reference contig sets. Choose the best hit for each read pair. Otherwise if mapping was carried out: Map reads to each reference, choosing the best hit for each pair.", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--sharded", "falsevalue": ""}]}, {"model_class": "Section", "name": "mapping", "type": "section", "title": "Mapping options", "help": null, "expanded": false, "inputs": [{"model_class": "SelectToolParameter", "name": "mapper", "argument": "--mapper", "type": "select", "label": "Mapper", "help": "Underlying mapping software used. Default: minimap2-sr", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "options": [["minimap2 with '-x sr' option", "minimap2-sr", false], ["minimap2 with '-x map-ont' option", "minimap2-ont", false], ["minimap2 with '-x map-pb' option", "minimap2-pb", false], ["minimap2 with no '-x' option", "minimap2-no-preset", false], ["BWA-MEM using default parameters", "bwa-mem", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "IntegerToolParameter", "name": "min_read_aligned_length", "argument": "--min_read-aligned-length", "type": "integer", "label": "Min read aligned length", "help": "Exclude reads with smaller numbers of aligned bases. Default: 0", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "min_read_percent_identity", "argument": "--min_read-percent-identity", "type": "float", "label": "Min read percent identity", "help": "Exclude reads by overall percent identity e.g. 95 for 95%. Default: 0", "refresh_on_change": false, "min": 0.0, "max": 100.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "min_read_aligned_percent", "argument": "--min_read-aligned-percent", "type": "float", "label": "Min read aligned percentage", "help": "Exclude reads by percent aligned bases e.g. 95 means 95%                      of the read's bases must be aligned. Default: 0", "refresh_on_change": false, "min": 0.0, "max": 100.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_read_aligned_length_pair", "argument": "--min_read-aligned-length-pair", "type": "integer", "label": "Min read aligned length pair", "help": "Exclude pairs with smaller numbers of aligned bases.                      Implies --proper-pairs-only. Default: 0", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "min_read_percent_identity_pair", "argument": "--min_read-percent-identity-pair", "type": "float", "label": "Min read percent identity pair", "help": "Exclude pairs by overall percent identity e.g. 95 for 95%.                      Implies --proper-pairs-only. Default: 0", "refresh_on_change": false, "min": 0.0, "max": 100.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "min_read_aligned_percent_pair", "argument": "--min_read-aligned-percent-pair", "type": "float", "label": "Min read aligned percentage pair", "help": "Exclude reads by percent aligned bases e.g. 95 means 95% of                      the read's bases must be aligned. Implies --proper-pairs-only. Default: 0", "refresh_on_change": false, "min": 0.0, "max": 100.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "proper_pairs_only", "argument": "--proper-pairs-only", "type": "boolean", "label": "Require reads to be mapped as proper pairs", "help": "Default: not set", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--proper-pairs-only", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "exclude_supplementary", "argument": "--exclude-supplementary", "type": "boolean", "label": "Exclude supplementary alignments", "help": "Default: not set", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--exclude-supplementary", "falsevalue": ""}]}, {"model_class": "Section", "name": "cov", "type": "section", "title": "Coverage calculation options", "help": null, "expanded": false, "inputs": [{"model_class": "BooleanToolParameter", "name": "relative_abundance", "argument": null, "type": "boolean", "label": "Relative abundance (default)", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "relative_abundance", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "mean", "argument": null, "type": "boolean", "label": "Mean", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "mean", "falsevalue": ""}, {"model_class": "Conditional", "name": "cond_methods", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "trimmed_mean", "inputs": [{"model_class": "IntegerToolParameter", "name": "trim_min", "argument": null, "type": "integer", "label": "Trim min", "help": "Remove this smallest fraction of positions when calculating trimmed_mean default: 5", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "5", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "trim_max", "argument": null, "type": "integer", "label": "Trim max", "help": "Maximum fraction for trimmed_mean calculations default: 95", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "95", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "", "inputs": []}], "test_param": {"model_class": "BooleanToolParameter", "name": "trimmed_mean", "argument": null, "type": "boolean", "label": "Trimmed mean", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "trimmed_mean", "falsevalue": ""}}, {"model_class": "BooleanToolParameter", "name": "covered_bases", "argument": null, "type": "boolean", "label": "Covered bases", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "covered_bases", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "covered_fraction", "argument": null, "type": "boolean", "label": "Covered fraction", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "covered_fraction", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "variance", "argument": null, "type": "boolean", "label": "Variance", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "variance", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "length", "argument": null, "type": "boolean", "label": "Length", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "length", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "count", "argument": null, "type": "boolean", "label": "Count", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "count", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "metabat", "argument": null, "type": "boolean", "label": "MetaBAT", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "metabat", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "coverage_histogram", "argument": null, "type": "boolean", "label": "Coverage histogram", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "coverage_histogram", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "reads_per_base", "argument": null, "type": "boolean", "label": "Reads per base", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "reads_per_base", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "rpkm", "argument": null, "type": "boolean", "label": "RPKM", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "rpkm", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "tpm", "argument": null, "type": "boolean", "label": "TPKM", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "tpm", "falsevalue": ""}, {"model_class": "IntegerToolParameter", "name": "min_covered_fraction", "argument": null, "type": "integer", "label": "Min covered fraction", "help": "Genomes with less coverage than this reported as having zero coverage. Default: 10", "refresh_on_change": false, "min": 0, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "contig_end_exclusion", "argument": null, "type": "integer", "label": "Contig end exclusion", "help": "Exclude bases at the ends of reference sequences from calculation. Default: 75", "refresh_on_change": false, "min": 0, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}, {"model_class": "Section", "name": "out", "type": "section", "title": "Output options", "help": null, "expanded": false, "inputs": [{"model_class": "SelectToolParameter", "name": "output_format", "argument": null, "type": "select", "label": "Shape of output", "help": "'Sparse' for long format, 'dense' for species-by-site. Default: dense]", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "dense", "options": [["Dense", "dense", true], ["Sparse", "sparse", false]], "display": null, "multiple": false, "textable": false}]}], "outputs": [{"model_class": "ToolOutput", "name": "output1", "format": "tsv", "label": "", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "./output.tsv", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "metagenomic_analysis", "panel_section_name": "Metagenomic Analysis", "form_style": "regular"}