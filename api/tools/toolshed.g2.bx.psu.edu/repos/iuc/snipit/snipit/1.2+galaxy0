{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/snipit/snipit/1.2+galaxy0", "name": "snipit", "version": "1.2+galaxy0", "description": "Summarise snps relative to a reference sequence", "labels": [], "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "snipit", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "snipit", "owner": "iuc", "changeset_revision": "92b9fd5f1f9f", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "alignment", "argument": null, "type": "data", "label": "Input alignment fasta file", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta"], "edam": {"edam_formats": ["format_1929"], "edam_data": ["data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Conditional", "name": "ref", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "first", "inputs": []}, {"model_class": "ConditionalWhen", "value": "by_id", "inputs": [{"model_class": "TextToolParameter", "name": "id", "argument": "--reference", "type": "text", "label": "ID of reference sequence", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "select", "argument": null, "type": "select", "label": "The reference sequence ...", "help": "Please note that you will HAVE to specify the reference explicitly via its ID if you choose the 'recombinant mutations colouring' scheme and in this case the reference can NOT be one of the recombinant parents.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "first", "options": [["is the first sequence in the input", "first", false], ["should be picked via its ID", "by_id", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Section", "name": "pos_restrict", "type": "section", "title": "Restrict genome positions to be plotted", "help": null, "expanded": false, "inputs": [{"model_class": "Repeat", "name": "include_positions", "type": "repeat", "title": "Restrict plot to specific regions/positions", "help": null, "default": 0, "min": 0, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "pos", "argument": "--include-positions", "type": "text", "label": "Include position/region", "help": "A range (closed, inclusive; one-indexed) or specific position to include in the output, e.g. '100-150' or '100'", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}, {"model_class": "Repeat", "name": "exclude_positions", "type": "repeat", "title": "Exclude specific regions/positions from plot", "help": null, "default": 0, "min": 0, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "pos", "argument": "--exclude-positions", "type": "text", "label": "Exclude position/region", "help": "A range (closed, inclusive; one-indexed) or specific position to exclude from the output, e.g. '100-150' or '100'; considered after any '--include-positions'.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}, {"model_class": "BooleanToolParameter", "name": "exclude_ambig_pos", "argument": "--exclude-ambig-pos", "type": "boolean", "label": "Exclude ambig positions?", "help": "Exclude positions with an ambiguous base in any sequences; considered after '--include-positions'.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--exclude-ambig-pos", "falsevalue": ""}]}, {"model_class": "Section", "name": "style", "type": "section", "title": "Customize rendering of samples and mutations", "help": null, "expanded": true, "inputs": [{"model_class": "Conditional", "name": "labels", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "", "inputs": []}, {"model_class": "ConditionalWhen", "value": "simple_csv", "inputs": [{"model_class": "DataToolParameter", "name": "source", "argument": "--labels", "type": "data", "label": "Labels mapping source", "help": "This expects a CSV dataset with two columns named 'name' and 'label' where the values in the 'name' column must have matches for all sequence IDs (including the reference) in the alignment input.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["csv"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "custom_csv", "inputs": [{"model_class": "DataToolParameter", "name": "source", "argument": "--labels", "type": "data", "label": "Labels mapping source", "help": "Select a CSV dataset with an arbitrary number of named columns here and specify below which column contains the sequence IDs to be mapped and which one the labels to be used instead. The dataset must define mappings for all sequence IDs including the reference.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["csv"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "TextToolParameter", "name": "names_column", "argument": null, "type": "text", "label": "Name of the sequence ID column", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "labels_column", "argument": null, "type": "text", "label": "Name of the column with desired labels", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "choose", "argument": "-l", "type": "select", "label": "Provide custom labels for sequences?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "options": [["No, just use the sequence identifiers as labels in the plot", "", false], ["Yes, via a simple CSV dataset mapping names to labels", "simple_csv", false], ["Yes, via a custom CSV dataset with column specification", "custom_csv", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "colouring", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "primary", "inputs": []}, {"model_class": "ConditionalWhen", "value": "classic", "inputs": []}, {"model_class": "ConditionalWhen", "value": "purine-pyrimidine", "inputs": []}, {"model_class": "ConditionalWhen", "value": "greyscale", "inputs": []}, {"model_class": "ConditionalWhen", "value": "wes", "inputs": []}, {"model_class": "ConditionalWhen", "value": "verity", "inputs": []}, {"model_class": "ConditionalWhen", "value": "", "inputs": [{"model_class": "TextToolParameter", "name": "parent1", "argument": null, "type": "text", "label": "Sequence ID of first recombinant parent sequence in alignment", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "parent2", "argument": null, "type": "text", "label": "Sequence ID of second recombinant parent sequence in alignment", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "palette", "argument": null, "type": "select", "label": "Mutations colouring scheme", "help": "Mutations can be coloured by base change or, alternatively, by their presence/absence in any of two parent sequences in the alignment (recombinant mode).", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "classic", "options": [["primary", "primary", false], ["classic", "classic", true], ["purine-pyrimidine", "purine-pyrimidine", false], ["greyscale", "greyscale", false], ["wes", "wes", false], ["verity", "verity", false], ["recombinant mutations colouring", "", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "sort", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "", "inputs": []}, {"model_class": "ConditionalWhen", "value": "--sort-by-id", "inputs": []}, {"model_class": "ConditionalWhen", "value": "--sort-by-mutation-number", "inputs": [{"model_class": "BooleanToolParameter", "name": "high_to_low", "argument": "--high-to-low", "type": "boolean", "label": "Invert sort order", "help": "If selected sort sequences from highest to lowest number of mutations instead of from lowest to highest.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--high-to-low", "falsevalue": ""}]}, {"model_class": "ConditionalWhen", "value": "--sort-by-mutations", "inputs": [{"model_class": "Repeat", "name": "positions", "type": "repeat", "title": "Sort on", "help": null, "default": 1, "min": 1, "max": "__Infinity__", "inputs": [{"model_class": "IntegerToolParameter", "name": "pos", "argument": null, "type": "integer", "label": "Sort (alphabetically) by base at position", "help": "", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}]}, {"model_class": "BooleanToolParameter", "name": "high_to_low", "argument": "--high-to-low", "type": "boolean", "label": "Invert resulting sort order", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--high-to-low", "falsevalue": ""}]}], "test_param": {"model_class": "SelectToolParameter", "name": "order", "argument": null, "type": "select", "label": "Order of samples in the plot", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "options": [["Go with default", "", false], ["Sort by sequence ID/label", "--sort-by-id", false], ["Sort by number of mutations", "--sort-by-mutation-number", false], ["Sort by bases at specified positions", "--sort-by-mutations", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "BooleanToolParameter", "name": "flip_vertical", "argument": "--flip-vertical", "type": "boolean", "label": "Flip plot orientation?", "help": "Flip the orientation of the plot so sequences are below the reference rather than above it.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--flip-vertical", "falsevalue": ""}]}, {"model_class": "Conditional", "name": "plot", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "jpg", "inputs": []}, {"model_class": "ConditionalWhen", "value": "pdf", "inputs": []}, {"model_class": "ConditionalWhen", "value": "png", "inputs": [{"model_class": "BooleanToolParameter", "name": "transparent_background", "argument": "--solid-background", "type": "boolean", "label": "Plot on transparent background?", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "", "falsevalue": "--solid-background"}]}, {"model_class": "ConditionalWhen", "value": "svg", "inputs": [{"model_class": "BooleanToolParameter", "name": "transparent_background", "argument": "--solid-background", "type": "boolean", "label": "Plot on transparent background?", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "", "falsevalue": "--solid-background"}]}, {"model_class": "ConditionalWhen", "value": "tiff", "inputs": [{"model_class": "BooleanToolParameter", "name": "transparent_background", "argument": "--solid-background", "type": "boolean", "label": "Plot on transparent background?", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "", "falsevalue": "--solid-background"}]}], "test_param": {"model_class": "SelectToolParameter", "name": "format", "argument": "--format", "type": "select", "label": "Plot output file format", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "png", "options": [["png", "png", true], ["jpg", "jpg", false], ["pdf", "pdf", false], ["svg", "svg", false], ["tiff", "tiff", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Section", "name": "dims", "type": "section", "title": "Customize plot dimensions", "help": null, "expanded": false, "inputs": [{"model_class": "FloatToolParameter", "name": "width", "argument": "--width", "type": "float", "label": "Figure width", "help": "Set to 0 to keep default figure width.", "refresh_on_change": false, "min": 0.0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "height", "argument": "--height", "type": "float", "label": "Figure height", "help": "Set to 0 to keep default figure height.", "refresh_on_change": false, "min": 0.0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "size_option", "argument": "--size-option", "type": "select", "label": "Plot sizing options", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "options": [["expand", "--size-option expand", false], ["scale", "", true]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "BooleanToolParameter", "name": "show_indels", "argument": "--show-indels", "type": "boolean", "label": "Try to plot indels", "help": "This is newly introduced functionality for which you may encounter bugs still.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--show-indels", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "write_snps", "argument": "--write-snps", "type": "boolean", "label": "Write out SNPs?", "help": "Produces extra CSV output with lists of SNPs per sequence in the alignment if enabled.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "-s", "falsevalue": ""}], "outputs": [{"model_class": "ToolOutput", "name": "snp_plot", "format": "png", "label": "snipit on ${on_string}: Plot", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "snp_plot.*", "edam_format": "format_3603", "edam_data": "data_2968", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "snps", "format": "csv", "label": "snipit on ${on_string}: SNPs", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "snps.csv", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "virology", "panel_section_name": "Virology", "form_style": "regular"}