{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/snipit/snipit/1.7+galaxy0", "name": "snipit", "version": "1.7+galaxy0", "description": "Summarise snps relative to a reference sequence", "labels": [], "icon": null, "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "snipit", "type": "bio.tools"}], "tool_shed_repository": {"name": "snipit", "owner": "iuc", "changeset_revision": "290071465e6e", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "alignment", "argument": null, "type": "data", "label": "Input alignment fasta file", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta"], "edam": {"edam_formats": ["format_1929"], "edam_data": ["data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Conditional", "name": "mode", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "nt", "inputs": [{"model_class": "Conditional", "name": "ref", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "first", "inputs": []}, {"model_class": "ConditionalWhen", "value": "by_id", "inputs": [{"model_class": "TextToolParameter", "name": "id", "argument": "--reference", "type": "text", "label": "ID of reference sequence", "help": "", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "select", "argument": null, "type": "select", "label": "The reference sequence ...", "help": "Please note that you will HAVE to specify the reference explicitly via its ID if you choose the 'recombinant mutations colouring' scheme and in this case the reference can NOT be one of the recombinant parents.", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "first", "options": [["is the first sequence in the input", "first", false], ["should be picked via its ID", "by_id", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "colouring", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "primary", "inputs": []}, {"model_class": "ConditionalWhen", "value": "classic", "inputs": []}, {"model_class": "ConditionalWhen", "value": "classic_extended", "inputs": []}, {"model_class": "ConditionalWhen", "value": "purine-pyrimidine", "inputs": []}, {"model_class": "ConditionalWhen", "value": "greyscale", "inputs": []}, {"model_class": "ConditionalWhen", "value": "wes", "inputs": []}, {"model_class": "ConditionalWhen", "value": "verity", "inputs": []}, {"model_class": "ConditionalWhen", "value": "", "inputs": [{"model_class": "TextToolParameter", "name": "parent1", "argument": null, "type": "text", "label": "Sequence ID of first recombinant parent sequence in alignment", "help": "", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "parent2", "argument": null, "type": "text", "label": "Sequence ID of second recombinant parent sequence in alignment", "help": "", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "palette", "argument": "--colour-palette", "type": "select", "label": "Plotted Mutations colouring scheme", "help": "Mutations can be coloured by base change or, alternatively, by their presence/absence in any of two parent sequences in the alignment (recombinant mode).", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "classic", "options": [["primary", "primary", false], ["classic", "classic", true], ["classic_extended (only scheme defining colours for ambiguous bases)", "classic_extended", false], ["purine-pyrimidine", "purine-pyrimidine", false], ["greyscale", "greyscale", false], ["wes", "wes", false], ["verity", "verity", false], ["recombinant mutations colouring", "", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "ConditionalWhen", "value": "aa", "inputs": [{"model_class": "Conditional", "name": "ref", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "first", "inputs": []}, {"model_class": "ConditionalWhen", "value": "by_id", "inputs": [{"model_class": "TextToolParameter", "name": "id", "argument": "--reference", "type": "text", "label": "ID of reference sequence", "help": "", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "select", "argument": null, "type": "select", "label": "The reference sequence ...", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "first", "options": [["is the first sequence in the input", "first", false], ["should be picked via its ID", "by_id", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "colouring", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "ugene", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "palette", "argument": "--colour-palette", "type": "select", "label": "Plotted Mutations colouring scheme", "help": "The only currently available colour scheme for protein sequences is 'ugene', which defines colours for the 20 AAs and all AA ambiguity symbols.", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "ugene", "options": [["ugene", "ugene", false]], "display": null, "multiple": false, "textable": false}}]}], "test_param": {"model_class": "SelectToolParameter", "name": "sequence_type", "argument": "--sequence-type", "type": "select", "label": "Type of input", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "nt", "options": [["DNA sequence alignment", "nt", false], ["Protein sequence alignment", "aa", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Section", "name": "pos_restrict", "type": "section", "title": "Restrict alignment positions to be plotted", "help": null, "expanded": true, "inputs": [{"model_class": "BooleanToolParameter", "name": "show_indels", "argument": "--show-indels", "type": "boolean", "label": "Include insertion and deletion mutations", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--show-indels", "falsevalue": ""}, {"model_class": "SelectToolParameter", "name": "ambig_mode", "argument": "--ambig-mode", "type": "select", "label": "Plotting of positions with ambiguity symbols", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "snps", "options": [["Treat ambiguity symbols like mutations; plot all such positions (all)", "all", false], ["Show ambiguity symbols for positions with mutations in other sequences (snps)", "snps", true], ["Never plot positions that involve ambiguous symbols (exclude)", "exclude", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "Repeat", "name": "include_positions", "type": "repeat", "title": "Restrict plot to specific regions/positions", "help": null, "default": 0, "min": 0, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "pos", "argument": "--include-positions", "type": "text", "label": "Include position/region", "help": "A range (closed, inclusive; one-indexed) or specific position to include in the output, e.g. '100-150' or '100'", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}, {"model_class": "Repeat", "name": "exclude_positions", "type": "repeat", "title": "Exclude specific regions/positions from plot", "help": null, "default": 0, "min": 0, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "pos", "argument": "--exclude-positions", "type": "text", "label": "Exclude position/region", "help": "A range (closed, inclusive; one-indexed) or specific position to exclude from the output, e.g. '100-150' or '100'; considered after any '--include-positions'.", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}]}, {"model_class": "Section", "name": "style", "type": "section", "title": "Customize rendering of samples and mutations", "help": null, "expanded": true, "inputs": [{"model_class": "Conditional", "name": "labels", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "", "inputs": []}, {"model_class": "ConditionalWhen", "value": "simple_csv", "inputs": [{"model_class": "DataToolParameter", "name": "source", "argument": "--labels", "type": "data", "label": "Labels mapping source", "help": "This expects a CSV dataset with two columns named 'name' and 'label' where the values in the 'name' column must have matches for all sequence IDs (including the reference) in the alignment input.", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["csv"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "custom_csv", "inputs": [{"model_class": "DataToolParameter", "name": "source", "argument": "--labels", "type": "data", "label": "Labels mapping source", "help": "Select a CSV dataset with an arbitrary number of named columns here and specify below which column contains the sequence IDs to be mapped and which one the labels to be used instead. The dataset must define mappings for all sequence IDs including the reference.", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["csv"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "TextToolParameter", "name": "names_column", "argument": null, "type": "text", "label": "Name of the sequence ID column", "help": "", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "labels_column", "argument": null, "type": "text", "label": "Name of the column with desired labels", "help": "", "help_format": "html", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "choose", "argument": "-l", "type": "select", "label": "Provide custom labels for sequences?", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "options": [["No, just use the sequence identifiers as labels in the plot", "", false], ["Yes, via a simple CSV dataset mapping names to labels", "simple_csv", false], ["Yes, via a custom CSV dataset with column specification", "custom_csv", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "BooleanToolParameter", "name": "position_labels", "argument": null, "type": "boolean", "label": "Label plotted sites with position", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "", "falsevalue": "--remove-site-text"}, {"model_class": "Conditional", "name": "sort", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "", "inputs": []}, {"model_class": "ConditionalWhen", "value": "--sort-by-id", "inputs": []}, {"model_class": "ConditionalWhen", "value": "--sort-by-mutation-number", "inputs": [{"model_class": "BooleanToolParameter", "name": "high_to_low", "argument": "--high-to-low", "type": "boolean", "label": "Invert sort order", "help": "If selected sort sequences from highest to lowest number of mutations instead of from lowest to highest.", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--high-to-low", "falsevalue": ""}]}, {"model_class": "ConditionalWhen", "value": "--sort-by-mutations", "inputs": [{"model_class": "Repeat", "name": "positions", "type": "repeat", "title": "Sort on", "help": null, "default": 1, "min": 1, "max": "__Infinity__", "inputs": [{"model_class": "IntegerToolParameter", "name": "pos", "argument": null, "type": "integer", "label": "Sort (alphabetically) by base at position", "help": "", "help_format": "html", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}]}, {"model_class": "BooleanToolParameter", "name": "high_to_low", "argument": "--high-to-low", "type": "boolean", "label": "Invert resulting sort order", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--high-to-low", "falsevalue": ""}]}], "test_param": {"model_class": "SelectToolParameter", "name": "order", "argument": null, "type": "select", "label": "Order of samples in the plot", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "options": [["Go with default", "", false], ["Sort by sequence ID/label", "--sort-by-id", false], ["Sort by number of mutations", "--sort-by-mutation-number", false], ["Sort by bases at specified positions", "--sort-by-mutations", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "BooleanToolParameter", "name": "flip_vertical", "argument": "--flip-vertical", "type": "boolean", "label": "Flip plot orientation?", "help": "Flip the orientation of the plot so sequences are below the reference rather than above it.", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--flip-vertical", "falsevalue": ""}]}, {"model_class": "Conditional", "name": "plot", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "jpg", "inputs": []}, {"model_class": "ConditionalWhen", "value": "pdf", "inputs": []}, {"model_class": "ConditionalWhen", "value": "png", "inputs": [{"model_class": "BooleanToolParameter", "name": "transparent_background", "argument": "--solid-background", "type": "boolean", "label": "Plot on transparent background?", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "", "falsevalue": "--solid-background"}]}, {"model_class": "ConditionalWhen", "value": "svg", "inputs": [{"model_class": "BooleanToolParameter", "name": "transparent_background", "argument": "--solid-background", "type": "boolean", "label": "Plot on transparent background?", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "", "falsevalue": "--solid-background"}]}, {"model_class": "ConditionalWhen", "value": "tiff", "inputs": [{"model_class": "BooleanToolParameter", "name": "transparent_background", "argument": "--solid-background", "type": "boolean", "label": "Plot on transparent background?", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "", "falsevalue": "--solid-background"}]}], "test_param": {"model_class": "SelectToolParameter", "name": "format", "argument": "--format", "type": "select", "label": "Plot output file format", "help": "", "help_format": "html", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "png", "options": [["png", "png", true], ["jpg", "jpg", false], ["pdf", "pdf", false], ["svg", "svg", false], ["tiff", "tiff", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Section", "name": "dims", "type": "section", "title": "Customize plot dimensions", "help": null, "expanded": false, "inputs": [{"model_class": "FloatToolParameter", "name": "width", "argument": "--width", "type": "float", "label": "Figure width", "help": "Set to 0 to keep default figure width.", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "height", "argument": "--height", "type": "float", "label": "Figure height", "help": "Set to 0 to keep default figure height.", "help_format": "html", "refresh_on_change": false, "min": 0.0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "size_option", "argument": "--size-option", "type": "select", "label": "Plot sizing options", "help": "", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "options": [["expand", "--size-option expand", false], ["scale", "", true]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "BooleanToolParameter", "name": "write_snps", "argument": "--write-snps", "type": "boolean", "label": "Write out SNPs?", "help": "Produces extra CSV output with lists of SNPs per sequence in the alignment if enabled.", "help_format": "html", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "-s", "falsevalue": ""}], "outputs": [{"model_class": "ToolOutput", "name": "snp_plot", "format": "png", "label": "snipit on ${on_string}: Plot", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": null, "parent": null, "count": 1, "from_work_dir": "snp_plot.*", "edam_format": "format_3603", "edam_data": "data_2968", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "snps", "format": "csv", "label": "snipit on ${on_string}: SNPs", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": null, "parent": null, "count": 1, "from_work_dir": "snps.csv", "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": []}], "panel_section_id": "virology", "panel_section_name": "Virology", "form_style": "regular"}