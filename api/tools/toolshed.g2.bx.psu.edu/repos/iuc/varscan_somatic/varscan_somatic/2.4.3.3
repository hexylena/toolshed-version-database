{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/varscan_somatic/varscan_somatic/2.4.3.3", "name": "VarScan somatic", "version": "2.4.3.3", "description": "Call germline/somatic and LOH variants from tumor-normal sample pairs", "labels": [], "edam_operations": ["operation_3227"], "edam_topics": ["topic_3168", "topic_2885"], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "varscan", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "varscan_somatic", "owner": "iuc", "changeset_revision": "2657ab48e16a", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "Conditional", "name": "reference", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "cached", "inputs": [{"model_class": "SelectToolParameter", "name": "genome", "argument": null, "type": "select", "label": "reference genome", "help": "The fasta reference genome that variants should be called against.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": true, "value": "hg19", "options": [["Human (Homo sapiens): hg19", "hg19", false], ["Human (Homo sapiens): hg18 Full", "hg18full", false], ["Mouse (Mus musculus): mm10 Full", "mm10full", false], ["Mouse (Mus musculus): mm9 Full", "mm9full", false], ["Fly (Drosophila melanogaster): dm3 Full", "dm3full", false], ["Fly (Drosophila melanogaster): dm6 Full", "dm6full", false], ["Zebrafish Jul. 2010 (Zv9/danRer7) (danRer7)", "danRer7", false], ["Zebrafish Sep. 2014 (GRCz10/danRer10) (danRer10)", "danRer10", false], ["Arabidopsis thaliana (TAIR10)", "TAIR10", false], ["Mouse (Mus Musculus): mm9 Full", "mm9", false], ["Mouse (Mus musculus): mm9 with ERCC spike-in", "mm9_ERCC", false], ["Human Dec. 2013 (GRCh38/hg38) (hg38)", "hg38", false], ["Human (Homo sapiens): hg19 Canonical", "hg19canon", false], ["Human (Homo sapiens): hg19 Full", "hg19full", false], ["Mouse (Mus musculus): mm9 Canonical", "mm9canon", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "history", "inputs": [{"model_class": "DataToolParameter", "name": "genome", "argument": null, "type": "data", "label": "reference genome", "help": "The fasta reference genome that variants should be called against.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fasta"], "edam": {"edam_formats": ["format_1929"], "edam_data": ["data_2044"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "source", "argument": null, "type": "select", "label": "Will you select a reference genome from your history or use a built-in genome?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "cached", "options": [["Use a built-in genome", "cached", false], ["Use a genome from my history", "history", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "DataToolParameter", "name": "normal_bam", "argument": null, "type": "data", "label": "aligned reads from normal sample", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bam"], "edam": {"edam_formats": ["format_2572"], "edam_data": ["data_0863"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "tumor_bam", "argument": null, "type": "data", "label": "aligned reads from tumor sample", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bam"], "edam": {"edam_formats": ["format_2572"], "edam_data": ["data_0863"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "FloatToolParameter", "name": "normal_purity", "argument": "--normal-purity", "type": "float", "label": "Estimated purity (non-tumor content) of normal sample", "help": "", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "1.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "tumor_purity", "argument": "--tumor-purity", "type": "float", "label": "Estimated purity (tumor content) of tumor sample", "help": "", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "1.0", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "split_output", "argument": null, "type": "boolean", "label": "Generate separate output datasets for SNP and indel calls?", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--split-output", "falsevalue": ""}, {"model_class": "Conditional", "name": "call_params", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "custom", "inputs": [{"model_class": "IntegerToolParameter", "name": "min_avg_qual", "argument": "samtools mpileup -Q", "type": "integer", "label": "Minimum base quality", "help": "The minimum base quality at the variant position required to use a read for calling", "refresh_on_change": false, "min": 0, "max": 50, "optional": false, "hidden": false, "is_dynamic": false, "value": "13", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_mapqual", "argument": "samtools mpileup -q", "type": "integer", "label": "Minimum mapping quality", "help": "The minimum mapping quality required for a read to be considered in variant calling", "refresh_on_change": false, "min": 0, "max": 60, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_coverage", "argument": "--min-coverage", "type": "integer", "label": "Minimum coverage", "help": "Minimum site coverage required in the normal and in the tumor sample to call a variant. This threshold gets applied after eliminating reads with low base and mapping qualitiy as defined above.", "refresh_on_change": false, "min": 1, "max": 200, "optional": false, "hidden": false, "is_dynamic": false, "value": "8", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_reads2", "argument": "--min-reads2", "type": "integer", "label": "Minimum supporting reads", "help": "Minimum number of variant-supporting reads at a position required to make a call", "refresh_on_change": false, "min": 1, "max": 200, "optional": false, "hidden": false, "is_dynamic": false, "value": "2", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "min_var_freq", "argument": "--min-var-freq", "type": "float", "label": "Minimum variant allele frequency", "help": "Minimum variant allele frequency required for calling a variant", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.1", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "min_freq_for_hom", "argument": "--min-freq-for-hom", "type": "float", "label": "Minimum homozygous variant allele frequency", "help": "Minimum variant allele frequency required for calling a homozygous genotype", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.75", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "p_value", "argument": "--p-value", "type": "float", "label": "p-value threshold for calling variants", "help": "The p-value threshold used to determine if a variant should be called for either sample", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.99", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "somatic_p_value", "argument": "--somatic-p-value", "type": "float", "label": "P-value threshold for calling somatic variants and LOH events", "help": "The p-value threshold used to determine if read count differences between the normal and the tumor sample justify classification of a variant as somatic or as an LOH event", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.05", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "varscan_defaults", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "settings", "argument": null, "type": "select", "label": "Settings for Variant Calling", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "varscan_defaults", "options": [["Use default values", "varscan_defaults", true], ["Customize settings", "custom", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "filter_params", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "varscan_defaults", "inputs": []}, {"model_class": "ConditionalWhen", "value": "dream3_settings", "inputs": []}, {"model_class": "ConditionalWhen", "value": "no_filter", "inputs": []}, {"model_class": "ConditionalWhen", "value": "custom", "inputs": [{"model_class": "IntegerToolParameter", "name": "min_var_count", "argument": "--min-var-count", "type": "integer", "label": "Minimum number of variant-supporting reads", "help": "", "refresh_on_change": false, "min": 1, "max": 200, "optional": false, "hidden": false, "is_dynamic": false, "value": "4", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_var_count_lc", "argument": "--min-var-count-lc", "type": "integer", "label": "Low coverage minimum number of variant-supporting reads", "help": "Will be applied instead of the --min-var-count limit for sites with poor overall (less than --max-somatic-p-depth) coverage", "refresh_on_change": false, "min": 1, "max": 200, "optional": false, "hidden": false, "is_dynamic": false, "value": "2", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "min_var_freq2", "argument": "--min-var-freq", "type": "float", "label": "Minimum variant allele frequency", "help": "", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.05", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "max_somatic_p", "argument": "--max-somatic-p", "type": "float", "label": "Maximum somatic p-value allowed for a somatic call", "help": "", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.05", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "max_somatic_p_depth", "argument": "--max-somatic-p-depth", "type": "integer", "label": "Depth required at variant site to run --max-somatic-p filter", "help": "", "refresh_on_change": false, "min": 2, "max": 200, "optional": false, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "min_ref_readpos", "argument": "--min-ref-readpos", "type": "float", "label": "Minimum relative variant position in ref-supporting reads", "help": "The minimum average relative distance from the ends of ref-supporting reads required for variant sites", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.1", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "min_var_readpos", "argument": "--min-var-readpos", "type": "float", "label": "Minimum relative variant position in variant-supporting reads", "help": "The minimum average relative distance from the ends of variant-supporting reads required for variant sites", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.1", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "min_ref_dist3", "argument": "--min-ref-dist3", "type": "float", "label": "Minimum distance of variant site from 3'-end of ref-supporting reads", "help": "The minimum average relative distance from the effective 3'end of ref-supporting reads required for variant sites", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.1", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "min_var_dist3", "argument": "--min-var-dist3", "type": "float", "label": "Minimum distance of variant site from 3'-end of variant-supporting reads", "help": "The minimum average relative distance from the effective 3'end of variant-supporting reads required for variant sites", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.1", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_ref_len", "argument": "--min-ref-avgrl", "type": "integer", "label": "Minimum length of ref-supporting reads", "help": "The minimum average trimmed length required for reads supporting the reference allele", "refresh_on_change": false, "min": 0, "max": 200, "optional": false, "hidden": false, "is_dynamic": false, "value": "90", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_var_len", "argument": "--min-var-avgrl", "type": "integer", "label": "Minimum length of variant-supporting reads", "help": "The minimum average trimmed length required for reads supporting the variant allele", "refresh_on_change": false, "min": 0, "max": 200, "optional": false, "hidden": false, "is_dynamic": false, "value": "90", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "max_len_diff", "argument": "--max-rl-diff", "type": "float", "label": "Maximum relative read length difference", "help": "The maximum allowed average relative read length difference (ref - var) between reads supporting the reference and the variant allele", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.25", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "min_strandedness", "argument": "--min-strandedness", "type": "float", "label": "Minimum fraction of variant reads from each strand", "help": "The minimum fraction of variant reads that are required to come from the forward and from the reverse strand", "refresh_on_change": false, "min": 0.0, "max": 0.5, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.01", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_strand_reads", "argument": "--min-strand-reads", "type": "integer", "label": "Minimum variant allele depth required to apply the --min-strandedness filter", "help": "", "refresh_on_change": false, "min": 2, "max": 200, "optional": false, "hidden": false, "is_dynamic": false, "value": "5", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_ref_basequal", "argument": "--min-ref-basequal", "type": "integer", "label": "Minimum average base quality for the ref allele", "help": "The minimum average base quality required at the variant site for reads supporting the reference allele", "refresh_on_change": false, "min": 1, "max": 50, "optional": false, "hidden": false, "is_dynamic": false, "value": "15", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_var_basequal", "argument": "--min-var-basequal", "type": "integer", "label": "Minimum average base quality for the variant allele", "help": "The minimum average base quality required at the variant site for reads supporting the variant allele", "refresh_on_change": false, "min": 1, "max": 50, "optional": false, "hidden": false, "is_dynamic": false, "value": "15", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "max_basequal_diff", "argument": "max-basequal-diff", "type": "integer", "label": "Maximum base quality difference between ref- and variant-supporting reads", "help": "The maximum average base quality difference (ref - var) allowed between the variant site positions of reads supporting the reference and the variant allele", "refresh_on_change": false, "min": 0, "max": 50, "optional": false, "hidden": false, "is_dynamic": false, "value": "50", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_ref_mapqual", "argument": "--min-ref-mapqual", "type": "integer", "label": "Minimum average mapping quality of ref-supporting reads", "help": "The minimum average mapping quality required for reads supporting the reference allele", "refresh_on_change": false, "min": 1, "max": 60, "optional": false, "hidden": false, "is_dynamic": false, "value": "15", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_var_mapqual", "argument": "--min-var-mapqual", "type": "integer", "label": "Minimum average mapping quality of variant-supporting reads", "help": "The minimum average mapping quality required for reads supporting the variant allele", "refresh_on_change": false, "min": 1, "max": 60, "optional": false, "hidden": false, "is_dynamic": false, "value": "15", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "max_mapqual_diff", "argument": "--max-mapqual-diff", "type": "integer", "label": "Maximum mapping quality difference between ref- and variant-supporting reads", "help": "The maximum average mapping quality difference (ref - var) allowed between reads supporting the reference and the variant allele", "refresh_on_change": false, "min": 0, "max": 60, "optional": false, "hidden": false, "is_dynamic": false, "value": "50", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "max_ref_mmqs", "argument": "--max-ref-mmqs", "type": "integer", "label": "Maximum mismatch base quality sum of ref-supporting reads", "help": "The maximum mismatch base quality sum allowed for reads supporting the reference allele", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "100", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "max_var_mmqs", "argument": "--max-var-mmqs", "type": "integer", "label": "Maximum mismatch base quality sum of var-supporting reads", "help": "The maximum mismatch base quality sum allowed for reads supporting the variant allele", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "100", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_mmqs_diff", "argument": "--min-mmqs-diff", "type": "integer", "label": "Minimum difference between mismatch base quality sums of variant- and ref-supporting reads", "help": "The minimum difference in the mismatch base quality sums (var - ref) required between reads supporting the variant and the reference allele", "refresh_on_change": false, "min": 0, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "max_mmqs_diff", "argument": "--max-mmqs-diff", "type": "integer", "label": "Maximum difference between mismatch base quality sums of variant- and ref-supporting reads", "help": "The maximum difference in the mismatch base quality sums (var - ref) allowed between reads supporting the variant and the reference allele", "refresh_on_change": false, "min": 1, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "50", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "settings", "argument": null, "type": "select", "label": "Settings for Posterior Variant Filtering", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "varscan_defaults", "options": [["Use default values", "varscan_defaults", true], ["Use settings optimized for DREAM-3", "dream3_settings", false], ["Do not perform posterior filtering", "no_filter", false], ["Customize settings", "custom", false]], "display": null, "multiple": false, "textable": false}}], "outputs": [{"model_class": "ToolOutput", "name": "output", "format": "vcf", "label": "", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3016", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "output_snp", "format": "vcf", "label": "Varscan somatic SNP calls on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "variants_out.snp", "edam_format": "format_3016", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "output_indel", "format": "vcf", "label": "Varscan somatic indel calls on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "variants_out.indel", "edam_format": "format_3016", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "variant_calling", "panel_section_name": "Variant Calling", "form_style": "regular"}