{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/iuc/seurat_plot/seurat_plot/5.0+galaxy0", "name": "Seurat Visualize", "version": "5.0+galaxy0", "description": "- Plot cells, features and dimensions", "labels": [], "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "seurat_plot", "owner": "iuc", "changeset_revision": "2622dd85416f", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "seurat_rds", "argument": null, "type": "data", "label": "Input file with the Seurat object", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["rds"], "edam": {"edam_formats": ["format_2333"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "SelectToolParameter", "name": "plot_format", "argument": null, "type": "select", "label": "Format of plot to produce", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "png", "options": [["png", "png", false], ["pdf", "pdf", false], ["svg", "svg", false], ["jpeg", "jpeg", false], ["tex", "tex", false], ["tiff", "tiff", false], ["eps", "eps", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "Conditional", "name": "method", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "VlnPlot", "inputs": [{"model_class": "TextToolParameter", "name": "features", "argument": "features", "type": "text", "label": "Features to plot", "help": "as variables on y-axis, comma-separated list e.g. nCount_RNA, percent.mt", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "nFeature_RNA", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "idents", "argument": "idents", "type": "text", "label": "Ident classes to display on plot", "help": "as category on x-axis, defauts to all", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "sort", "argument": "sort", "type": "boolean", "label": "Sort identity classes by average expression", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "Section", "name": "plot", "type": "section", "title": "Plot Formatting Options", "help": null, "expanded": false, "inputs": [{"model_class": "IntegerToolParameter", "name": "ncol", "argument": "ncol", "type": "integer", "label": "Number of columns to display", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "cols", "argument": "cols", "type": "text", "label": "Colours to use for plotting", "help": "comma separated list", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "pt_size", "argument": null, "type": "float", "label": "Point size for plot", "help": "(pt.size)", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "alpha", "argument": "alpha", "type": "integer", "label": "Alpha value for points", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "adjust", "argument": "adjust", "type": "integer", "label": "Adjust parameter for geom_violin", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "y_max", "argument": null, "type": "float", "label": "Maximum y axis value", "help": "(y.max)", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "same_y_lims", "argument": null, "type": "boolean", "label": "Set all y-axis limits to same value", "help": "when plotting multiple features (same.y.lims)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "BooleanToolParameter", "name": "log", "argument": "log", "type": "boolean", "label": "Plot on a log scale", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "SelectToolParameter", "name": "fill_by", "argument": null, "type": "select", "label": "Colour violins by feature or ident", "help": "(fill.by)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "feature", "options": [["feature", "feature", true], ["ident", "ident", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "BooleanToolParameter", "name": "flip", "argument": "flip", "type": "boolean", "label": "Flip plot orientation", "help": "puts identities on y-axis", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "BooleanToolParameter", "name": "add_noise", "argument": null, "type": "boolean", "label": "Add a small noise for plotting", "help": "(add.noise)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "TRUE", "falsevalue": "FALSE"}]}, {"model_class": "Section", "name": "adv", "type": "section", "title": "Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "assay", "argument": "assay", "type": "text", "label": "Name of assay to use", "help": "leave blank to use default assay", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "layer", "argument": "layer", "type": "text", "label": "Layer to pull data from", "help": "leave blank to use default", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "group_by", "argument": null, "type": "text", "label": "Factor to group cells by", "help": "(group.by)", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "split_by", "argument": null, "type": "text", "label": "Factor or identity to split the plot by", "help": "(split.by)", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "split_plot", "argument": null, "type": "boolean", "label": "Plot each group of a split plot as multiple violin shapes", "help": "(split.plot)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "BooleanToolParameter", "name": "stack", "argument": "stack", "type": "boolean", "label": "Horizontally stack plots for each feature", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}]}]}, {"model_class": "ConditionalWhen", "value": "FeatureScatter", "inputs": [{"model_class": "TextToolParameter", "name": "feature1", "argument": "feature1", "type": "text", "label": "First feature to plot", "help": "on x-axis", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "nCount_RNA", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "feature2", "argument": "feature2", "type": "text", "label": "Second feature to plot", "help": "on y-axis", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "nFeature_RNA", "area": false, "datalist": []}, {"model_class": "Section", "name": "plot", "type": "section", "title": "Plot Formatting Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "cols", "argument": "cols", "type": "text", "label": "Colours to use for plotting", "help": "comma separated list", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "pt_size", "argument": null, "type": "float", "label": "Point size for plot", "help": "(pt.size)", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "Conditional", "name": "shuffle", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "TRUE", "inputs": [{"model_class": "IntegerToolParameter", "name": "seed", "argument": "seed", "type": "integer", "label": "Set random seed for shuffling", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "FALSE", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "shuffle", "argument": "shuffle", "type": "select", "label": "Randomly shuffle order of points", "help": "can help with crowded plots if points of interest are hidden", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "FALSE", "options": [["Yes", "TRUE", false], ["No", "FALSE", true]], "display": null, "multiple": false, "textable": false}}, {"model_class": "BooleanToolParameter", "name": "smooth", "argument": "smooth", "type": "boolean", "label": "Smooth the graph", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "BooleanToolParameter", "name": "plot_cor", "argument": null, "type": "boolean", "label": "Display correlation in plot title", "help": "(plot.cor)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "IntegerToolParameter", "name": "ncol", "argument": "ncol", "type": "integer", "label": "Number of columns to display", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "Conditional", "name": "raster", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "NULL", "inputs": []}, {"model_class": "ConditionalWhen", "value": "TRUE", "inputs": [{"model_class": "IntegerToolParameter", "name": "raster_x", "argument": null, "type": "integer", "label": "Horizontal length of raster plot (pixels)", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "512", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "raster_y", "argument": null, "type": "integer", "label": "Vertical height of raster plot (pixels)", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "512", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "FALSE", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "raster", "argument": "raster", "type": "select", "label": "Convert points to raster format", "help": "NULL will automatically use raster if more than 100,000 points plotted", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "NULL", "options": [["NULL", "NULL", true], ["TRUE", "TRUE", false], ["FALSE", "FALSE", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "BooleanToolParameter", "name": "log", "argument": "log", "type": "boolean", "label": "Plot on a log scale", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "BooleanToolParameter", "name": "jitter", "argument": "jitter", "type": "boolean", "label": "Jitter for easier visualization of crowded points", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}]}, {"model_class": "Section", "name": "adv", "type": "section", "title": "Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "DataToolParameter", "name": "cells", "argument": "cells", "type": "data", "label": "List of cells to include on plot", "help": "text file with one cell on each line", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["txt", "tabular"], "edam": {"edam_formats": ["format_2330", "format_3475"], "edam_data": ["data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "SelectToolParameter", "name": "slot", "argument": "slot", "type": "select", "label": "Slot to pull data from", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "data", "options": [["counts", "counts", false], ["data", "data", true], ["scale.data", "scale.data", false], ["raw.data", "raw.data", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "TextToolParameter", "name": "group_by", "argument": null, "type": "text", "label": "Factor to group cells by", "help": "(group.by)", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "split_by", "argument": null, "type": "text", "label": "Factor or identity to split the plot by", "help": "(split.by)", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "span", "argument": "span", "type": "boolean", "label": "Spline span in loess function call", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "NULL"}]}]}, {"model_class": "ConditionalWhen", "value": "CellScatter", "inputs": [{"model_class": "TextToolParameter", "name": "cell1", "argument": "cell1", "type": "text", "label": "First cell to plot", "help": "on x-axis", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "cell 1", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "cell2", "argument": "cell2", "type": "text", "label": "Second cell to plot", "help": "on y-axis", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "cell 2", "area": false, "datalist": []}, {"model_class": "DataToolParameter", "name": "features", "argument": "features", "type": "data", "label": "List of features to plot", "help": "text file with one feature on each line, default is all features", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["txt", "tabular"], "edam": {"edam_formats": ["format_2330", "format_3475"], "edam_data": ["data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "TextToolParameter", "name": "highlight", "argument": "highlight", "type": "text", "label": "Features to highlight", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "label_points", "argument": null, "type": "boolean", "label": "Label highlighted features", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "Section", "name": "plot", "type": "section", "title": "Plot Formatting Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "cols", "argument": "cols", "type": "text", "label": "Colours to use for plotting", "help": "comma separated list", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "pt_size", "argument": null, "type": "float", "label": "Point size for plot", "help": "(pt.size)", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "smooth", "argument": "smooth", "type": "boolean", "label": "Smooth the graph", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "Conditional", "name": "raster", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "NULL", "inputs": []}, {"model_class": "ConditionalWhen", "value": "TRUE", "inputs": [{"model_class": "IntegerToolParameter", "name": "raster_x", "argument": null, "type": "integer", "label": "Horizontal length of raster plot (pixels)", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "512", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "raster_y", "argument": null, "type": "integer", "label": "Vertical height of raster plot (pixels)", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "512", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "FALSE", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "raster", "argument": "raster", "type": "select", "label": "Convert points to raster format", "help": "NULL will automatically use raster if more than 100,000 points plotted", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "NULL", "options": [["NULL", "NULL", true], ["TRUE", "TRUE", false], ["FALSE", "FALSE", false]], "display": null, "multiple": false, "textable": false}}]}]}, {"model_class": "ConditionalWhen", "value": "VariableFeaturePlot", "inputs": [{"model_class": "TextToolParameter", "name": "assay", "argument": "assay", "type": "text", "label": "Name of assay to use", "help": "leave blank to use default assay", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "Conditional", "name": "label_topN", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "true", "inputs": [{"model_class": "IntegerToolParameter", "name": "topN", "argument": null, "type": "integer", "label": "Number to show", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "false", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "label_topN", "argument": null, "type": "select", "label": "Label the top most variable features", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "false", "options": [["Yes", "true", false], ["No", "false", true]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Section", "name": "plot", "type": "section", "title": "Plot Formatting Options", "help": null, "expanded": false, "inputs": [{"model_class": "SelectToolParameter", "name": "cols_1", "argument": null, "type": "select", "label": "Colour for non-variable genes", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "black", "options": [["black", "black", true], ["grey", "grey", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "cols_2", "argument": null, "type": "select", "label": "Colour for variable genes", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "red", "options": [["red", "red", true], ["blue", "blue", false], ["green", "green", false], ["orange", "orange", false], ["magenta", "magenta", false], ["purple", "purple", false], ["black", "black", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "FloatToolParameter", "name": "pt_size", "argument": null, "type": "float", "label": "Point size for plot", "help": "(pt.size)", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "log", "argument": "log", "type": "boolean", "label": "Plot the x-axis in log scale", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "NULL"}, {"model_class": "Conditional", "name": "raster", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "NULL", "inputs": []}, {"model_class": "ConditionalWhen", "value": "TRUE", "inputs": [{"model_class": "IntegerToolParameter", "name": "raster_x", "argument": null, "type": "integer", "label": "Horizontal length of raster plot (pixels)", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "512", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "raster_y", "argument": null, "type": "integer", "label": "Vertical height of raster plot (pixels)", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "512", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "FALSE", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "raster", "argument": "raster", "type": "select", "label": "Convert points to raster format", "help": "NULL will automatically use raster if more than 100,000 points plotted", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "NULL", "options": [["NULL", "NULL", true], ["TRUE", "TRUE", false], ["FALSE", "FALSE", false]], "display": null, "multiple": false, "textable": false}}]}]}, {"model_class": "ConditionalWhen", "value": "VizDimLoadings", "inputs": [{"model_class": "IntegerToolParameter", "name": "dims", "argument": "dims", "type": "integer", "label": "Number of dimensions to display", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "nfeatures", "argument": "nfeatures", "type": "integer", "label": "Number of genes to display", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "30", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "reduction", "argument": "reduction", "type": "text", "label": "Name of reduction to use", "help": "default is pca", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "pca", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "projected", "argument": "projected", "type": "boolean", "label": "Use reduction values for full dataset", "help": "i.e. projected dimensional reduction values", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "BooleanToolParameter", "name": "balanced", "argument": "balanced", "type": "boolean", "label": "Return an equal number of genes with + and - scores", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "Section", "name": "plot", "type": "section", "title": "Plot Formatting Options", "help": null, "expanded": false, "inputs": [{"model_class": "SelectToolParameter", "name": "col", "argument": "col", "type": "select", "label": "Colour to use for points", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "blue", "options": [["blue", "blue", true], ["red", "red", false], ["green", "green", false], ["orange", "orange", false], ["magenta", "magenta", false], ["purple", "purple", false], ["grey", "grey", false], ["black", "black", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "IntegerToolParameter", "name": "ncol", "argument": "ncol", "type": "integer", "label": "Number of columns to display", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "DimPlot", "inputs": [{"model_class": "IntegerToolParameter", "name": "dims_1", "argument": null, "type": "integer", "label": "Dimension to plot on x axis", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "dims_2", "argument": null, "type": "integer", "label": "Dimension to plot on y axis", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "2", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "reduction", "argument": "reduction", "type": "text", "label": "Name of reduction to use", "help": "first defaults to umap, then tsne, then pca", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "umap", "area": false, "datalist": []}, {"model_class": "Section", "name": "plot", "type": "section", "title": "Plot Formatting Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "cols", "argument": "cols", "type": "text", "label": "Colours to use for plotting", "help": "comma separated list", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "pt_size", "argument": null, "type": "float", "label": "Point size for plot", "help": "(pt.size)", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "order", "argument": "order", "type": "text", "label": "Specify the order of plotting for the idents", "help": "a full comma-separated list or the ident to be plotted last on the top", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "Conditional", "name": "shuffle", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "TRUE", "inputs": [{"model_class": "IntegerToolParameter", "name": "seed", "argument": "seed", "type": "integer", "label": "Set random seed for shuffling", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "FALSE", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "shuffle", "argument": "shuffle", "type": "select", "label": "Randomly shuffle order of points", "help": "can help with crowded plots if points of interest are hidden", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "FALSE", "options": [["Yes", "TRUE", false], ["No", "FALSE", true]], "display": null, "multiple": false, "textable": false}}, {"model_class": "IntegerToolParameter", "name": "alpha", "argument": "alpha", "type": "integer", "label": "Alpha value for points", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "ncol", "argument": "ncol", "type": "integer", "label": "Number of columns to display", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "Conditional", "name": "raster", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "NULL", "inputs": []}, {"model_class": "ConditionalWhen", "value": "TRUE", "inputs": [{"model_class": "IntegerToolParameter", "name": "raster_x", "argument": null, "type": "integer", "label": "Horizontal length of raster plot (pixels)", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "512", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "raster_y", "argument": null, "type": "integer", "label": "Vertical height of raster plot (pixels)", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "512", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "FALSE", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "raster", "argument": "raster", "type": "select", "label": "Convert points to raster format", "help": "NULL will automatically use raster if more than 100,000 points plotted", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "NULL", "options": [["NULL", "NULL", true], ["TRUE", "TRUE", false], ["FALSE", "FALSE", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "label", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "TRUE", "inputs": [{"model_class": "IntegerToolParameter", "name": "label_size", "argument": null, "type": "integer", "label": "Set size of labels", "help": "(label.size)", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "4", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "label_color", "argument": null, "type": "select", "label": "Set colour of label text", "help": "(label.color)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "black", "options": [["black", "black", true], ["grey", "grey", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "BooleanToolParameter", "name": "label_box", "argument": null, "type": "boolean", "label": "Put a box around each label", "help": "(label.box)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "BooleanToolParameter", "name": "repel", "argument": "repel", "type": "boolean", "label": "Repel labels", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}]}, {"model_class": "ConditionalWhen", "value": "FALSE", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "label", "argument": "label", "type": "select", "label": "Add labels to the clusters", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "FALSE", "options": [["Yes", "TRUE", false], ["No", "FALSE", true]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "highlight", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "true", "inputs": [{"model_class": "TextToolParameter", "name": "cells_highlight", "argument": null, "type": "text", "label": "List of cells to highlight", "help": "comma-separated list of e.g. barcodes, clusters, groups (cells.highlight)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "cols_highlight", "argument": null, "type": "select", "label": "Colour for highlighted cells", "help": "other cells will be black (cols.highlight)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "blue", "options": [["blue", "blue", true], ["red", "red", false], ["green", "green", false], ["orange", "orange", false], ["magenta", "magenta", false], ["purple", "purple", false], ["grey", "grey", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "IntegerToolParameter", "name": "sizes_highlight", "argument": null, "type": "integer", "label": "Size of highlighted cells", "help": "(sizes.highlight)", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "false", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "highlight", "argument": null, "type": "select", "label": "Highlight group(s) of cells", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "false", "options": [["Yes", "true", false], ["No", "false", true]], "display": null, "multiple": false, "textable": false}}, {"model_class": "SelectToolParameter", "name": "na_value", "argument": null, "type": "select", "label": "Colour for NA points when using custom scale", "help": "(na.value)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "lightgrey", "options": [["lightgrey", "lightgrey", true], ["grey", "grey", false], ["black", "black", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "Section", "name": "adv", "type": "section", "title": "Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "DataToolParameter", "name": "cells", "argument": "cells", "type": "data", "label": "List of cells to include on plot", "help": "text file with one cell on each line", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["txt", "tabular"], "edam": {"edam_formats": ["format_2330", "format_3475"], "edam_data": ["data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "TextToolParameter", "name": "group_by", "argument": null, "type": "text", "label": "Factor to group cells by", "help": "(group.by)", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "split_by", "argument": null, "type": "text", "label": "Factor or identity to split the plot by", "help": "(split.by)", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "shape_by", "argument": null, "type": "text", "label": "Shape points by a group or identity", "help": "only when not saving as raster (shape.by)", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "DimHeatmap", "inputs": [{"model_class": "TextToolParameter", "name": "dims", "argument": "dims", "type": "text", "label": "Dimensions from reduction to plot", "help": "enter one or a range of dimensions e.g. 3 to plot dim 3, 1:10 to plot dims 1 to 10", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "1:10", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "nfeatures", "argument": "nfeatures", "type": "integer", "label": "Number of genes to plot", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "30", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "reduction", "argument": "reduction", "type": "text", "label": "Name of reduction to use", "help": "default is pca", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "pca", "area": false, "datalist": []}, {"model_class": "Section", "name": "plot", "type": "section", "title": "Plot Formatting Options", "help": null, "expanded": false, "inputs": [{"model_class": "FloatToolParameter", "name": "disp_min", "argument": null, "type": "float", "label": "Minimum display value", "help": "all values below are clipped (disp.min)", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "-2.5", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "disp_max", "argument": null, "type": "float", "label": "Maximum display value", "help": "all values above are clipped. Defaults to 2.5 if slot is scale.data, otherwise defaults to 6 (disp.max)", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "ncol", "argument": "ncol", "type": "integer", "label": "Number of columns to display", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "raster", "argument": "raster", "type": "boolean", "label": "Convert to raster format", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "TRUE", "falsevalue": "FALSE"}]}, {"model_class": "Section", "name": "adv", "type": "section", "title": "Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "IntegerToolParameter", "name": "cells", "argument": "cells", "type": "integer", "label": "Number of top cells to plot", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "slot", "argument": "slot", "type": "select", "label": "Slot to pull data from", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "scale.data", "options": [["counts", "counts", false], ["data", "data", false], ["scale.data", "scale.data", true], ["raw.data", "raw.data", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "TextToolParameter", "name": "assays", "argument": "assays", "type": "text", "label": "Vector of assays to pull data from", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "projected", "argument": "projected", "type": "boolean", "label": "Use reduction values for full dataset", "help": "i.e. projected dimensional reduction values", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "BooleanToolParameter", "name": "balanced", "argument": "balanced", "type": "boolean", "label": "Return an equal number of genes with + and - scores", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}]}]}, {"model_class": "ConditionalWhen", "value": "ElbowPlot", "inputs": [{"model_class": "IntegerToolParameter", "name": "ndims", "argument": "ndims", "type": "integer", "label": "Number of dimensions to plot standard deviation for", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "30", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "reduction", "argument": "reduction", "type": "text", "label": "Name of reduction to use", "help": "default is pca", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "pca", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "FeaturePlot", "inputs": [{"model_class": "TextToolParameter", "name": "features", "argument": "features", "type": "text", "label": "Features to plot", "help": "e.g. gene, percent.mito, PC_1", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "dims_1", "argument": null, "type": "integer", "label": "Dimension to plot on x axis", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "dims_2", "argument": null, "type": "integer", "label": "Dimension to plot on y axis", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "2", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "reduction", "argument": "reduction", "type": "text", "label": "Name of reduction to use", "help": "first defaults to umap, then tsne, then pca", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "umap", "area": false, "datalist": []}, {"model_class": "Section", "name": "plot", "type": "section", "title": "Plot Formatting Options", "help": null, "expanded": false, "inputs": [{"model_class": "SelectToolParameter", "name": "keep_scale", "argument": null, "type": "select", "label": "How to handle colour scale across multiple plots", "help": "(keep.scale)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "feature", "options": [["Scale each feature separately", "feature", true], ["Scale all to same maximum", "all", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "Conditional", "name": "blend", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "TRUE", "inputs": [{"model_class": "FloatToolParameter", "name": "blend_threshold", "argument": null, "type": "float", "label": "Colour cutoff from weak signal to strong signal", "help": "(blend.threshold)", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.5", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "cols_1", "argument": null, "type": "select", "label": "Colour for double negatives", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "lightgrey", "options": [["lightgrey", "lightgrey", true], ["grey", "grey", false], ["black", "black", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "FALSE", "inputs": [{"model_class": "BooleanToolParameter", "name": "by_col", "argument": null, "type": "boolean", "label": "If splitting by a factor, plot the splits per column with features as rows", "help": "ignored if blend = TRUE (by.col)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}]}], "test_param": {"model_class": "SelectToolParameter", "name": "blend", "argument": "blend", "type": "select", "label": "Scale and blend expression values to visualize coexpression", "help": "of two features entered as features to plot", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "FALSE", "options": [["Yes", "TRUE", false], ["No", "FALSE", true]], "display": null, "multiple": false, "textable": false}}, {"model_class": "SelectToolParameter", "name": "cols_2", "argument": null, "type": "select", "label": "Colour for low values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "lightgrey", "options": [["light grey", "lightgrey", true], ["grey", "grey", false], ["light blue", "lightblue", false], ["blue", "blue", false], ["light green", "palegreen", false], ["green", "palegreen4", false], ["red", "red", false], ["dark red", "red4", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "cols_3", "argument": null, "type": "select", "label": "Colour for high values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "blue", "options": [["light grey", "lightgrey", false], ["grey", "grey", false], ["light blue", "lightblue", false], ["blue", "blue", true], ["light green", "palegreen", false], ["green", "palegreen4", false], ["red", "red", false], ["dark red", "red4", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "FloatToolParameter", "name": "pt_size", "argument": null, "type": "float", "label": "Point size for plot", "help": "(pt.size)", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "alpha", "argument": "alpha", "type": "integer", "label": "Alpha value for points", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "order", "argument": "order", "type": "boolean", "label": "Plot cells in order of expression", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "Conditional", "name": "label", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "TRUE", "inputs": [{"model_class": "IntegerToolParameter", "name": "label_size", "argument": null, "type": "integer", "label": "Set size of labels", "help": "(label.size)", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "4", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "label_color", "argument": null, "type": "select", "label": "Set colour of label text", "help": "(label.color)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "black", "options": [["black", "black", false], ["grey", "grey", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "BooleanToolParameter", "name": "repel", "argument": "repel", "type": "boolean", "label": "Repel labels", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}]}, {"model_class": "ConditionalWhen", "value": "FALSE", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "label", "argument": "label", "type": "select", "label": "Add labels to the clusters", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "FALSE", "options": [["Yes", "TRUE", false], ["No", "FALSE", true]], "display": null, "multiple": false, "textable": false}}, {"model_class": "BooleanToolParameter", "name": "coord_fixed", "argument": null, "type": "boolean", "label": "Plot cartesian coordinates with fixed aspect ratio", "help": "(coord.fixed)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "IntegerToolParameter", "name": "ncol", "argument": "ncol", "type": "integer", "label": "Number of columns to display", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "Conditional", "name": "raster", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "NULL", "inputs": []}, {"model_class": "ConditionalWhen", "value": "TRUE", "inputs": [{"model_class": "IntegerToolParameter", "name": "raster_x", "argument": null, "type": "integer", "label": "Horizontal length of raster plot (pixels)", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "512", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "raster_y", "argument": null, "type": "integer", "label": "Vertical height of raster plot (pixels)", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "512", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "FALSE", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "raster", "argument": "raster", "type": "select", "label": "Convert points to raster format", "help": "NULL will automatically use raster if more than 100,000 points plotted", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "NULL", "options": [["NULL", "NULL", true], ["TRUE", "TRUE", false], ["FALSE", "FALSE", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "Section", "name": "adv", "type": "section", "title": "Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "DataToolParameter", "name": "cells", "argument": "cells", "type": "data", "label": "List of cells to include on plot", "help": "text file with one cell on each line", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["txt", "tabular"], "edam": {"edam_formats": ["format_2330", "format_3475"], "edam_data": ["data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "SelectToolParameter", "name": "slot", "argument": "slot", "type": "select", "label": "Slot to pull data from", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "data", "options": [["counts", "counts", false], ["data", "data", true], ["scale.data", "scale.data", false], ["raw.data", "raw.data", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "TextToolParameter", "name": "split_by", "argument": null, "type": "text", "label": "Factor or identity to split the plot by", "help": "(split.by)", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "shape_by", "argument": null, "type": "text", "label": "Shape points by a group or identity (only if raster is FALSE)", "help": "(shape.by)", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_cutoff", "argument": null, "type": "integer", "label": "Minimum cutoff for features - as quantile", "help": "(min.cutoff)", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "max_cutoff", "argument": null, "type": "integer", "label": "Maximum cutoff for features - as quantile", "help": "(max.cutoff)", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "DoHeatmap", "inputs": [{"model_class": "DataToolParameter", "name": "features", "argument": "features", "type": "data", "label": "List of features to plot", "help": "text file with one cell on each line, defaults to VariableFeatures", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["txt", "tabular"], "edam": {"edam_formats": ["format_2330", "format_3475"], "edam_data": ["data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "cells", "argument": "cells", "type": "data", "label": "List of cells to include on plot", "help": "text file with one cell on each line", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["txt", "tabular"], "edam": {"edam_formats": ["format_2330", "format_3475"], "edam_data": ["data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Section", "name": "plot", "type": "section", "title": "Plot Formatting Options", "help": null, "expanded": false, "inputs": [{"model_class": "BooleanToolParameter", "name": "group_bar", "argument": null, "type": "boolean", "label": "Add colour bar showing group status for cells", "help": "(group.bar)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "TextToolParameter", "name": "group_colors", "argument": null, "type": "text", "label": "Colours to use for colour bar", "help": "comma-separated list of colours, one for each identity(group.colors)", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "disp_min", "argument": null, "type": "float", "label": "Minimum display value", "help": "all values below are clipped (disp.min)", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "-2.5", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "disp_max", "argument": null, "type": "float", "label": "Maximum display value", "help": "all values above are clipped. Defaults to 2.5 if slot is scale.data, otherwise defaults to 6 (disp.max)", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "label", "argument": "label", "type": "boolean", "label": "Label cell identities above the colour bar", "help": "(label)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "FloatToolParameter", "name": "size", "argument": "size", "type": "float", "label": "Size of text above colour bar", "help": "(size)", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "5.5", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "hjust", "argument": "hjust", "type": "float", "label": "Horizontal justification of text above colour bar", "help": "(hjust)", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "vjust", "argument": "vjust", "type": "float", "label": "Vertical justification of text above colour bar", "help": "(vjust)", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "angle", "argument": "angle", "type": "integer", "label": "Angle of text above colour bar", "help": "(angle)", "refresh_on_change": false, "min": 0, "max": 90, "optional": false, "hidden": false, "is_dynamic": false, "value": "45", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "raster", "argument": "raster", "type": "boolean", "label": "Convert to raster format", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "BooleanToolParameter", "name": "draw_lines", "argument": null, "type": "boolean", "label": "Include white lines to separate the groups", "help": "(draw.lines)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "IntegerToolParameter", "name": "lines_width", "argument": null, "type": "integer", "label": "Integer number to adjust width of separating lines", "help": "corresponds to the number of 'cells' between groups (lines.width)", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "group_bar_height", "argument": null, "type": "float", "label": "Scale the height of the colour bar", "help": "(group.bar.height)", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.02", "area": false, "datalist": []}]}, {"model_class": "Section", "name": "adv", "type": "section", "title": "Advanced options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "group_by", "argument": null, "type": "text", "label": "Vector of variables to group cells by", "help": "use ident to group by cluster (group.by)", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "ident", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "slot", "argument": "slot", "type": "select", "label": "Slot to pull data from", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "scale.data", "options": [["counts", "counts", false], ["data", "data", false], ["scale.data", "scale.data", true], ["raw.data", "raw.data", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "TextToolParameter", "name": "assay", "argument": "assay", "type": "text", "label": "Name of assay to use", "help": "leave blank to use default assay", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "DotPlot", "inputs": [{"model_class": "TextToolParameter", "name": "idents", "argument": "idents", "type": "text", "label": "Identity classes to include in plot", "help": "comma-separated list of clusters/idents, leave blank to include all", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "features", "argument": "features", "type": "text", "label": "Features to plot", "help": "object or comma-separated list", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "Section", "name": "plot", "type": "section", "title": "Plot Formatting Options", "help": null, "expanded": false, "inputs": [{"model_class": "Conditional", "name": "cols", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "two", "inputs": [{"model_class": "SelectToolParameter", "name": "cols_1", "argument": null, "type": "select", "label": "Colour for low values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "lightgrey", "options": [["light grey", "lightgrey", true], ["grey", "grey", false], ["light blue", "lightblue", false], ["blue", "blue", false], ["light green", "palegreen", false], ["green", "palegreen4", false], ["light red", "red", false], ["red", "red4", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "cols_2", "argument": null, "type": "select", "label": "Colour for high values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "blue", "options": [["light grey", "lightgrey", false], ["grey", "grey", false], ["light blue", "lightblue", false], ["blue", "blue", true], ["light green", "palegreen", false], ["green", "palegreen4", false], ["red", "red", false], ["dark red", "red4", false]], "display": null, "multiple": false, "textable": false}]}, {"model_class": "ConditionalWhen", "value": "more", "inputs": [{"model_class": "TextToolParameter", "name": "cols_more", "argument": null, "type": "text", "label": "Colours to plot", "help": "comma-separated list or palette (cols)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "RdBu", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "cols", "argument": null, "type": "select", "label": "", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "two", "options": [["two", "two", true], ["more", "more", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "FloatToolParameter", "name": "col_min", "argument": null, "type": "float", "label": "Minimum scaled average expression threshold", "help": "everything smaller will be set to this (col.min", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "-2.5", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "col_max", "argument": null, "type": "float", "label": "Maximum scaled average expression threshold", "help": "everything larger will be set to this (col.max", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "2.5", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "dot_min", "argument": null, "type": "float", "label": "Fraction of cells at which to draw smallest dot", "help": "no dot drawn for groups where fewer cells express the gene (dot.min)", "refresh_on_change": false, "min": 0.0, "max": 1.0, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "dot_scale", "argument": null, "type": "float", "label": "Scale size of points", "help": "(dot.scale)", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "6.0", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "cluster_idents", "argument": null, "type": "boolean", "label": "Order identities into hierarchy", "help": "based on the features being plotted (cluster.idents)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "Conditional", "name": "scale", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "FALSE", "inputs": []}, {"model_class": "ConditionalWhen", "value": "TRUE", "inputs": [{"model_class": "SelectToolParameter", "name": "scale_by", "argument": null, "type": "select", "label": "Scale by", "help": "(scale.by)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "radius", "options": [["radius", "radius", true], ["size", "size", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "FloatToolParameter", "name": "scale_min", "argument": null, "type": "float", "label": "Lower limit for scaling", "help": "leave blank to use default (scale.min)", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "scale_max", "argument": null, "type": "float", "label": "Upper limit for scaling", "help": "leave blank to use default (scale.max)", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "scale", "argument": "scale", "type": "select", "label": "Scale the data", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "TRUE", "options": [["No", "TRUE", true], ["Yes", "FALSE", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "Section", "name": "adv", "type": "section", "title": "Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "assay", "argument": "assay", "type": "text", "label": "Name of assay to use", "help": "leave blank to use default assay", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "group_by", "argument": null, "type": "text", "label": "Factor to group cells by", "help": "(group.by)", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "split_by", "argument": null, "type": "text", "label": "Factor or identity to split the plot by", "help": "(split.by)", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}]}], "test_param": {"model_class": "SelectToolParameter", "name": "method", "argument": null, "type": "select", "label": "Method used", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "VlnPlot", "options": [["Violin Plot with 'VlnPlot'", "VlnPlot", false], ["Scatter Plot with 'FeatureScatter'", "FeatureScatter", false], ["Scatter Plot with 'CellScatter'", "CellScatter", false], ["Plot Variable Genes with 'VariableFeaturePlot'", "VariableFeaturePlot", false], ["Visualize Reduction Results with 'VizDimLoadings'", "VizDimLoadings", false], ["Visualize Dimensional Reduction with 'DimPlot'", "DimPlot", false], ["Visualize Reduction Results with 'DimHeatmap'", "DimHeatmap", false], ["Determine dimensionality with 'ElbowPlot'", "ElbowPlot", false], ["Visualize expression with 'FeaturePlot'", "FeaturePlot", false], ["Visualize expression with 'DoHeatmap'", "DoHeatmap", false], ["Visualize expression with 'DotPlot'", "DotPlot", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "resize", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "false", "inputs": []}, {"model_class": "ConditionalWhen", "value": "true", "inputs": [{"model_class": "IntegerToolParameter", "name": "width", "argument": "width", "type": "integer", "label": "Width of plot in pixels", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "2100", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "height", "argument": "height", "type": "integer", "label": "Height of plot in pixels", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "2100", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "resize", "argument": null, "type": "select", "label": "Change size of plot", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "false", "options": [["No", "false", true], ["Yes", "true", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Section", "name": "advanced_common", "type": "section", "title": "Advanced Output", "help": null, "expanded": false, "inputs": [{"model_class": "BooleanToolParameter", "name": "show_log", "argument": null, "type": "boolean", "label": "Output Log?", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}]}], "outputs": [{"model_class": "ToolOutput", "name": "plot_out_png", "format": "png", "label": "${tool.name} (${method.method}) on ${on_string}: png plot", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "plot.png", "edam_format": "format_3603", "edam_data": "data_2968", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "plot_out_pdf", "format": "pdf", "label": "${tool.name} (${method.method}) on ${on_string}: pdf plot", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "plot.pdf", "edam_format": "format_3508", "edam_data": "data_2968", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "plot_out_svg", "format": "svg", "label": "${tool.name} (${method.method}) on ${on_string}: svg plot", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "plot.svg", "edam_format": "format_2332", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "plot_out_jpeg", "format": "jpeg", "label": "${tool.name} (${method.method}) on ${on_string}: jpeg plot", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "plot.jpeg", "edam_format": null, "edam_data": null, "discover_datasets": []}, {"model_class": "ToolOutput", "name": "plot_out_tex", "format": "tex", "label": "${tool.name} (${method.method}) on ${on_string}: tex plot", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "plot.tex", "edam_format": null, "edam_data": null, "discover_datasets": []}, {"model_class": "ToolOutput", "name": "plot_out_tiff", "format": "tiff", "label": "${tool.name} (${method.method}) on ${on_string}: tiff plot", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "plot.tiff", "edam_format": "format_3591", "edam_data": "data_2968", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "plot_out_eps", "format": "eps", "label": "${tool.name} (${method.method}) on ${on_string}: eps plot", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "plot.eps", "edam_format": "format_3466", "edam_data": "data_2968", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "hidden_output", "format": "txt", "label": "Log file", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": []}], "panel_section_id": "rna_analysis", "panel_section_name": "RNA Analysis", "form_style": "regular"}