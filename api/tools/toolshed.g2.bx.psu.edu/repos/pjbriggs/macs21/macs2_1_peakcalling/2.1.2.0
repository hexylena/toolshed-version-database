{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/pjbriggs/macs21/macs2_1_peakcalling/2.1.2.0", "name": "MACS2.1.2", "version": "2.1.2.0", "description": "Model-based Analysis of ChIP-Seq: peak calling", "labels": [], "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "macs21", "owner": "pjbriggs", "changeset_revision": "11cf21ee4242", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "TextToolParameter", "name": "experiment_name", "argument": null, "type": "text", "label": "Experiment Name", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "MACS2.1 in Galaxy", "area": false, "datalist": []}, {"model_class": "Conditional", "name": "broad_options", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "broad", "inputs": [{"model_class": "FloatToolParameter", "name": "broad_cutoff", "argument": null, "type": "float", "label": "Cutoff for broad regions", "help": "default: 0.1 (--broad-cutoff)", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.1", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "broad_regions", "argument": null, "type": "select", "label": "Type of region to call", "help": "Broad regions are formed by linking nearby enriched regions", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "options": [["Narrow regions", "", true], ["Broad regions", "broad", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "SelectToolParameter", "name": "format", "argument": null, "type": "select", "label": "Format of input read data", "help": "Specify the format of the input data and whether or not it is paired end (--format)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "BAMPE", "options": [["BAM (paired-end)", "BAMPE", true], ["BAM (single-end)", "BAM", false], ["BED (paired-end)", "BEDPE", false], ["BED (single-end)", "BED", false], ["SAM (paired-end)", "SAMPE", false], ["SAM (single-end)", "SAM", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "DataToolParameter", "name": "input_chipseq_file1", "argument": null, "type": "data", "label": "ChIP-seq read file", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bed", "sam", "bam"], "edam": {"edam_formats": ["format_3003", "format_2573", "format_2572"], "edam_data": ["data_3002", "data_0863", "data_0863"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "input_control_file1", "argument": null, "type": "data", "label": "ChIP-seq control read file", "help": "", "refresh_on_change": true, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bed", "sam", "bam"], "edam": {"edam_formats": ["format_3003", "format_2573", "format_2572"], "edam_data": ["data_3002", "data_0863", "data_0863"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Conditional", "name": "genome_size", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "", "inputs": [{"model_class": "FloatToolParameter", "name": "user_defined_gsize", "argument": null, "type": "float", "label": "Enter effective genome size (number of bases)", "help": "e.g. '1.0e+9' or '1000000000'", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "dm", "inputs": []}, {"model_class": "ConditionalWhen", "value": "ce", "inputs": []}, {"model_class": "ConditionalWhen", "value": "hs", "inputs": []}, {"model_class": "ConditionalWhen", "value": "mm", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "gsize", "argument": null, "type": "select", "label": "Effective genome size", "help": "Either pre-defined (for common organisms), or user-defined (--gsize)", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "hs", "options": [["Human (2.7e9)", "hs", true], ["Mouse (1.87e9)", "mm", false], ["C. elegans (9e7)", "ce", false], ["Fruitfly (1.2e8)", "dm", false], ["User-defined", "", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "IntegerToolParameter", "name": "bw", "argument": null, "type": "integer", "label": "Band width", "help": "(--bw)", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "300", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "xls_to_interval", "argument": null, "type": "boolean", "label": "Include XLS file from MACS", "help": "MACS2 XLS file will be output to the history in 'interval' format (suitable for subsequent analysis in Galaxy). Note that start positions are 1-based.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "True", "falsevalue": "False"}, {"model_class": "Conditional", "name": "bdg_options", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "-B", "inputs": [{"model_class": "BooleanToolParameter", "name": "spmr", "argument": null, "type": "boolean", "label": "Save signal per million reads for fragment pileup profiles", "help": "(--SPMR)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--SPMR", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "make_bigwig", "argument": null, "type": "boolean", "label": "Also generate bigWig file from bedGraph", "help": "bigWig file can used in subsequent analyses e.g. CEAS", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "True", "falsevalue": ""}]}, {"model_class": "ConditionalWhen", "value": "", "inputs": []}], "test_param": {"model_class": "BooleanToolParameter", "name": "bdg", "argument": null, "type": "boolean", "label": "Save treatment and control lambda pileups in bedGraph", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "-B", "falsevalue": ""}}, {"model_class": "Conditional", "name": "pq_options", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "pvalue", "inputs": [{"model_class": "FloatToolParameter", "name": "pvalue", "argument": null, "type": "float", "label": "p-value cutoff for binding region detection", "help": "default: 1e-2 (--pvalue)", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.01", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "qvalue", "inputs": [{"model_class": "FloatToolParameter", "name": "qvalue", "argument": null, "type": "float", "label": "q-value cutoff for binding region detection", "help": "default: 0.01 (--qvalue)", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.01", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "pq_options_selector", "argument": null, "type": "select", "label": "Select p-value or q-value", "help": "default uses q-value", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "qvalue", "options": [["q-value", "qvalue", false], ["p-value", "pvalue", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "advanced_options", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "on", "inputs": [{"model_class": "IntegerToolParameter", "name": "mfoldlo", "argument": null, "type": "integer", "label": "Select the regions with MFOLD high-confidence enrichment ratio against background to build model (lower-limit)", "help": "(--mfold)", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "mfoldhi", "argument": null, "type": "integer", "label": "Select the regions with MFOLD high-confidence enrichment ratio against background to build model (upper-limit)", "help": "(--mfold)", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "30", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "nolambda", "argument": null, "type": "boolean", "label": "Use fixed background lambda as local lambda for every binding region", "help": "(--nolambda)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--nolambda", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "call_summits", "argument": null, "type": "boolean", "label": "Detect subpeaks within binding region", "help": "(--call-summits)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--call-summits", "falsevalue": ""}, {"model_class": "Conditional", "name": "keep_duplicates", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "", "inputs": [{"model_class": "IntegerToolParameter", "name": "maximum_tags", "argument": null, "type": "integer", "label": "Maxium number of duplicated tags to keep at each location", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "all", "inputs": []}, {"model_class": "ConditionalWhen", "value": "auto", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "keep_dup", "argument": null, "type": "select", "label": "Use of duplicate reads", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "options": [["Automatically calculate maximum number of duplicates to keep (auto)", "auto", false], ["Use all duplicates (all)", "all", false], ["Manually specify maxium number of duplicates", "", true]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "ConditionalWhen", "value": "off", "inputs": []}], "test_param": {"model_class": "BooleanToolParameter", "name": "advanced_options_selector", "argument": null, "type": "boolean", "label": "Use advanced options?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "on", "falsevalue": "off"}}, {"model_class": "Conditional", "name": "nomodel_type", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "nomodel", "inputs": [{"model_class": "IntegerToolParameter", "name": "extsize", "argument": null, "type": "integer", "label": "Arbitrary extension size in bp", "help": "Used as fragment size to extend each read towards 3' end (--extsize)", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "200", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "create_model", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "nomodel_type_selector", "argument": null, "type": "select", "label": "Build Model", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "create_model", "options": [["Do not build the shifting model (--nomodel enabled)", "nomodel", false], ["Build the shifting model (--nomodel disabled)", "create_model", true]], "display": null, "multiple": false, "textable": false}}], "outputs": [{"model_class": "ToolOutput", "name": "output_extra_files", "format": "html", "label": "${tool.name}: callpeak on ${on_string} (html report)", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2331", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "output_summits_bed_file", "format": "bed", "label": "${tool.name}: callpeak on ${on_string} (summits: bed)", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3003", "edam_data": "data_3002", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "output_peaks_file", "format": "xls", "label": "${tool.name}: callpeak on ${on_string} (peaks: xls)", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3468", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "output_narrowpeaks_file", "format": "interval", "label": "${tool.name}: callpeak on ${on_string} (peaks: narrowPeak)", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_3002", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "output_broadpeaks_file", "format": "interval", "label": "${tool.name}: callpeak on ${on_string} (peaks: broadPeak)", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_3002", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "output_gappedpeaks_file", "format": "interval", "label": "${tool.name}: callpeak on ${on_string} (peaks: gappedPeak)", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_3002", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "output_xls_to_interval_peaks_file", "format": "interval", "label": "${tool.name}: callpeak on ${on_string} (peaks: interval)", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_3002", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "output_treat_pileup_file", "format": "bedgraph", "label": "${tool.name}: callpeak on ${on_string} (treat pileup: bedGraph)", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3583", "edam_data": "data_3002", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "output_lambda_bedgraph_file", "format": "bedgraph", "label": "${tool.name}: callpeak on ${on_string} (control lambda: bedGraph)", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3583", "edam_data": "data_3002", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "output_bigwig_file", "format": "bigwig", "label": "${tool.name}: callpeak on ${on_string} (treat pileup: bigWig)", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3006", "edam_data": "data_3002", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "chip_seq", "panel_section_name": "ChiP-seq", "form_style": "regular"}