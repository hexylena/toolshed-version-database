{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/ebi-gxa/scanpy_multiplet_scrublet/scanpy_multiplet_scrublet/1.8.1+galaxy93", "name": "Scanpy Scrublet", "version": "1.8.1+galaxy93", "description": "remove multiplets from annData objects with Scrublet", "labels": [], "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "scanpy_multiplet_scrublet", "owner": "ebi-gxa", "changeset_revision": "fadc4fbf8025", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "input_obj_file", "argument": "input-object-file", "type": "data", "label": "Input object in AnnData/Loom format", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["h5", "h5ad"], "edam": {"edam_formats": ["format_3590", "format_3590"], "edam_data": ["data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "SelectToolParameter", "name": "input_format", "argument": "--input-format", "type": "select", "label": "Format of input object", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "anndata", "options": [["AnnData format hdf5", "anndata", true], ["Loom format hdf5", "loom", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "output_format", "argument": "--output-format", "type": "select", "label": "Format of output object", "help": "AnnData or Loom. Legacy 'h5' datatypes are useful for interacting with older tools. Choosing 'No packaged matrix output' is useful for cases where auxiliary files are generated (like in marker genes). Do not use when there are no other output files, as the tool will generate no output in Galaxy then.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "anndata_h5ad", "options": [["AnnData format", "anndata_h5ad", true], ["AnnData format (h5 for older versions)", "anndata", false], ["Loom format", "loom", false], ["Loom format (h5 for older versions)", "loom_legacy", false], ["No packaged matrix output", "no_matrix_output", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "FloatToolParameter", "name": "threshold", "argument": "--threshold", "type": "float", "label": "Doublet score threshold.", "help": "Threshold for calling a transcriptome a doublet. If not set, this is set automatically by looking for the minimum between the two modes of the doublet_scores_sim_ histogram. It is best  practice to check the threshold visually using the doublet_scores_sim_ histogram and/or based on co-localization of predicted doublets in a 2-D embedding.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "filter", "argument": "--filter", "type": "boolean", "label": "Remove predicted multiplets?", "help": "By default, the output object is annotated but not filtered according to the scrublet status.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--filter", "falsevalue": ""}, {"model_class": "TextToolParameter", "name": "batch_key", "argument": "--batch-key", "type": "text", "label": "Where batches are present, the name of the column in adata.obs that differentiates among experiments/batches.", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "sample_key", "argument": "--batch-key", "type": "text", "label": "The name of the column in adata.obs that differentiates among samples. This is a convenience for workflows, this is overriden if the batch key is set. It is an Scrubblet best practice to operate per samples rather than on the complete dataset (and it should use less memory).", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "Conditional", "name": "settings", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "true", "inputs": []}, {"model_class": "ConditionalWhen", "value": "false", "inputs": [{"model_class": "FloatToolParameter", "name": "sim_doublet_ratio", "argument": "--sim-doublet-ratio", "type": "float", "label": "Number of doublets to simulate relative to the number of observed transcriptomes.", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "2.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "synthetic_doublet_umi_subsampling", "argument": "--synthetic-doublet-umi-subsampling", "type": "float", "label": "Rate for sampling UMIs when creating synthetic doublets.", "help": "If 1.0, each doublet is created by simply adding the UMI counts from two randomly sampled observed transcriptomes. For values less than 1, the UMI counts are added and then randomly sampled at the specified rate.", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1.0", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "expected_doublet_rate", "argument": "--expected-doublet-rate", "type": "float", "label": "Estimated doublet rate for the experiment.", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.05", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "stdev_doublet_rate", "argument": "--stdev-doublet-rate", "type": "float", "label": "Uncertainty in the expected doublet rate.", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.02", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "knn_dist_metric", "argument": "--knn-dist-metric", "type": "select", "label": "A known metric\u2019s name.", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "euclidean", "options": [["Euclidean", "euclidean", true], ["angular", "angular", false], ["cityblock", "cityblock", false], ["cosine", "cosine", false], ["l1", "l1", false], ["l2", "l2", false], ["manhattan", "manhattan", false], ["braycurtis", "braycurtis", false], ["canberra", "canberra", false], ["chebyshev", "chebyshev", false], ["correlation", "correlation", false], ["dice", "dice", false], ["hamming", "hamming", false], ["jaccard", "jaccard", false], ["kulsinski", "kulsinski", false], ["mahalanobis", "mahalanobis", false], ["minkowski", "minkowski", false], ["rogerstanimoto", "rogerstanimoto", false], ["russelrao", "russelrao", false], ["seuclidian", "seuclidan", false], ["sokalmichener", "sokalmichener", false], ["sokalsneath", "sokalsneath", false], ["sqeuclidean", "sqeuclidean", false], ["yule", "yule", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "BooleanToolParameter", "name": "normalise_variance", "argument": "--no-normalize-variance", "type": "boolean", "label": "Normalize the data such that each gene has a variance of 1?", "help": "klearn.decomposition.TruncatedSVD will be used for dimensionality reduction, if --no-mean-center is set. Use this flag to disable that behaviour.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "", "falsevalue": "--no-normalize-variance"}, {"model_class": "BooleanToolParameter", "name": "log_transform", "argument": "--log-transform", "type": "boolean", "label": "Apply log transform?", "help": "Whether to use :func:~scanpy.pp.log1p to log-transform the data prior to PCA.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--log-transform", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "mean_center", "argument": "--no-mean-center", "type": "boolean", "label": "Center the data such that each gene has a mean of 0", "help": "sklearn.decomposition.PCA will be used for dimensionality reduction.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "", "falsevalue": "--no-mean-center"}, {"model_class": "IntegerToolParameter", "name": "n_pcs", "argument": "--n-pcs", "type": "integer", "label": "Number of principal components.", "help": "Used to embed the transcriptomes prior to k-nearest-neighbor graph construction.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "30", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "approx", "argument": "--no-approx", "type": "boolean", "label": "Use approximate nearest neighbor (annoy) method for the KNN classifier", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "", "falsevalue": "--no-approx"}, {"model_class": "BooleanToolParameter", "name": "get_doublet_neighbor_parents", "argument": "--get-doublet-neighbor-parents", "type": "boolean", "label": "Get doublet neighbor parents", "help": "Return (in .uns) the parent transcriptomes that generated the doublet neighbors of each observed transcriptome. This information can be used to infer the cell states that generated a given doublet state.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--get-doublet-neighbor-parents ", "falsevalue": ""}, {"model_class": "IntegerToolParameter", "name": "n_neighbors", "argument": "--n-neighbors", "type": "integer", "label": "Number of neighbors.", "help": "Used to construct the KNN graph of observed transcriptomes and simulated doublets. If not set, this is automatically set to np.round(0.5 * np.sqrt(n_obs)).", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "random_state", "argument": "--random-state", "type": "integer", "label": "Seed for random number generator.", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}]}], "test_param": {"model_class": "BooleanToolParameter", "name": "default", "argument": null, "type": "boolean", "label": "Use programme defaults", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "true", "falsevalue": "false"}}], "outputs": [{"model_class": "ToolOutput", "name": "output_h5ad", "format": "h5ad", "label": "${tool.name} on ${on_string}: Scrublet-processed annData AnnData", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "output.h5", "edam_format": "format_3590", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "output_h5", "format": "h5", "label": "${tool.name} on ${on_string}: Scrublet-processed annData AnnData (h5)", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "output.h5", "edam_format": "format_3590", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "output_loom_legacy", "format": "h5", "label": "${tool.name} on ${on_string}: Scrublet-processed annData Loom", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "output.h5", "edam_format": "format_3590", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "output_loom", "format": "loom", "label": "${tool.name} on ${on_string}: Scrublet-processed annData Loom (h5)", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "output.h5", "edam_format": "format_3590", "edam_data": "data_0006", "discover_datasets": []}], "panel_section_id": "hca_sc_scanpy_tools", "panel_section_name": "HCA-Scanpy", "form_style": "regular"}