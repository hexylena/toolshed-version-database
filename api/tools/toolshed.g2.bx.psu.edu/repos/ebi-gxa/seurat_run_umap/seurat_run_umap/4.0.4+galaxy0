{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/ebi-gxa/seurat_run_umap/seurat_run_umap/4.0.4+galaxy0", "name": "Seurat UMAP", "version": "4.0.4+galaxy0", "description": "dimensionality reduction", "labels": [], "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "seurat_run_umap", "owner": "ebi-gxa", "changeset_revision": "b9424c715a0d", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "Conditional", "name": "input", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "anndata", "inputs": [{"model_class": "DataToolParameter", "name": "anndata_file", "argument": null, "type": "data", "label": "AnnData file", "help": "Select AnnData files for input", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["h5", "h5ad"], "edam": {"edam_formats": ["format_3590", "format_3590"], "edam_data": ["data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "loom", "inputs": [{"model_class": "DataToolParameter", "name": "loom_file", "argument": null, "type": "data", "label": "Loom file", "help": "Select Loom file(s) for input", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["h5", "h5loom"], "edam": {"edam_formats": ["format_3590", null], "edam_data": ["data_0006", null]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "rds_seurat", "inputs": [{"model_class": "DataToolParameter", "name": "rds_seurat_file", "argument": null, "type": "data", "label": "RDS file", "help": "Select RDS file(s) with Seurat object for input", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["rdata"], "edam": {"edam_formats": ["format_2333"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "rds_sce", "inputs": [{"model_class": "DataToolParameter", "name": "rds_sce_file", "argument": null, "type": "data", "label": "RDS file", "help": "Select RDS file(s) with Single Cell Experiment object for input", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["rdata"], "edam": {"edam_formats": ["format_2333"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "h5seurat", "inputs": [{"model_class": "DataToolParameter", "name": "h5seurat_file", "argument": null, "type": "data", "label": "Seurat HDF5", "help": "Select Seurat HDF5 file(s) for @VARNAME", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["h5"], "edam": {"edam_formats": ["format_3590"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}], "test_param": {"model_class": "SelectToolParameter", "name": "format", "argument": null, "type": "select", "label": "Choose the format of the input", "help": "Seurat RDS, Seurat H5, Single Cell Experiment RDS, Loom or AnnData", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "rds_seurat", "options": [["RDS with a Seurat object", "rds_seurat", true], ["Loom", "loom", false], ["Seurat HDF5", "h5seurat", false], ["AnnData", "anndata", false], ["RDS with a Single Cell Experiment object", "rds_sce", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "SelectToolParameter", "name": "format", "argument": null, "type": "select", "label": "Choose the format of the output", "help": "Seurat, Single Cell Experiment, AnnData or Loom", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "rds_seurat", "options": [["RDS with a Seurat object", "rds_seurat", true], ["AnnData written by Seurat", "anndata", false], ["Loom", "loom", false], ["RDS with a Single Cell Experiment object", "rds_sce", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "TextToolParameter", "name": "dims", "argument": "--dims", "type": "text", "label": "Dims", "help": "Which dimensions to use as input features, used only if list('features')  is NULL", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "reduction", "argument": "--reduction", "type": "text", "label": "Reduction", "help": "Which dimensional reduction (PCA or ICA) to use for the UMAP input. Default is PCA", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "pca", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "assay", "argument": "--assay", "type": "text", "label": "Assay", "help": "Assay to pull data for when using  list('features') , or assay used to construct Graph if running UMAP on a Graph", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "n_neighbors", "argument": "--n.neighbors", "type": "integer", "label": "N neighbors", "help": "This determines the number of neighboring points used in local approximations of manifold structure. Larger values will result in more global structure being preserved at the loss of detailed local structure. In general this parameter should often be in the range 5 to 50.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "30", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "n_components", "argument": "--n.components", "type": "integer", "label": "N components", "help": "The dimension of the space to embed into.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "2", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "local_connectivity", "argument": "--local.connectivity", "type": "integer", "label": "Local connectivity", "help": "The local connectivity required - i.e. the number of nearest neighbors that should be assumed to be connected at a local level. The higher this value the more connected the manifold becomes locally. In practice this should be not more than the local intrinsic dimension of the manifold.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "seed_use", "argument": "--seed.use", "type": "integer", "label": "Seed use", "help": "Set a random seed. By default, sets the seed to 42. Setting NULL will not set a seed", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "42", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "reduction_name", "argument": "--reduction.name", "type": "text", "label": "Reduction name", "help": "Name to store dimensional reduction under in the Seurat object", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "umap", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "reduction_key", "argument": "--reduction.key", "type": "text", "label": "Reduction key", "help": "dimensional reduction key, specifies the string before the number for the dimension names. UMAP by default", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "UMAP", "area": false, "datalist": []}, {"model_class": "Section", "name": "adv", "type": "section", "title": "Advanced options", "help": null, "expanded": false, "inputs": [{"model_class": "TextToolParameter", "name": "graph", "argument": "--graph", "type": "text", "label": "Graph", "help": "Name of graph on which to run UMAP", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "nn_name", "argument": "--nn.name", "type": "text", "label": "Nn name", "help": "Name of knn output on which to run UMAP", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "slot", "argument": "--slot", "type": "text", "label": "Slot", "help": "The slot used to pull data for when using  list('features') . data slot is by default.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "data", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "umap_method", "argument": "--umap.method", "type": "text", "label": "Umap method", "help": "UMAP implementation to run. Can be list uwot, uwot-learn, umap-learn (rquires python umap-learn package).", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "uwot", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "reduction_model", "argument": "--reduction.model", "type": "text", "label": "Reduction model", "help": "list('DimReduc')  object that contains the umap model", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "return_model", "argument": "--return.model", "type": "boolean", "label": "Return model", "help": "whether UMAP will return the uwot model", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--return.model", "falsevalue": ""}, {"model_class": "TextToolParameter", "name": "metric", "argument": "--metric", "type": "text", "label": "Metric", "help": "metric: This determines the choice of metric used to measure distance in the input space. A wide variety of metrics are already coded, and a user defined function can be passed as long as it has been JITd by numba.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "cosine", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "n_epochs", "argument": "--n.epochs", "type": "integer", "label": "N epochs", "help": "The number of training epochs to be used in optimizing the low dimensional embedding. Larger values result in more accurate embeddings. If NULL is specified, a value will be selected based on the size of the input dataset (200 for large datasets, 500 for small).", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "learning_rate", "argument": "--learning.rate", "type": "integer", "label": "Learning rate", "help": "The initial learning rate for the embedding optimization.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "min_dist", "argument": "--min.dist", "type": "integer", "label": "Min dist", "help": "This controls how tightly the embedding is allowed compress points together. Larger values ensure embedded points are moreevenly distributed, while smaller values allow the algorithm to optimise more accurately with regard to local structure. Sensible values are in the range 0.001 to 0.5.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "spread", "argument": "--spread", "type": "integer", "label": "Spread", "help": "The effective scale of embedded points. In combination with min.dist this determines how clustered/clumped the embedded points are.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "repulsion_strength", "argument": "--repulsion.strength", "type": "integer", "label": "Repulsion strength", "help": "Weighting applied to negative samples in low dimensional embedding optimization. Values higher than one will result in greater weight being given to negative samples.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "negative_sample_rate", "argument": "--negative.sample.rate", "type": "integer", "label": "Negative sample rate", "help": "The number of negative samples to select per positive sample in the optimization process. Increasing this value will result in greater repulsive force being applied, greater optimization cost, but slightly more accuracy.", "refresh_on_change": false, "min": null, "max": null, "optional": true, "hidden": false, "is_dynamic": false, "value": "5", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "a", "argument": "--a", "type": "text", "label": "A", "help": "More specific parameters controlling the embedding. If NULL, these values are set automatically as determined by min. dist and spread. Parameter of differentiable approximation of right adjoint functor.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "b", "argument": "--b", "type": "text", "label": "B", "help": "More specific parameters controlling the embedding. If NULL, these values are set automatically as determined by min. dist and spread. Parameter of differentiable approximation of right adjoint functor.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "uwot_sgd", "argument": "--uwot.sgd", "type": "boolean", "label": "Uwot sgd", "help": "Set list('uwot::umap(fast_sgd = TRUE)') ; see  list('umap')  for more details", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--uwot.sgd", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "angular_rp_forest", "argument": "--angular.rp.forest", "type": "boolean", "label": "Angular rp forest", "help": "Whether to use an angular random projection forest to initialise the approximate nearest neighbor search. This can be faster, but is mostly on useful for metric that use an angular style distance such as cosine, correlation etc. In the case of those metrics angular forests will be chosen automatically.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "--angular.rp.forest", "falsevalue": ""}, {"model_class": "BooleanToolParameter", "name": "verbose", "argument": "--do-not-verbose", "type": "boolean", "label": "Verbose", "help": "Controls verbosity", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "", "falsevalue": "--do-not-verbose"}]}], "outputs": [{"model_class": "ToolOutput", "name": "loom_file", "format": "h5", "label": "${tool.name} on ${on_string}: Seurat Loom", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "seurat_obj.loom", "edam_format": "format_3590", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "rds_seurat_file", "format": "rdata", "label": "${tool.name} on ${on_string}: Seurat RDS", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2333", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "anndata_file", "format": "h5ad", "label": "${tool.name} on ${on_string}: AnnData from Seurat", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3590", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "rds_sce_file", "format": "rdata", "label": "${tool.name} on ${on_string}: Seurat Single Cell Experiment RDS", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2333", "edam_data": "data_0006", "discover_datasets": []}], "panel_section_id": "hca_sc_scanpy_tools", "panel_section_name": "HCA-Scanpy", "form_style": "regular"}