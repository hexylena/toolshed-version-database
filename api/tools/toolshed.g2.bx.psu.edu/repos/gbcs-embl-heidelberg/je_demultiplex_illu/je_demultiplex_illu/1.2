{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/gbcs-embl-heidelberg/je_demultiplex_illu/je_demultiplex_illu/1.2", "name": "Je-Demultiplex-Illu", "version": "1.2", "description": "demultiplexes fastq files using Illumina Index file", "labels": [], "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "je_demultiplex_illu", "owner": "gbcs-embl-heidelberg", "changeset_revision": "69c77f9fc064", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "Conditional", "name": "library", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "single", "inputs": [{"model_class": "DataToolParameter", "name": "input_1", "argument": null, "type": "data", "label": "FASTQ file", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastq", "gz"], "edam": {"edam_formats": ["format_1930", "format_2333"], "edam_data": ["data_2044", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "I1", "argument": null, "type": "data", "label": "First Index File", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastq", "gz"], "edam": {"edam_formats": ["format_1930", "format_2333"], "edam_data": ["data_2044", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "paired", "inputs": [{"model_class": "DataToolParameter", "name": "input_1", "argument": null, "type": "data", "label": "FASTQ file #1", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastq", "gz"], "edam": {"edam_formats": ["format_1930", "format_2333"], "edam_data": ["data_2044", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "input_2", "argument": null, "type": "data", "label": "FASTQ file #2", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastq", "gz"], "edam": {"edam_formats": ["format_1930", "format_2333"], "edam_data": ["data_2044", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "I1", "argument": null, "type": "data", "label": "First Index File", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastq", "gz"], "edam": {"edam_formats": ["format_1930", "format_2333"], "edam_data": ["data_2044", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Conditional", "name": "I2_CONDITIONAL", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "true", "inputs": [{"model_class": "DataToolParameter", "name": "I2", "argument": null, "type": "data", "label": "Second Index File", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastq", "gz"], "edam": {"edam_formats": ["format_1930", "format_2333"], "edam_data": ["data_2044", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Conditional", "name": "BRED_CONDITIONAL", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "true", "inputs": [{"model_class": "BooleanToolParameter", "name": "STRICT", "argument": null, "type": "boolean", "label": "Strict (S)", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}]}, {"model_class": "ConditionalWhen", "value": "false", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "BRED", "argument": null, "type": "select", "label": "Redundant barcodes (BRED)", "help": "are the barcodes REDUNDANT i.e. do they both resolve to the same sample.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "true", "options": [["Yes", "true", true], ["No", "false", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "ConditionalWhen", "value": "false", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "I2_AVAILABLE", "argument": null, "type": "select", "label": "Do you have a second index file?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "false", "options": [["Yes", "true", false], ["No", "false", true]], "display": null, "multiple": false, "textable": false}}, {"model_class": "BooleanToolParameter", "name": "SAME_HEADERS", "argument": null, "type": "boolean", "label": "Ensure headers of both reads of a pair are identical (SAME_HEADERS)", "help": "Only applies if barcodes are added to the header (option ADD)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}]}, {"model_class": "ConditionalWhen", "value": "paired_collection", "inputs": [{"model_class": "DataCollectionToolParameter", "name": "input_1", "argument": null, "type": "data_collection", "label": "FASTQ Paired Dataset", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastq", "gz"], "multiple": false, "options": {"hda": [], "hdca": [], "dce": []}, "tag": null}, {"model_class": "DataToolParameter", "name": "I1", "argument": null, "type": "data", "label": "First Index File", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastq", "gz"], "edam": {"edam_formats": ["format_1930", "format_2333"], "edam_data": ["data_2044", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Conditional", "name": "I2_CONDITIONAL", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "true", "inputs": [{"model_class": "DataToolParameter", "name": "I2", "argument": null, "type": "data", "label": "Second Index File", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["fastq", "gz"], "edam": {"edam_formats": ["format_1930", "format_2333"], "edam_data": ["data_2044", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Conditional", "name": "BRED_CONDITIONAL", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "true", "inputs": [{"model_class": "BooleanToolParameter", "name": "STRICT", "argument": null, "type": "boolean", "label": "Strict (S)", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}]}, {"model_class": "ConditionalWhen", "value": "false", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "BRED", "argument": null, "type": "select", "label": "Redundant barcodes (BRED)", "help": "are the barcodes REDUNDANT i.e. do they both resolve to the same sample.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "true", "options": [["Yes", "true", true], ["No", "false", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "ConditionalWhen", "value": "false", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "I2_AVAILABLE", "argument": null, "type": "select", "label": "Do you have a second index file?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "false", "options": [["Yes", "true", false], ["No", "false", true]], "display": null, "multiple": false, "textable": false}}, {"model_class": "BooleanToolParameter", "name": "SAME_HEADERS", "argument": null, "type": "boolean", "label": "Ensure headers of both reads of a pair are identical (SAME_HEADERS)", "help": "Only applies if barcodes are added to the header (option ADD)", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}]}], "test_param": {"model_class": "SelectToolParameter", "name": "type", "argument": null, "type": "select", "label": "Is this single or paired library", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "single", "options": [["Single-end", "single", false], ["Paired-end", "paired", false], ["Paired-end Dataset Collection", "paired_collection", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "barcodes", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "file", "inputs": [{"model_class": "DataToolParameter", "name": "BARCODE_FILE", "argument": null, "type": "data", "label": "Barcode List", "help": "Barcode list format: one sample per line. First column is sample name and second is the                     barcode, separated by tab or space. A third and fourth column can be used to specify the resulting                     file names. See help below.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular", "txt"], "edam": {"edam_formats": ["format_3475", "format_2330"], "edam_data": ["data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}]}, {"model_class": "ConditionalWhen", "value": "text", "inputs": [{"model_class": "TextToolParameter", "name": "barcode_text", "argument": null, "type": "text", "label": "Barcode List", "help": "Barcode list format: one sample per line. First column is sample name and second is the                     barcode, separated by tab or space. A third and fourth column can be used to specify the resulting                     file names. See help below.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "sample_name\\tbarcode\\n", "area": true, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "barcode_list_type_con", "argument": null, "type": "select", "label": "Barcode list input type", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "file", "options": [["Use a tab-delimited file from the history", "file", true], ["Paste the barcodes list in a text field within the form", "text", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "INTERNAL_BARCODES_CON", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "true", "inputs": [{"model_class": "SelectToolParameter", "name": "BPOS", "argument": null, "type": "select", "label": "Barcode read position (BPOS)", "help": "where are the barcodes.                     If not using paired-end it does not matter what you specify here.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "READ_1", "options": [["READ_1 (beginning of read from the first fastq file)", "READ_1", true], ["READ_2 (beginning of read from the second fastq file)", "READ_2", false], ["BOTH (beginning of both reads)", "BOTH", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "TextToolParameter", "name": "LEN", "argument": null, "type": "text", "label": "Barcode Length (LEN)", "help": "If 'Barcode read position'=BOTH and 'Redundant barcodes'=False, two distinct                   lengths can be provided using the syntax LEN=X:Z where X and Z are 2 integers representing                   the barcode length for read_1 and read_2 respectively. Default: empty", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "CLIP_BARCODE", "argument": null, "type": "boolean", "label": "Remove barcode sequence from read (C)", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "true", "falsevalue": "false"}]}, {"model_class": "ConditionalWhen", "value": "false", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "INTERNAL_BARCODES", "argument": null, "type": "select", "label": "Do your reads contain Unique Molecular Identifiers(UMIs)", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "false", "options": [["Yes", "true", false], ["No", "false", true]], "display": null, "multiple": false, "textable": false}}, {"model_class": "BooleanToolParameter", "name": "ADD", "argument": null, "type": "boolean", "label": "Add matched barcode at the end of the read header (ADD)", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "true", "falsevalue": "false"}, {"model_class": "TextToolParameter", "name": "MM", "argument": null, "type": "text", "label": "Maximum Mismatches (MM)", "help": "Maximum mismatches for a barcode to be considered a match.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "MMD", "argument": null, "type": "text", "label": "Minimum mismatch difference (MMD)", "help": "Minimum difference between number of mismatches in the best and second best barcodes for a barcode             to be considered a match.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "MIN_BASE_QUALITY", "argument": null, "type": "text", "label": "Minimum base quality (Q)", "help": "Any barcode bases falling below this quality will be             considered a mismatch even in the bases match.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "10", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "QUALITY_FORMAT", "argument": null, "type": "select", "label": "Fastq Quality Format (V)", "help": "How are the quality values encoded in the fastq.  Either 'Solexa' for             pre-pipeline 1.3 style scores (solexa scaling + 66), 'Illumina' for pipeline 1.3 and             above (phred scaling + 64) or 'Standard' for phred scaled scores with a character shift             of 33.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "Standard", "options": [["\n                Fastq - Illumina Casava v1.8 with Sanger coding quality (phred scaling + 33)\n            ", "Standard", true], ["\n                Fastq - Illumina v1.3 or above coding of quality (phred scaling + 64)\n            ", "Illumina", false], ["\n                Fastq - Solexa-style quality (solexa scaling + 66)\n            ", "Solexa", false], ["\n                Detect automatically\n            ", "null", false]], "display": null, "multiple": false, "textable": false}, {"model_class": "TextToolParameter", "name": "XT", "argument": null, "type": "text", "label": "Extra number of bases to be trimmed right after the barcode (XT)", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "ZT", "argument": null, "type": "text", "label": "Extra number of bases to be trimmed from the read end (ZT)", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "0", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "RCHAR", "argument": null, "type": "text", "label": "Replace white space in the read name/header with speficied symbols (RCHAR)", "help": "Set to empty or null for no replacement.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": ":", "area": false, "datalist": []}, {"model_class": "HiddenToolParameter", "name": "GZ", "argument": null, "type": "hidden", "label": "Compress output (GZ)", "help": "will result in fastq.gz files.", "refresh_on_change": false, "optional": false, "hidden": true, "is_dynamic": false, "value": "false"}, {"model_class": "BooleanToolParameter", "name": "KEEP_UNASSIGNED_READ", "argument": null, "type": "boolean", "label": "Keep unassigned reads (KEEP_UNASSIGNED_READ)", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": true, "truevalue": "true", "falsevalue": "false"}, {"model_class": "Section", "name": "adv_options", "type": "section", "title": "Advanced Options", "help": null, "expanded": false, "inputs": [{"model_class": "BooleanToolParameter", "name": "DIAG", "argument": null, "type": "boolean", "label": "Output barcode match reporting file (DIAG)", "help": "This file will                       contain a line per read pair with the barcode best matching the read subsequence or 'null' when no                       match is found according to matching parameters. This file is useful for debugging or further                       processing in case both ends are barcoded.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "BooleanToolParameter", "name": "STATS_ONLY", "argument": null, "type": "boolean", "label": "Only produce metric and diagnostic reports (STATS_ONLY)", "help": "do not demultiplex.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}]}], "outputs": [{"model_class": "ToolOutput", "name": "METRICS_FILE_NAME", "format": "tabular", "label": "Je-Demultiplex result", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": "fastqsanger", "visible": true, "assign_primary_output": false, "directory": "results", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "(?P<name>.*)\\.txt", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "BARCODE_DIAG_FILE", "format": "tabular", "label": "Barcode statistics", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "fasta_fastq", "panel_section_name": "FASTA/FASTQ", "form_style": "regular"}