{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/wolma/mimodd_main/mimodd_reheader/0.1.8_1", "name": "MiModD Reheader", "version": "0.1.8_1", "description": "takes a BAM file and generates a copy with the original header (if any) replaced or modified by that found in a template SAM file", "labels": [], "edam_operations": [], "edam_topics": [], "hidden": "", "is_workflow_compatible": true, "xrefs": [], "tool_shed_repository": {"name": "mimodd_main", "owner": "wolma", "changeset_revision": "f0f2795de2c7", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "inputfile", "argument": null, "type": "data", "label": "input dataset in BAM format", "help": "the file to reheader.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["bam"], "edam": {"edam_formats": ["format_2572"], "edam_data": ["data_0863"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Conditional", "name": "rg", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "update", "inputs": [{"model_class": "Conditional", "name": "rginfo", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "from_file", "inputs": [{"model_class": "DataToolParameter", "name": "data", "argument": null, "type": "data", "label": "read-group template file in SAM format", "help": "use the read group information found in this file", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["sam"], "edam": {"edam_formats": ["format_2573"], "edam_data": ["data_0863"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Repeat", "name": "rg", "type": "repeat", "title": "custom read-group mapping", "help": "read-group information found in the input file, by default, gets updated / replaced with information from template file read-groups with matching IDs. Alternatively, you may specify explicit read-group mappings below.", "default": 0, "min": 0, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "source_id", "argument": null, "type": "text", "label": "modify input file information for read-group ID (will create the read-group if it does not exist)", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "rg_id", "argument": null, "type": "text", "label": "with template file information for read-group ID", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "from_form", "inputs": [{"model_class": "Repeat", "name": "rg", "type": "repeat", "title": "new read-group info", "help": null, "default": 1, "min": 1, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "source_id", "argument": null, "type": "text", "label": "read-group ID (will create the read-group if it does not exist)", "help": "required field", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "HiddenToolParameter", "name": "rg_id", "argument": null, "type": "hidden", "label": "", "help": "", "refresh_on_change": false, "optional": false, "hidden": true, "is_dynamic": false, "value": ""}, {"model_class": "TextToolParameter", "name": "rg_sm", "argument": null, "type": "text", "label": "sample name", "help": "required field", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "rg_ds", "argument": null, "type": "text", "label": "description", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "rg_date", "argument": null, "type": "text", "label": "date (YY-MM-DD format) the run was produced", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "rg_cn", "argument": null, "type": "text", "label": "name of sequencing center", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "rg_lb", "argument": null, "type": "text", "label": "read-group library", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "rg_pl", "argument": null, "type": "text", "label": "platform/technology used to produce the reads", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": [{"label": "ILLUMINA", "value": "ILLUMINA"}, {"label": "PACBIO", "value": "PACBIO"}, {"label": "IONTORRENT", "value": "IONTORRENT"}, {"label": "ONT", "value": "ONT"}, {"label": "LS454", "value": "LS454"}, {"label": "SOLID", "value": "SOLID"}, {"label": "HELICOS", "value": "HELICOS"}, {"label": "CAPILLARY", "value": "CAPILLARY"}]}, {"model_class": "TextToolParameter", "name": "rg_pi", "argument": null, "type": "text", "label": "predicted median insert size", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "rg_pu", "argument": null, "type": "text", "label": "platform unit; unique identifier", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}]}], "test_param": {"model_class": "SelectToolParameter", "name": "source", "argument": null, "type": "select", "label": "source of new read-group information", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "from_file", "options": [["existing SAM file", "from_file", false], ["input form", "from_form", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "ConditionalWhen", "value": "replace", "inputs": [{"model_class": "Conditional", "name": "rginfo", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "from_file", "inputs": [{"model_class": "DataToolParameter", "name": "data", "argument": null, "type": "data", "label": "read-group template file in SAM format", "help": "use the read group information found in this file", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["sam"], "edam": {"edam_formats": ["format_2573"], "edam_data": ["data_0863"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Repeat", "name": "rg", "type": "repeat", "title": "custom read-group mapping", "help": "read-group information found in the input file, by default, gets updated / replaced with information from template file read-groups with matching IDs. Alternatively, you may specify explicit read-group mappings below.", "default": 0, "min": 0, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "source_id", "argument": null, "type": "text", "label": "modify input file information for read-group ID (will create the read-group if it does not exist)", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "rg_id", "argument": null, "type": "text", "label": "with template file information for read-group ID", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "from_form", "inputs": [{"model_class": "Repeat", "name": "rg", "type": "repeat", "title": "new read-group info", "help": null, "default": 1, "min": 1, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "source_id", "argument": null, "type": "text", "label": "read-group ID (will create the read-group if it does not exist)", "help": "required field", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "HiddenToolParameter", "name": "rg_id", "argument": null, "type": "hidden", "label": "", "help": "", "refresh_on_change": false, "optional": false, "hidden": true, "is_dynamic": false, "value": ""}, {"model_class": "TextToolParameter", "name": "rg_sm", "argument": null, "type": "text", "label": "sample name", "help": "required field", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "rg_ds", "argument": null, "type": "text", "label": "description", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "rg_date", "argument": null, "type": "text", "label": "date (YY-MM-DD format) the run was produced", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "rg_cn", "argument": null, "type": "text", "label": "name of sequencing center", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "rg_lb", "argument": null, "type": "text", "label": "read-group library", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "rg_pl", "argument": null, "type": "text", "label": "platform/technology used to produce the reads", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": [{"label": "ILLUMINA", "value": "ILLUMINA"}, {"label": "PACBIO", "value": "PACBIO"}, {"label": "IONTORRENT", "value": "IONTORRENT"}, {"label": "ONT", "value": "ONT"}, {"label": "LS454", "value": "LS454"}, {"label": "SOLID", "value": "SOLID"}, {"label": "HELICOS", "value": "HELICOS"}, {"label": "CAPILLARY", "value": "CAPILLARY"}]}, {"model_class": "TextToolParameter", "name": "rg_pi", "argument": null, "type": "text", "label": "predicted median insert size", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "rg_pu", "argument": null, "type": "text", "label": "platform unit; unique identifier", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}]}], "test_param": {"model_class": "SelectToolParameter", "name": "source", "argument": null, "type": "select", "label": "source of new read-group information", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "from_file", "options": [["existing SAM file", "from_file", false], ["input form", "from_form", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "ConditionalWhen", "value": "ignore", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "treat_rg", "argument": null, "type": "select", "label": "modify read-group information?", "help": "Replace mode will ignore ALL existing read group information in the input file and use ONLY template information, Update mode will COPY existing input file information and UPDATE it with template information; choose No, ... to leave read-group information alone.", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "ignore", "options": [["No, do not change read-groups.", "ignore", false], ["Yes, update existing information", "update", false], ["Yes, replace existing information", "replace", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "co", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "update", "inputs": [{"model_class": "Repeat", "name": "coinfo", "type": "repeat", "title": "comment line", "help": null, "default": 0, "min": 0, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "line", "argument": null, "type": "text", "label": "", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "replace", "inputs": [{"model_class": "Repeat", "name": "coinfo", "type": "repeat", "title": "comment line", "help": null, "default": 0, "min": 0, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "line", "argument": null, "type": "text", "label": "", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}]}, {"model_class": "ConditionalWhen", "value": "ignore", "inputs": []}], "test_param": {"model_class": "SelectToolParameter", "name": "treat_co", "argument": null, "type": "select", "label": "modify comments in the input file?", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "ignore", "options": [["No, do not change comments.", "ignore", false], ["Yes, append new comments to existing ones", "update", false], ["Yes, replace all existing comments", "replace", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Repeat", "name": "rg_renaming", "type": "repeat", "title": "rename read-group", "help": "Warning: changing read-group IDs may increase job runtime substantially.", "default": 0, "min": 0, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "from", "argument": null, "type": "text", "label": "old name", "help": "as it appears in the current input file header", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "to", "argument": null, "type": "text", "label": "new name", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}, {"model_class": "Repeat", "name": "sq_renaming", "type": "repeat", "title": "rename sequence", "help": "Warning: changing sequence names may increase job runtime substantially.", "default": 0, "min": 0, "max": "__Infinity__", "inputs": [{"model_class": "TextToolParameter", "name": "from", "argument": null, "type": "text", "label": "old name", "help": "as it appears in the current input file header", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "to", "argument": null, "type": "text", "label": "new name", "help": "", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": null, "area": false, "datalist": []}]}], "outputs": [{"model_class": "ToolOutput", "name": "output", "format": "bam", "label": "(Re)headered bam file from MiModd ${tool.name} on ${on_string}", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2572", "edam_data": "data_0863", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "mimodd", "panel_section_name": "MiModD", "form_style": "regular"}