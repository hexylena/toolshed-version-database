{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/galaxyp/cardinal_single_ion_segmentation/cardinal_single_ion_segmentation/2.10.0.0", "name": "MSI single ion segmentation", "version": "2.10.0.0", "description": "mass spectrometry imaging spatial DGMM", "labels": [], "edam_operations": ["operation_3214"], "edam_topics": ["topic_0121", "topic_0092"], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "cardinal", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "cardinal_single_ion_segmentation", "owner": "galaxyp", "changeset_revision": "53a2f4fa6cd2", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "infile", "argument": null, "type": "data", "label": "MSI data", "help": "Input file as imzML (composite upload), Analyze7.5 (composite upload) or Cardinal MSImageSet saved as RData (regular upload)", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["imzml", "rdata", "analyze75"], "edam": {"edam_formats": ["format_3682", "format_2333", "format_2333"], "edam_data": ["data_0006", "data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "BooleanToolParameter", "name": "centroids", "argument": null, "type": "boolean", "label": "Centroided input", "help": "Choose Yes if peak detection has already been done.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "Conditional", "name": "processed_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no_processed", "inputs": []}, {"model_class": "ConditionalWhen", "value": "processed", "inputs": [{"model_class": "FloatToolParameter", "name": "accuracy", "argument": null, "type": "float", "label": "Mass accuracy to which the m/z values will be binned", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "50.0", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "units", "argument": null, "type": "select", "label": "Unit of the mass accuracy", "help": "either m/z or ppm", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "ppm", "options": [["mz", "mz", false], ["ppm", "ppm", true]], "display": "radio", "multiple": false, "textable": false}]}], "test_param": {"model_class": "SelectToolParameter", "name": "processed_file", "argument": null, "type": "select", "label": "Processed imzML file", "help": "Choose no if your input is an Analyze7.5 or continuous imzML file", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no_processed", "options": [["no", "no_processed", true], ["yes", "processed", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "sample_groups", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "single_group", "inputs": []}, {"model_class": "ConditionalWhen", "value": "multiple_groups", "inputs": [{"model_class": "DataToolParameter", "name": "annotation_file", "argument": null, "type": "data", "label": "Tabular file with pixel coordinates and annotation", "help": "Tabular file with three columns: x values, y values and pixel annotations", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "ColumnListParameter", "name": "column_x", "argument": null, "type": "data_column", "label": "Column with x values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": true, "value": null, "options": [], "display": null, "multiple": false, "textable": false, "data_ref": "annotation_file", "numerical": false}, {"model_class": "ColumnListParameter", "name": "column_y", "argument": null, "type": "data_column", "label": "Column with y values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": true, "value": null, "options": [], "display": null, "multiple": false, "textable": false, "data_ref": "annotation_file", "numerical": false}, {"model_class": "ColumnListParameter", "name": "column_names", "argument": null, "type": "data_column", "label": "Column with pixel annotations", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": true, "value": null, "options": [], "display": null, "multiple": false, "textable": false, "data_ref": "annotation_file", "numerical": false}, {"model_class": "BooleanToolParameter", "name": "tabular_header", "argument": null, "type": "boolean", "label": "Tabular file contains a header line", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}]}], "test_param": {"model_class": "SelectToolParameter", "name": "group", "argument": null, "type": "select", "label": "Dataset groups", "help": "Pixels from different groups will be segmented separately. For the validity of downstream statistical analysis, it is important that each distinct observational unit (e.g., tissue sample) is assigned to a unique group", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "single_group", "options": [["Dataset is a single group", "single_group", true], ["Dataset contains multiple groups", "multiple_groups", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "TextToolParameter", "name": "r", "argument": null, "type": "text", "label": "r", "help": "The spatial neighborhood radius of nearby pixels to consider. Only a single value is allowed", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "2", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "k", "argument": null, "type": "text", "label": "k", "help": "The maximum number of segments (clusters). The final number of segments may differ. Only a single value is allowed.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "5", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "method", "argument": null, "type": "select", "label": "weights method", "help": "The method to use to calculate the spatial smoothing weights. The 'gaussian' method refers to spatially-aware (SA) weights, and 'adaptive' refers to spatially-aware structurally-adaptive (SASA) weights", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "gaussian", "options": [["gaussian", "gaussian", true], ["adaptive", "adaptive", false]], "display": "radio", "multiple": false, "textable": false}, {"model_class": "SelectToolParameter", "name": "dist", "argument": null, "type": "select", "label": "distance metric", "help": "The type of distance metric to use when calculating neighboring pixels based on r. The options are \u2018radial\u2019, \u2018manhattan\u2019, \u2018minkowski\u2019, and \u2018chebyshev\u2019 (the default).", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "chebyshev", "options": [["chebyshev", "chebyshev", true], ["manhattan", "manhattan", false], ["radial", "radial", false], ["minkowski", "minkowski", false]], "display": "radio", "multiple": false, "textable": false}, {"model_class": "BooleanToolParameter", "name": "annealing", "argument": null, "type": "boolean", "label": "annealing", "help": "Should simulated annealing be used during the optimization process to improve parameter estimates?", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "SelectToolParameter", "name": "init", "argument": null, "type": "select", "label": "init", "help": "Should the parameter estimates be initialized using k-means (\u2019kmeans\u2019) or Gaussian mixture model (\u2019gmm\u2019)?", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "kmeans", "options": [["kmeans", "kmeans", true], ["gmm", "gmm", false]], "display": "radio", "multiple": false, "textable": false}, {"model_class": "FloatToolParameter", "name": "p0", "argument": null, "type": "float", "label": "p0", "help": "A regularization parameter applied to estimated posterior class probabilities to avoid singularities. Must be positive for successful gradient descent optimization.Changing this value (within reason) should have only minimal impact on values of parameter estimates, but may greatly affect the algorithm\u2019s speed and stability.", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.05", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "iter_max", "argument": null, "type": "integer", "label": "iter.max", "help": "The maximum number of EM-algorithm iterations.", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "100", "area": false, "datalist": []}, {"model_class": "FloatToolParameter", "name": "tol", "argument": null, "type": "float", "label": "tolerance", "help": "The tolerance convergence criterion for the EM-algorithm. Corresponds to the change in log-likelihood.", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "0.05", "area": false, "datalist": []}, {"model_class": "IntegerToolParameter", "name": "setseed", "argument": null, "type": "integer", "label": "set seed", "help": "Use same value to reproduce previous results", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "1", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "output_estimates", "argument": null, "type": "boolean", "label": "Generate estimates results", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "BooleanToolParameter", "name": "output_probability", "argument": null, "type": "boolean", "label": "Generate probability and class results", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "BooleanToolParameter", "name": "output_plots", "argument": null, "type": "boolean", "label": "Generate plots results", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "BooleanToolParameter", "name": "output_rdata", "argument": null, "type": "boolean", "label": "Results as .RData output", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}], "outputs": [{"model_class": "ToolOutputCollection", "name": "estimates_output", "format": null, "label": "${tool.name} logs: ${on_string}: estimates", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": "tabular", "visible": false, "assign_primary_output": false, "directory": "DGMM_estimates", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "(?P<designation>.*)\\.(?P<ext>[^\\._]+)?", "sort_by": "filename"}]}}, {"model_class": "ToolOutputCollection", "name": "probability_output", "format": null, "label": "${tool.name} logs: ${on_string}: probability", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": "tabular", "visible": false, "assign_primary_output": false, "directory": "DGMM_probability", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "(?P<designation>.*)\\.(?P<ext>[^\\._]+)?", "sort_by": "filename"}]}}, {"model_class": "ToolOutputCollection", "name": "plots_output", "format": null, "label": "${tool.name} logs: ${on_string}: plots", "hidden": false, "output_type": "collection", "default_format": "data", "default_format_source": null, "default_metadata_source": null, "inherit_format": false, "inherit_metadata": false, "structure": {"collection_type": "list", "collection_type_source": null, "collection_type_from_rules": null, "structured_like": null, "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": "tabular", "visible": false, "assign_primary_output": false, "directory": "DGMM_plots", "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "(?P<designation>.*)\\.(?P<ext>[^\\._]+)?", "sort_by": "filename"}]}}, {"model_class": "ToolOutput", "name": "dgmm_summary", "format": "tabular", "label": "${tool.name} on ${on_string}: summary", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "file_info", "format": "pdf", "label": "${tool.name} on ${on_string}: file_info", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "single_ion_segmentation.pdf", "edam_format": "format_3508", "edam_data": "data_2968", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}, {"model_class": "ToolOutput", "name": "dgmm_rdata", "format": "rdata", "label": "${tool.name} on ${on_string}: dgmm.RData", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2333", "edam_data": "data_0006", "discover_datasets": [{"discover_via": "pattern", "dbkey": "__input__", "format": null, "visible": false, "assign_primary_output": false, "directory": null, "recurse": false, "match_relative_path": false, "sort_key": "filename", "sort_comp": "lexical", "pattern": "primary_DATASET_ID_(?P<designation>[^_]+)_(?P<visible>[^_]+)_(?P<ext>[^_]+)(_(?P<dbkey>[^_]+))?", "sort_by": "filename"}]}], "panel_section_id": "proteomics", "panel_section_name": "Proteomics", "form_style": "regular"}