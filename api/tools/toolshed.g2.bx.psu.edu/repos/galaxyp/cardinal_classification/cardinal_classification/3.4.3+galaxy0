{"model_class": "Tool", "id": "toolshed.g2.bx.psu.edu/repos/galaxyp/cardinal_classification/cardinal_classification/3.4.3+galaxy0", "name": "MSI classification", "version": "3.4.3+galaxy0", "description": "spatial classification of mass spectrometry imaging data", "labels": [], "edam_operations": ["operation_3214"], "edam_topics": ["topic_0121", "topic_0092"], "hidden": "", "is_workflow_compatible": true, "xrefs": [{"value": "cardinal", "reftype": "bio.tools"}], "tool_shed_repository": {"name": "cardinal_classification", "owner": "galaxyp", "changeset_revision": "4c177985028a", "tool_shed": "toolshed.g2.bx.psu.edu"}, "inputs": [{"model_class": "DataToolParameter", "name": "infile", "argument": null, "type": "data", "label": "MSI data", "help": "Input file as imzML (composite upload), Analyze7.5 (composite upload) or Cardinal MSImageSet saved as RData (regular upload)", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["imzml", "rdata", "analyze75"], "edam": {"edam_formats": ["format_3682", "format_2333", "format_2333"], "edam_data": ["data_0006", "data_0006", "data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "BooleanToolParameter", "name": "centroids", "argument": null, "type": "boolean", "label": "Centroided input", "help": "Choose Yes if peak detection has already been done.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "Conditional", "name": "processed_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no_processed", "inputs": []}, {"model_class": "ConditionalWhen", "value": "processed", "inputs": [{"model_class": "FloatToolParameter", "name": "accuracy", "argument": null, "type": "float", "label": "Mass accuracy to which the m/z values will be binned", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "50.0", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "units", "argument": null, "type": "select", "label": "Unit of the mass accuracy", "help": "either m/z or ppm", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "ppm", "options": [["mz", "mz", false], ["ppm", "ppm", true]], "display": "radio", "multiple": false, "textable": false}]}], "test_param": {"model_class": "SelectToolParameter", "name": "processed_file", "argument": null, "type": "select", "label": "Processed imzML file", "help": "Choose no if your input is an Analyze7.5 or continuous imzML file", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no_processed", "options": [["no", "no_processed", true], ["yes", "processed", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "type_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "training", "inputs": [{"model_class": "DataToolParameter", "name": "annotation_file", "argument": null, "type": "data", "label": "Load tabular file with pixel coordinates and their classes", "help": "Three or four columns: x values, y values, response values, optionally fold values", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "ColumnListParameter", "name": "column_x", "argument": null, "type": "data_column", "label": "Column with x values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": true, "value": null, "options": [], "display": null, "multiple": false, "textable": false, "data_ref": "annotation_file", "numerical": false}, {"model_class": "ColumnListParameter", "name": "column_y", "argument": null, "type": "data_column", "label": "Column with y values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": true, "value": null, "options": [], "display": null, "multiple": false, "textable": false, "data_ref": "annotation_file", "numerical": false}, {"model_class": "ColumnListParameter", "name": "column_response", "argument": null, "type": "data_column", "label": "Column with response (condition) values", "help": "This is the condition (pixel group) which will be classified", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": true, "value": null, "options": [], "display": null, "multiple": false, "textable": false, "data_ref": "annotation_file", "numerical": false}, {"model_class": "ColumnListParameter", "name": "column_fold", "argument": null, "type": "data_column", "label": "Column with fold values - only neccessary for cvapply", "help": "Each fold must contain pixels of all response groups and is used for cross validation", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": true, "value": null, "options": [], "display": null, "multiple": false, "textable": false, "data_ref": "annotation_file", "numerical": false}, {"model_class": "BooleanToolParameter", "name": "tabular_header", "argument": null, "type": "boolean", "label": "Tabular files contain a header line", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "Conditional", "name": "method_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "PLS", "inputs": [{"model_class": "Conditional", "name": "analysis_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "cvapply", "inputs": [{"model_class": "TextToolParameter", "name": "plscv_comp", "argument": null, "type": "text", "label": "The number of PLS-DA components", "help": "For cvapply multiple values are allowed (e.g. 1,2,3 or 2:5). Mininum is 1.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "1:2", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "PLS_analysis", "inputs": [{"model_class": "IntegerToolParameter", "name": "pls_comp", "argument": null, "type": "integer", "label": "The optimal number of PLS-DA components as indicated by cross-validations (minimum is 1)", "help": "Run cvApply first to optain optimal number of PLS-DA components", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "5", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "pls_scale", "argument": null, "type": "boolean", "label": "Data scaling", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "BooleanToolParameter", "name": "PLS_Yweights", "argument": null, "type": "boolean", "label": "Y weights", "help": "Y weights represent the coefficients associated with the response variables and are used to model the relationship between predictors and responses in the context of classification. They represent the importance of each response variable in predicting each component. They can be useful if you have multiple response variables.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}]}], "test_param": {"model_class": "SelectToolParameter", "name": "PLS_method", "argument": null, "type": "select", "label": "Crossvalidation or analysis", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "cvapply", "options": [["cvApply", "cvapply", true], ["PLS-DA analysis", "PLS_analysis", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "ConditionalWhen", "value": "OPLS", "inputs": [{"model_class": "Conditional", "name": "opls_analysis_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "opls_cvapply", "inputs": [{"model_class": "TextToolParameter", "name": "opls_cvcomp", "argument": null, "type": "text", "label": "The number of OPLS-DA components", "help": "For cvapply multiple values are allowed (e.g. 1,2,3 or 2:5). Minimum is 1.", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "1:2", "area": false, "datalist": []}]}, {"model_class": "ConditionalWhen", "value": "opls_analysis", "inputs": [{"model_class": "IntegerToolParameter", "name": "opls_comp", "argument": null, "type": "integer", "label": "The optimal number of OPLS-DA components as indicated by cross-validations (minimum is 1)", "help": "Run cvApply first to optain optimal number of OPLS-DA components", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "5", "area": false, "datalist": []}, {"model_class": "BooleanToolParameter", "name": "opls_scale", "argument": null, "type": "boolean", "label": "Data scaling", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}, {"model_class": "BooleanToolParameter", "name": "OPLS_Yweights", "argument": null, "type": "boolean", "label": "Y weights", "help": "Y weights represent the coefficients associated with the response variables and are used to model the relationship between predictors and responses in the context of classification. They represent the importance of each response variable in predicting each component. They can be useful if you have multiple response variables.", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}]}], "test_param": {"model_class": "SelectToolParameter", "name": "opls_method", "argument": null, "type": "select", "label": "Analysis step to perform", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "opls_cvapply", "options": [["cvApply", "opls_cvapply", true], ["OPLS-DA analysis", "opls_analysis", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "ConditionalWhen", "value": "spatialShrunkenCentroids", "inputs": [{"model_class": "Conditional", "name": "ssc_analysis_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "ssc_cvapply", "inputs": [{"model_class": "BooleanToolParameter", "name": "write_best_params", "argument": null, "type": "boolean", "label": "Write out best r and s values", "help": "Can be used to generate automatic classification workflow", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}, {"model_class": "BooleanToolParameter", "name": "ssc_cv_accuracy_plot", "argument": null, "type": "boolean", "label": "Plot CV accuracy plots on one page (=Yes) or individual pages (=No)", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}]}, {"model_class": "ConditionalWhen", "value": "ssc_analysis", "inputs": [{"model_class": "IntegerToolParameter", "name": "ssc_toplabels", "argument": null, "type": "integer", "label": "Number of toplabels (m/z features) which should be written in tabular output", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "100", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "ssc_method", "argument": null, "type": "select", "label": "Analysis step to perform", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "ssc_cvapply", "options": [["cvApply", "ssc_cvapply", true], ["spatial shrunken centroids analysis", "ssc_analysis", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "TextToolParameter", "name": "ssc_r", "argument": null, "type": "text", "label": "The spatial neighborhood radius of nearby pixels to consider (r)", "help": "For cvapply multiple values are allowed (e.g. 0,1,2,3 or 2:5)", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "2", "area": false, "datalist": []}, {"model_class": "TextToolParameter", "name": "ssc_s", "argument": null, "type": "text", "label": "The sparsity thresholding parameter by which to shrink the t-statistics (s).", "help": "For cvapply multiple values are allowed (e.g. 0,1,2 or 2:5)", "refresh_on_change": false, "optional": true, "hidden": false, "is_dynamic": false, "value": "2", "area": false, "datalist": []}, {"model_class": "SelectToolParameter", "name": "ssc_kernel_method", "argument": null, "type": "select", "label": "The method to use to calculate the spatial smoothing kernels for the embedding. The 'gaussian' method refers to spatially-aware (SA) weights, and 'adaptive' refers to spatially-aware structurally-adaptive (SASA) weights", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "adaptive", "options": [["gaussian", "gaussian", false], ["adaptive", "adaptive", true]], "display": "radio", "multiple": false, "textable": false}]}], "test_param": {"model_class": "SelectToolParameter", "name": "class_method", "argument": null, "type": "select", "label": "Select the method for classification", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "PLS", "options": [["PLS-DA", "PLS", true], ["OPLS-DA", "OPLS", false], ["spatial shrunken centroids", "spatialShrunkenCentroids", false]], "display": null, "multiple": false, "textable": false}}]}, {"model_class": "ConditionalWhen", "value": "prediction", "inputs": [{"model_class": "DataToolParameter", "name": "training_result", "argument": null, "type": "data", "label": "Result from previous classification training", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["rdata"], "edam": {"edam_formats": ["format_2333"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "Conditional", "name": "classification_type_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "PLS_classifier", "inputs": []}, {"model_class": "ConditionalWhen", "value": "OPLS_classifier", "inputs": []}, {"model_class": "ConditionalWhen", "value": "SSC_classifier", "inputs": [{"model_class": "IntegerToolParameter", "name": "predicted_toplabels", "argument": null, "type": "integer", "label": "Number of toplabels (m/z features) which should be written in tabular output", "help": "", "refresh_on_change": false, "min": null, "max": null, "optional": false, "hidden": false, "is_dynamic": false, "value": "100", "area": false, "datalist": []}]}], "test_param": {"model_class": "SelectToolParameter", "name": "classification_type", "argument": null, "type": "select", "label": "Which classification method was used", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "PLS_classifier", "options": [["PLS classifier", "PLS_classifier", true], ["OPLS classifier", "OPLS_classifier", false], ["SSC classifier", "SSC_classifier", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "new_y_values_cond", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "no_new_response", "inputs": []}, {"model_class": "ConditionalWhen", "value": "new_response", "inputs": [{"model_class": "DataToolParameter", "name": "new_response_file", "argument": null, "type": "data", "label": "Load tabular file with pixel coordinates and the new response", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": null, "extensions": ["tabular"], "edam": {"edam_formats": ["format_3475"], "edam_data": ["data_0006"]}, "multiple": false, "options": {"dce": [], "ldda": [], "hda": [], "hdca": []}, "tag": null}, {"model_class": "ColumnListParameter", "name": "column_new_x", "argument": null, "type": "data_column", "label": "Column with x values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": true, "value": null, "options": [], "display": null, "multiple": false, "textable": false, "data_ref": "new_response_file", "numerical": false}, {"model_class": "ColumnListParameter", "name": "column_new_y", "argument": null, "type": "data_column", "label": "Column with y values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": true, "value": null, "options": [], "display": null, "multiple": false, "textable": false, "data_ref": "new_response_file", "numerical": false}, {"model_class": "ColumnListParameter", "name": "column_new_response", "argument": null, "type": "data_column", "label": "Column with new response values", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": true, "value": null, "options": [], "display": null, "multiple": false, "textable": false, "data_ref": "new_response_file", "numerical": false}, {"model_class": "BooleanToolParameter", "name": "new_tabular_header", "argument": null, "type": "boolean", "label": "Tabular files contain a header line", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "TRUE", "falsevalue": "FALSE"}]}], "test_param": {"model_class": "SelectToolParameter", "name": "new_y_values", "argument": null, "type": "select", "label": "Load annotations (optional, but allows accuracy calculations)", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "no_new_response", "options": [["no", "no_new_response", true], ["use annotations", "new_response", false]], "display": null, "multiple": false, "textable": false}}]}], "test_param": {"model_class": "SelectToolParameter", "name": "type_method", "argument": null, "type": "select", "label": "Analysis step to perform", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "training", "options": [["training", "training", true], ["prediction", "prediction", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "Conditional", "name": "colour_conditional", "type": "conditional", "cases": [{"model_class": "ConditionalWhen", "value": "manual_colour", "inputs": [{"model_class": "Repeat", "name": "colours", "type": "repeat", "title": "Colours for the plots", "help": null, "default": 1, "min": 1, "max": 50.0, "inputs": [{"model_class": "ColorToolParameter", "name": "annotation_color", "argument": null, "type": "color", "label": "Colours", "help": "Numbers of colours should be the same as number of components", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "#ff00ff"}]}]}, {"model_class": "ConditionalWhen", "value": "colourpalette", "inputs": [{"model_class": "SelectToolParameter", "name": "palettes", "argument": null, "type": "select", "label": "Select a colourpalette", "help": "", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": "hue_pal()", "options": [["hue", "hue_pal()", true], ["rainbow", "rainbow", false], ["heat colors", "heat.colors", false], ["terrain colors", "terrain.colors", false], ["topo colors", "topo.colors", false], ["cm colors", "cm.colors", false]], "display": "radio", "multiple": false, "textable": false}]}], "test_param": {"model_class": "SelectToolParameter", "name": "colour_type", "argument": null, "type": "select", "label": "Choose a colour scheme", "help": "", "refresh_on_change": true, "optional": false, "hidden": false, "is_dynamic": false, "value": "colourpalette", "options": [["Colour palette", "colourpalette", true], ["Manual selection", "manual_colour", false]], "display": null, "multiple": false, "textable": false}}, {"model_class": "BooleanToolParameter", "name": "output_rdata", "argument": null, "type": "boolean", "label": "Results as .RData output", "help": "Can be used to generate a classification prediction on new data", "refresh_on_change": false, "optional": false, "hidden": false, "is_dynamic": false, "value": false, "truevalue": "true", "falsevalue": "false"}], "outputs": [{"model_class": "ToolOutput", "name": "classification_images", "format": "pdf", "label": "${tool.name} on ${on_string}: results", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": "classificationpdf.pdf", "edam_format": "format_3508", "edam_data": "data_2968", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "mzfeatures", "format": "tabular", "label": "${tool.name} on ${on_string}: features", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "pixeloutput", "format": "tabular", "label": "${tool.name} on ${on_string}: pixels", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "coefficients", "format": "tabular", "label": "${tool.name} on ${on_string}: coefficients", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "loadings_weights", "format": "tabular", "label": "${tool.name} on ${on_string}: loadings and weights", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_3475", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "best_r", "format": "txt", "label": "${tool.name} on ${on_string}:best r", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "best_s", "format": "txt", "label": "${tool.name} on ${on_string}:best s", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2330", "edam_data": "data_0006", "discover_datasets": []}, {"model_class": "ToolOutput", "name": "classification_rdata", "format": "rdata", "label": "${tool.name} on ${on_string}: results.RData", "hidden": false, "output_type": "data", "format_source": null, "default_identifier_source": "None", "metadata_source": "", "parent": null, "count": 1, "from_work_dir": null, "edam_format": "format_2333", "edam_data": "data_0006", "discover_datasets": []}], "panel_section_id": "proteomics", "panel_section_name": "Proteomics", "form_style": "regular"}